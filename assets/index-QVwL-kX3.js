(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function $v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xv={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A=Symbol.for("react.transitional.element"),vA=Symbol.for("react.fragment");function Jv(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:_A,type:t,key:i,ref:e!==void 0?e:null,props:n}}Ec.Fragment=vA;Ec.jsx=Jv;Ec.jsxs=Jv;Xv.exports=Ec;var R=Xv.exports,Wv={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d=Symbol.for("react.transitional.element"),EA=Symbol.for("react.portal"),TA=Symbol.for("react.fragment"),bA=Symbol.for("react.strict_mode"),SA=Symbol.for("react.profiler"),AA=Symbol.for("react.consumer"),wA=Symbol.for("react.context"),RA=Symbol.for("react.forward_ref"),CA=Symbol.for("react.suspense"),xA=Symbol.for("react.memo"),Zv=Symbol.for("react.lazy"),IA=Symbol.for("react.activity"),Bp=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=Bp&&t[Bp]||t["@@iterator"],typeof t=="function"?t:null)}var e0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t0=Object.assign,n0={};function Qs(t,e,n){this.props=t,this.context=e,this.refs=n0,this.updater=n||e0}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function i0(){}i0.prototype=Qs.prototype;function Xd(t,e,n){this.props=t,this.context=e,this.refs=n0,this.updater=n||e0}var Jd=Xd.prototype=new i0;Jd.constructor=Xd;t0(Jd,Qs.prototype);Jd.isPureReactComponent=!0;var Hp=Array.isArray;function Rf(){}var xe={H:null,A:null,T:null,S:null},r0=Object.prototype.hasOwnProperty;function Wd(t,e,n){var i=n.ref;return{$$typeof:$d,type:t,key:e,ref:i!==void 0?i:null,props:n}}function DA(t,e){return Wd(t.type,e,t.props)}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===$d}function OA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qp=/\/+/g;function Ch(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OA(""+t.key):e.toString(36)}function MA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Rf,Rf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Wr(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case $d:case EA:a=!0;break;case Zv:return a=t._init,Wr(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+Ch(t,0):i,Hp(r)?(n="",a!=null&&(n=a.replace(qp,"$&/")+"/"),Wr(r,e,n,"",function(c){return c})):r!=null&&(Zd(r)&&(r=DA(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(qp,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=i===""?".":i+":";if(Hp(t))for(var u=0;u<t.length;u++)i=t[u],s=l+Ch(i,u),a+=Wr(i,e,n,s,r);else if(u=NA(t),typeof u=="function")for(t=u.call(t),u=0;!(i=t.next()).done;)i=i.value,s=l+Ch(i,u++),a+=Wr(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return Wr(MA(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Al(t,e,n){if(t==null)return t;var i=[],r=0;return Wr(t,i,"","",function(s){return e.call(n,s,r++)}),i}function VA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fp=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},kA={map:Al,forEach:function(t,e,n){Al(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Al(t,function(){e++}),e},toArray:function(t){return Al(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Activity=IA;ee.Children=kA;ee.Component=Qs;ee.Fragment=TA;ee.Profiler=SA;ee.PureComponent=Xd;ee.StrictMode=bA;ee.Suspense=CA;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xe;ee.__COMPILER_RUNTIME={__proto__:null,c:function(t){return xe.H.useMemoCache(t)}};ee.cache=function(t){return function(){return t.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=t0({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!r0.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}return Wd(t.type,r,i)};ee.createContext=function(t){return t={$$typeof:wA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:AA,_context:t},t};ee.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)r0.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Wd(t,s,r)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:RA,render:t}};ee.isValidElement=Zd;ee.lazy=function(t){return{$$typeof:Zv,_payload:{_status:-1,_result:t},_init:VA}};ee.memo=function(t,e){return{$$typeof:xA,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=xe.T,n={};xe.T=n;try{var i=t(),r=xe.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Rf,Fp)}catch(s){Fp(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),xe.T=e}};ee.unstable_useCacheRefresh=function(){return xe.H.useCacheRefresh()};ee.use=function(t){return xe.H.use(t)};ee.useActionState=function(t,e,n){return xe.H.useActionState(t,e,n)};ee.useCallback=function(t,e){return xe.H.useCallback(t,e)};ee.useContext=function(t){return xe.H.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t,e){return xe.H.useDeferredValue(t,e)};ee.useEffect=function(t,e){return xe.H.useEffect(t,e)};ee.useEffectEvent=function(t){return xe.H.useEffectEvent(t)};ee.useId=function(){return xe.H.useId()};ee.useImperativeHandle=function(t,e,n){return xe.H.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return xe.H.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return xe.H.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return xe.H.useMemo(t,e)};ee.useOptimistic=function(t,e){return xe.H.useOptimistic(t,e)};ee.useReducer=function(t,e,n){return xe.H.useReducer(t,e,n)};ee.useRef=function(t){return xe.H.useRef(t)};ee.useState=function(t){return xe.H.useState(t)};ee.useSyncExternalStore=function(t,e,n){return xe.H.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return xe.H.useTransition()};ee.version="19.2.1";Wv.exports=ee;var k=Wv.exports;const jn=$v(k);var s0={exports:{}},Tc={},a0={exports:{}},o0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,K){var F=H.length;H.push(K);e:for(;0<F;){var me=F-1>>>1,pe=H[me];if(0<r(pe,K))H[me]=K,H[F]=pe,F=me;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],F=H.pop();if(F!==K){H[0]=F;e:for(var me=0,pe=H.length,rr=pe>>>1;me<rr;){var sr=2*(me+1)-1,Kr=H[sr],zt=sr+1,si=H[zt];if(0>r(Kr,F))zt<pe&&0>r(si,Kr)?(H[me]=si,H[zt]=F,me=zt):(H[me]=Kr,H[sr]=F,me=sr);else if(zt<pe&&0>r(si,F))H[me]=si,H[zt]=F,me=zt;else break e}}return K}function r(H,K){var F=H.sortIndex-K.sortIndex;return F!==0?F:H.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,m=null,g=3,p=!1,x=!1,N=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var K=n(c);K!==null;){if(K.callback===null)i(c);else if(K.startTime<=H)i(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function M(H){if(N=!1,O(H),!x)if(n(u)!==null)x=!0,z||(z=!0,S());else{var K=n(c);K!==null&&de(M,K.startTime-H)}}var z=!1,E=-1,v=5,b=-1;function C(){return D?!0:!(t.unstable_now()-b<v)}function I(){if(D=!1,z){var H=t.unstable_now();b=H;var K=!0;try{e:{x=!1,N&&(N=!1,_(E),E=-1),p=!0;var F=g;try{t:{for(O(H),m=n(u);m!==null&&!(m.expirationTime>H&&C());){var me=m.callback;if(typeof me=="function"){m.callback=null,g=m.priorityLevel;var pe=me(m.expirationTime<=H);if(H=t.unstable_now(),typeof pe=="function"){m.callback=pe,O(H),K=!0;break t}m===n(u)&&i(u),O(H)}else i(u);m=n(u)}if(m!==null)K=!0;else{var rr=n(c);rr!==null&&de(M,rr.startTime-H),K=!1}}break e}finally{m=null,g=F,p=!1}K=void 0}}finally{K?S():z=!1}}}var S;if(typeof w=="function")S=function(){w(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Y=A.port2;A.port1.onmessage=I,S=function(){Y.postMessage(null)}}else S=function(){T(I,0)};function de(H,K){E=T(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var F=g;g=K;try{return H()}finally{g=F}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=g;g=H;try{return K()}finally{g=F}},t.unstable_scheduleCallback=function(H,K,F){var me=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?me+F:me):F=me,H){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=F+pe,H={id:f++,callback:K,priorityLevel:H,startTime:F,expirationTime:pe,sortIndex:-1},F>me?(H.sortIndex=F,e(c,H),n(u)===null&&H===n(c)&&(N?(_(E),E=-1):N=!0,de(M,F-me))):(H.sortIndex=pe,e(u,H),x||p||(x=!0,z||(z=!0,S()))),H},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(H){var K=g;return function(){var F=g;g=K;try{return H.apply(this,arguments)}finally{g=F}}}})(o0);a0.exports=o0;var LA=a0.exports,l0={exports:{}},Et={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PA=k;function u0(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fi(){}var vt={d:{f:fi,r:function(){throw Error(u0(522))},D:fi,C:fi,L:fi,m:fi,X:fi,S:fi,M:fi},p:0,findDOMNode:null},UA=Symbol.for("react.portal");function jA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:UA,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Ga=PA.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function bc(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=vt;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(u0(299));return jA(t,e,null,n)};Et.flushSync=function(t){var e=Ga.T,n=vt.p;try{if(Ga.T=null,vt.p=2,t)return t()}finally{Ga.T=e,vt.p=n,vt.d.f()}};Et.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,vt.d.C(t,e))};Et.prefetchDNS=function(t){typeof t=="string"&&vt.d.D(t)};Et.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=bc(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?vt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&vt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Et.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=bc(e.as,e.crossOrigin);vt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&vt.d.M(t)};Et.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=bc(n,e.crossOrigin);vt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Et.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=bc(e.as,e.crossOrigin);vt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else vt.d.m(t)};Et.requestFormReset=function(t){vt.d.r(t)};Et.unstable_batchedUpdates=function(t,e){return t(e)};Et.useFormState=function(t,e,n){return Ga.H.useFormState(t,e,n)};Et.useFormStatus=function(){return Ga.H.useHostTransitionStatus()};Et.version="19.2.1";function c0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c0)}catch(t){console.error(t)}}c0(),l0.exports=Et;var zA=l0.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xe=LA,h0=k,BA=zA;function P(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m0(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gp(t){if(jo(t)!==t)throw Error(P(188))}function HA(t){var e=t.alternate;if(!e){if(e=jo(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Gp(r),t;if(s===i)return Gp(r),e;s=s.sibling}throw Error(P(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==i)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function g0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g0(t),e!==null)return e;t=t.sibling}return null}var Ie=Object.assign,qA=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),Va=Symbol.for("react.portal"),ss=Symbol.for("react.fragment"),p0=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),y0=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),tm=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Nf=Symbol.for("react.activity"),FA=Symbol.for("react.memo_cache_sentinel"),Kp=Symbol.iterator;function Ra(t){return t===null||typeof t!="object"?null:(t=Kp&&t[Kp]||t["@@iterator"],typeof t=="function"?t:null)}var GA=Symbol.for("react.client.reference");function Df(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===GA?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ss:return"Fragment";case Cf:return"Profiler";case p0:return"StrictMode";case xf:return"Suspense";case If:return"SuspenseList";case Nf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Va:return"Portal";case Vn:return t.displayName||"Context";case y0:return(t._context.displayName||"Context")+".Consumer";case em:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tm:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case mi:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}var ka=Array.isArray,J=h0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=BA.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_r={pending:!1,data:null,method:null,action:null},Of=[],as=-1;function wn(t){return{current:t}}function nt(t){0>as||(t.current=Of[as],Of[as]=null,as--)}function Se(t,e){as++,Of[as]=t.current,t.current=e}var pn=wn(null),fo=wn(null),Ni=wn(null),bu=wn(null);function Su(t,e){switch(Se(Ni,e),Se(fo,t),Se(pn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Wy(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Wy(e),t=PT(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(pn),Se(pn,t)}function Is(){nt(pn),nt(fo),nt(Ni)}function Mf(t){t.memoizedState!==null&&Se(bu,t);var e=pn.current,n=PT(e,t.type);e!==n&&(Se(fo,t),Se(pn,n))}function Au(t){fo.current===t&&(nt(pn),nt(fo)),bu.current===t&&(nt(bu),Ao._currentValue=_r)}var xh,Qp;function fr(t){if(xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xh=e&&e[1]||"",Qp=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xh+t+Qp}var Ih=!1;function Nh(t,e){if(!t||Ih)return"";Ih=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(p){var g=p}Reflect.construct(t,[],m)}else{try{m.call()}catch(p){g=p}t.call(m.prototype)}}else{try{throw Error()}catch(p){g=p}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(p){if(p&&g&&typeof p.stack=="string")return[p.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=i&&0<=r);break}}}finally{Ih=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?fr(n):""}function KA(t,e){switch(t.tag){case 26:case 27:case 5:return fr(t.type);case 16:return fr("Lazy");case 13:return t.child!==e&&e!==null?fr("Suspense Fallback"):fr("Suspense");case 19:return fr("SuspenseList");case 0:case 15:return Nh(t.type,!1);case 11:return Nh(t.type.render,!1);case 1:return Nh(t.type,!0);case 31:return fr("Activity");default:return""}}function Yp(t){try{var e="",n=null;do e+=KA(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Vf=Object.prototype.hasOwnProperty,nm=Xe.unstable_scheduleCallback,Dh=Xe.unstable_cancelCallback,QA=Xe.unstable_shouldYield,YA=Xe.unstable_requestPaint,Vt=Xe.unstable_now,$A=Xe.unstable_getCurrentPriorityLevel,_0=Xe.unstable_ImmediatePriority,v0=Xe.unstable_UserBlockingPriority,wu=Xe.unstable_NormalPriority,XA=Xe.unstable_LowPriority,E0=Xe.unstable_IdlePriority,JA=Xe.log,WA=Xe.unstable_setDisableYieldValue,zo=null,kt=null;function Ai(t){if(typeof JA=="function"&&WA(t),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(zo,t)}catch{}}var Lt=Math.clz32?Math.clz32:tw,ZA=Math.log,ew=Math.LN2;function tw(t){return t>>>=0,t===0?32:31-(ZA(t)/ew|0)|0}var Rl=256,Cl=262144,xl=4194304;function dr(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Sc(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=dr(i):(a&=l,a!==0?r=dr(a):n||(n=l&~t,n!==0&&(r=dr(n))))):(l=i&~s,l!==0?r=dr(l):a!==0?r=dr(a):n||(n=i&~t,n!==0&&(r=dr(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function Bo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function nw(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T0(){var t=xl;return xl<<=1,!(xl&62914560)&&(xl=4194304),t}function Oh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ho(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function iw(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Lt(n),m=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var p=g[f];p!==null&&(p.lane&=-536870913)}n&=~m}i!==0&&b0(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function b0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Lt(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function S0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Lt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function A0(t,e){var n=e&-e;return n=n&42?1:im(n),n&(t.suspendedLanes|e)?0:n}function im(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function w0(){var t=fe.p;return t!==0?t:(t=window.event,t===void 0?32:YT(t.type))}function $p(t,e){var n=fe.p;try{return fe.p=t,e()}finally{fe.p=n}}var er=Math.random().toString(36).slice(2),st="__reactFiber$"+er,Ct="__reactProps$"+er,Ys="__reactContainer$"+er,kf="__reactEvents$"+er,rw="__reactListeners$"+er,sw="__reactHandles$"+er,Xp="__reactResources$"+er,qo="__reactMarker$"+er;function sm(t){delete t[st],delete t[Ct],delete t[kf],delete t[rw],delete t[sw]}function os(t){var e=t[st];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[st]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i_(t);t!==null;){if(n=t[st])return n;t=i_(t)}return e}t=n,n=t.parentNode}return null}function $s(t){if(t=t[st]||t[Ys]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function La(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(P(33))}function _s(t){var e=t[Xp];return e||(e=t[Xp]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function et(t){t[qo]=!0}var R0=new Set,C0={};function kr(t,e){Ns(t,e),Ns(t+"Capture",e)}function Ns(t,e){for(C0[t]=e,t=0;t<e.length;t++)R0.add(e[t])}var aw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jp={},Wp={};function ow(t){return Vf.call(Wp,t)?!0:Vf.call(Jp,t)?!1:aw.test(t)?Wp[t]=!0:(Jp[t]=!0,!1)}function Ql(t,e,n){if(ow(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Il(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Cn(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lw(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lf(t){if(!t._valueTracker){var e=x0(t)?"checked":"value";t._valueTracker=lw(t,e,""+t[e])}}function I0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=x0(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var uw=/[\n"\\]/g;function Gt(t){return t.replace(uw,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Pf(t,e,n,i,r,s,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Ht(e)):t.value!==""+Ht(e)&&(t.value=""+Ht(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Uf(t,a,Ht(e)):n!=null?Uf(t,a,Ht(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Ht(l):t.removeAttribute("name")}function N0(t,e,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Lf(t);return}n=n!=null?""+Ht(n):"",e=e!=null?""+Ht(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=l?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Lf(t)}function Uf(t,e,n){e==="number"&&Ru(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function vs(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ht(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function D0(t,e,n){if(e!=null&&(e=""+Ht(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Ht(n):""}function O0(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(P(92));if(ka(i)){if(1<i.length)throw Error(P(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=Ht(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Lf(t)}function Ds(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zp(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||cw.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function M0(t,e,n){if(e!=null&&typeof e!="object")throw Error(P(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Zp(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Zp(t,s,e[s])}function am(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(t){return fw.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kn(){}var jf=null;function om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,Es=null;function ey(t){var e=$s(t);if(e&&(t=e.stateNode)){var n=t[Ct]||null;e:switch(t=e.stateNode,e.type){case"input":if(Pf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[Ct]||null;if(!r)throw Error(P(90));Pf(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&I0(i)}break e;case"textarea":D0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&vs(t,!!n.multiple,e,!1)}}}var Mh=!1;function V0(t,e,n){if(Mh)return t(e,n);Mh=!0;try{var i=t(e);return i}finally{if(Mh=!1,(ls!==null||Es!==null)&&(kc(),ls&&(e=ls,t=Es,Es=ls=null,ey(e),t)))for(e=0;e<t.length;e++)ey(t[e])}}function mo(t,e){var n=t.stateNode;if(n===null)return null;var i=n[Ct]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zf=!1;if(Kn)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){zf=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{zf=!1}var wi=null,lm=null,$l=null;function k0(){if($l)return $l;var t,e=lm,n=e.length,i,r="value"in wi?wi.value:wi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return $l=r.slice(t,1<i?1-i:void 0)}function Xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nl(){return!0}function ty(){return!1}function xt(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nl:ty,this.isPropagationStopped=ty,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),e}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=xt(Lr),Fo=Ie({},Lr,{view:0,detail:0}),dw=xt(Fo),Vh,kh,xa,wc=Ie({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:um,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Vh=t.screenX-xa.screenX,kh=t.screenY-xa.screenY):kh=Vh=0,xa=t),Vh)},movementY:function(t){return"movementY"in t?t.movementY:kh}}),ny=xt(wc),mw=Ie({},wc,{dataTransfer:0}),gw=xt(mw),pw=Ie({},Fo,{relatedTarget:0}),Lh=xt(pw),yw=Ie({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),_w=xt(yw),vw=Ie({},Lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ew=xt(vw),Tw=Ie({},Lr,{data:0}),iy=xt(Tw),bw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Aw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ww(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Aw[t])?!!e[t]:!1}function um(){return ww}var Rw=Ie({},Fo,{key:function(t){if(t.key){var e=bw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:um,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cw=xt(Rw),xw=Ie({},wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ry=xt(xw),Iw=Ie({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:um}),Nw=xt(Iw),Dw=Ie({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ow=xt(Dw),Mw=Ie({},wc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vw=xt(Mw),kw=Ie({},Lr,{newState:0,oldState:0}),Lw=xt(kw),Pw=[9,13,27,32],cm=Kn&&"CompositionEvent"in window,Ka=null;Kn&&"documentMode"in document&&(Ka=document.documentMode);var Uw=Kn&&"TextEvent"in window&&!Ka,L0=Kn&&(!cm||Ka&&8<Ka&&11>=Ka),sy=" ",ay=!1;function P0(t,e){switch(t){case"keyup":return Pw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function jw(t,e){switch(t){case"compositionend":return U0(e);case"keypress":return e.which!==32?null:(ay=!0,sy);case"textInput":return t=e.data,t===sy&&ay?null:t;default:return null}}function zw(t,e){if(us)return t==="compositionend"||!cm&&P0(t,e)?(t=k0(),$l=lm=wi=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L0&&e.locale!=="ko"?null:e.data;default:return null}}var Bw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bw[t.type]:e==="textarea"}function j0(t,e,n,i){ls?Es?Es.push(i):Es=[i]:ls=i,e=Fu(e,"onChange"),0<e.length&&(n=new Ac("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Qa=null,go=null;function Hw(t){VT(t,0)}function Rc(t){var e=La(t);if(I0(e))return t}function ly(t,e){if(t==="change")return e}var z0=!1;if(Kn){var Ph;if(Kn){var Uh="oninput"in document;if(!Uh){var uy=document.createElement("div");uy.setAttribute("oninput","return;"),Uh=typeof uy.oninput=="function"}Ph=Uh}else Ph=!1;z0=Ph&&(!document.documentMode||9<document.documentMode)}function cy(){Qa&&(Qa.detachEvent("onpropertychange",B0),go=Qa=null)}function B0(t){if(t.propertyName==="value"&&Rc(go)){var e=[];j0(e,go,t,om(t)),V0(Hw,e)}}function qw(t,e,n){t==="focusin"?(cy(),Qa=e,go=n,Qa.attachEvent("onpropertychange",B0)):t==="focusout"&&cy()}function Fw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rc(go)}function Gw(t,e){if(t==="click")return Rc(e)}function Kw(t,e){if(t==="input"||t==="change")return Rc(e)}function Qw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:Qw;function po(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Vf.call(e,r)||!Ut(t[r],e[r]))return!1}return!0}function hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fy(t,e){var n=hy(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hy(n)}}function H0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function q0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Ru(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function hm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Yw=Kn&&"documentMode"in document&&11>=document.documentMode,cs=null,Bf=null,Ya=null,Hf=!1;function dy(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hf||cs==null||cs!==Ru(i)||(i=cs,"selectionStart"in i&&hm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ya&&po(Ya,i)||(Ya=i,i=Fu(Bf,"onSelect"),0<i.length&&(e=new Ac("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=cs)))}function hr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hs={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},jh={},F0={};Kn&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Pr(t){if(jh[t])return jh[t];if(!hs[t])return t;var e=hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F0)return jh[t]=e[n];return t}var G0=Pr("animationend"),K0=Pr("animationiteration"),Q0=Pr("animationstart"),$w=Pr("transitionrun"),Xw=Pr("transitionstart"),Jw=Pr("transitioncancel"),Y0=Pr("transitionend"),$0=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function ln(t,e){$0.set(t,e),kr(e,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bt=[],fs=0,fm=0;function Cc(){for(var t=fs,e=fm=fs=0;e<t;){var n=Bt[e];Bt[e++]=null;var i=Bt[e];Bt[e++]=null;var r=Bt[e];Bt[e++]=null;var s=Bt[e];if(Bt[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&X0(n,r,s)}}function xc(t,e,n,i){Bt[fs++]=t,Bt[fs++]=e,Bt[fs++]=n,Bt[fs++]=i,fm|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function dm(t,e,n,i){return xc(t,e,n,i),xu(t)}function Ur(t,e){return xc(t,null,null,e),xu(t)}function X0(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-Lt(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function xu(t){if(50<io)throw io=0,cd=null,Error(P(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ds={};function Ww(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,i){return new Ww(t,e,n,i)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function J0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Jl(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")mm(t)&&(a=1);else if(typeof t=="string")a=i2(t,n,pn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Nf:return t=Ot(31,n,e,r),t.elementType=Nf,t.lanes=s,t;case ss:return vr(n.children,r,s,e);case p0:a=8,r|=24;break;case Cf:return t=Ot(12,n,e,r|2),t.elementType=Cf,t.lanes=s,t;case xf:return t=Ot(13,n,e,r),t.elementType=xf,t.lanes=s,t;case If:return t=Ot(19,n,e,r),t.elementType=If,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vn:a=10;break e;case y0:a=9;break e;case em:a=11;break e;case tm:a=14;break e;case mi:a=16,i=null;break e}a=29,n=Error(P(130,t===null?"null":typeof t,"")),i=null}return e=Ot(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function vr(t,e,n,i){return t=Ot(7,t,i,e),t.lanes=n,t}function zh(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function W0(t){var e=Ot(18,null,null,0);return e.stateNode=t,e}function Bh(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var my=new WeakMap;function Kt(t,e){if(typeof t=="object"&&t!==null){var n=my.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Yp(e)},my.set(t,e),e)}return{value:t,source:e,stack:Yp(e)}}var ms=[],gs=0,Iu=null,yo=0,qt=[],Ft=0,Fi=null,dn=1,mn="";function On(t,e){ms[gs++]=yo,ms[gs++]=Iu,Iu=t,yo=e}function Z0(t,e,n){qt[Ft++]=dn,qt[Ft++]=mn,qt[Ft++]=Fi,Fi=t;var i=dn;t=mn;var r=32-Lt(i)-1;i&=~(1<<r),n+=1;var s=32-Lt(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,dn=1<<32-Lt(e)+r|n<<r|i,mn=s+t}else dn=1<<s|n<<r|i,mn=t}function gm(t){t.return!==null&&(On(t,1),Z0(t,1,0))}function pm(t){for(;t===Iu;)Iu=ms[--gs],ms[gs]=null,yo=ms[--gs],ms[gs]=null;for(;t===Fi;)Fi=qt[--Ft],qt[Ft]=null,mn=qt[--Ft],qt[Ft]=null,dn=qt[--Ft],qt[Ft]=null}function eE(t,e){qt[Ft++]=dn,qt[Ft++]=mn,qt[Ft++]=Fi,dn=e.id,mn=e.overflow,Fi=t}var at=null,Re=null,ue=!1,Di=null,Qt=!1,Ff=Error(P(519));function Gi(t){var e=Error(P(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _o(Kt(e,t)),Ff}function gy(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[st]=t,e[Ct]=i,n){case"dialog":ie("cancel",e),ie("close",e);break;case"iframe":case"object":case"embed":ie("load",e);break;case"video":case"audio":for(n=0;n<bo.length;n++)ie(bo[n],e);break;case"source":ie("error",e);break;case"img":case"image":case"link":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"input":ie("invalid",e),N0(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ie("invalid",e);break;case"textarea":ie("invalid",e),O0(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||LT(e.textContent,n)?(i.popover!=null&&(ie("beforetoggle",e),ie("toggle",e)),i.onScroll!=null&&ie("scroll",e),i.onScrollEnd!=null&&ie("scrollend",e),i.onClick!=null&&(e.onclick=kn),e=!0):e=!1,e||Gi(t,!0)}function py(t){for(at=t.return;at;)switch(at.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:at=at.return}}function Xr(t){if(t!==at)return!1;if(!ue)return py(t),ue=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||gd(t.type,t.memoizedProps)),n=!n),n&&Re&&Gi(t),py(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));Re=n_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));Re=n_(t)}else e===27?(e=Re,tr(t.type)?(t=vd,vd=null,Re=t):Re=e):Re=at?Wt(t.stateNode.nextSibling):null;return!0}function Ar(){Re=at=null,ue=!1}function Hh(){var t=Di;return t!==null&&(At===null?At=t:At.push.apply(At,t),Di=null),t}function _o(t){Di===null?Di=[t]:Di.push(t)}var Gf=wn(null),jr=null,Ln=null;function pi(t,e,n){Se(Gf,e._currentValue),e._currentValue=n}function Bn(t){t._currentValue=Gf.current,nt(Gf)}function Kf(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qf(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var l=s;s=r;for(var u=0;u<e.length;u++)if(l.context===e[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kf(s.return,n,t),i||(a=null);break e}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(P(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Kf(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Xs(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(P(387));if(a=a.memoizedProps,a!==null){var l=r.type;Ut(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===bu.current){if(a=r.alternate,a===null)throw Error(P(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}r=r.return}t!==null&&Qf(e,t,n,i),e.flags|=262144}function Nu(t){for(t=t.firstContext;t!==null;){if(!Ut(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function wr(t){jr=t,Ln=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return tE(jr,t)}function Dl(t,e){return jr===null&&wr(t),tE(t,e)}function tE(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ln===null){if(t===null)throw Error(P(308));Ln=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ln=Ln.next=e;return n}var Zw=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},eR=Xe.unstable_scheduleCallback,tR=Xe.unstable_NormalPriority,qe={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ym(){return{controller:new Zw,data:new Map,refCount:0}}function Go(t){t.refCount--,t.refCount===0&&eR(tR,function(){t.controller.abort()})}var $a=null,Yf=0,Os=0,Ts=null;function nR(t,e){if($a===null){var n=$a=[];Yf=0,Os=Hm(),Ts={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Yf++,e.then(yy,yy),e}function yy(){if(--Yf===0&&$a!==null){Ts!==null&&(Ts.status="fulfilled");var t=$a;$a=null,Os=0,Ts=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function iR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var _y=J.S;J.S=function(t,e){gT=Vt(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&nR(t,e),_y!==null&&_y(t,e)};var Er=wn(null);function _m(){var t=Er.current;return t!==null?t:be.pooledCache}function Wl(t,e){e===null?Se(Er,Er.current):Se(Er,e.pool)}function nE(){var t=_m();return t===null?null:{parent:qe._currentValue,pool:t}}var Js=Error(P(460)),vm=Error(P(474)),Ic=Error(P(542)),Du={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function iE(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(kn,kn),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t;default:if(typeof e.status=="string")e.then(kn,kn);else{if(t=be,t!==null&&100<t.shellSuspendCounter)throw Error(P(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Ty(t),t}throw Tr=e,Js}}function mr(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Tr=n,Js):n}}var Tr=null;function Ey(){if(Tr===null)throw Error(P(459));var t=Tr;return Tr=null,t}function Ty(t){if(t===Js||t===Ic)throw Error(P(483))}var bs=null,vo=0;function Ol(t){var e=vo;return vo+=1,bs===null&&(bs=[]),iE(bs,t,e)}function Ia(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ml(t,e){throw e.$$typeof===qA?Error(P(525)):(t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function rE(t){function e(T,_){if(t){var w=T.deletions;w===null?(T.deletions=[_],T.flags|=16):w.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function i(T){for(var _=new Map;T!==null;)T.key!==null?_.set(T.key,T):_.set(T.index,T),T=T.sibling;return _}function r(T,_){return T=zn(T,_),T.index=0,T.sibling=null,T}function s(T,_,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<_?(T.flags|=67108866,_):w):(T.flags|=67108866,_)):(T.flags|=1048576,_)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,_,w,O){return _===null||_.tag!==6?(_=zh(w,T.mode,O),_.return=T,_):(_=r(_,w),_.return=T,_)}function u(T,_,w,O){var M=w.type;return M===ss?f(T,_,w.props.children,O,w.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mi&&mr(M)===_.type)?(_=r(_,w.props),Ia(_,w),_.return=T,_):(_=Jl(w.type,w.key,w.props,null,T.mode,O),Ia(_,w),_.return=T,_)}function c(T,_,w,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Bh(w,T.mode,O),_.return=T,_):(_=r(_,w.children||[]),_.return=T,_)}function f(T,_,w,O,M){return _===null||_.tag!==7?(_=vr(w,T.mode,O,M),_.return=T,_):(_=r(_,w),_.return=T,_)}function m(T,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=zh(""+_,T.mode,w),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return w=Jl(_.type,_.key,_.props,null,T.mode,w),Ia(w,_),w.return=T,w;case Va:return _=Bh(_,T.mode,w),_.return=T,_;case mi:return _=mr(_),m(T,_,w)}if(ka(_)||Ra(_))return _=vr(_,T.mode,w,null),_.return=T,_;if(typeof _.then=="function")return m(T,Ol(_),w);if(_.$$typeof===Vn)return m(T,Dl(T,_),w);Ml(T,_)}return null}function g(T,_,w,O){var M=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return M!==null?null:l(T,_,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return w.key===M?u(T,_,w,O):null;case Va:return w.key===M?c(T,_,w,O):null;case mi:return w=mr(w),g(T,_,w,O)}if(ka(w)||Ra(w))return M!==null?null:f(T,_,w,O,null);if(typeof w.then=="function")return g(T,_,Ol(w),O);if(w.$$typeof===Vn)return g(T,_,Dl(T,w),O);Ml(T,w)}return null}function p(T,_,w,O,M){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return T=T.get(w)||null,l(_,T,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case wl:return T=T.get(O.key===null?w:O.key)||null,u(_,T,O,M);case Va:return T=T.get(O.key===null?w:O.key)||null,c(_,T,O,M);case mi:return O=mr(O),p(T,_,w,O,M)}if(ka(O)||Ra(O))return T=T.get(w)||null,f(_,T,O,M,null);if(typeof O.then=="function")return p(T,_,w,Ol(O),M);if(O.$$typeof===Vn)return p(T,_,w,Dl(_,O),M);Ml(_,O)}return null}function x(T,_,w,O){for(var M=null,z=null,E=_,v=_=0,b=null;E!==null&&v<w.length;v++){E.index>v?(b=E,E=null):b=E.sibling;var C=g(T,E,w[v],O);if(C===null){E===null&&(E=b);break}t&&E&&C.alternate===null&&e(T,E),_=s(C,_,v),z===null?M=C:z.sibling=C,z=C,E=b}if(v===w.length)return n(T,E),ue&&On(T,v),M;if(E===null){for(;v<w.length;v++)E=m(T,w[v],O),E!==null&&(_=s(E,_,v),z===null?M=E:z.sibling=E,z=E);return ue&&On(T,v),M}for(E=i(E);v<w.length;v++)b=p(E,T,v,w[v],O),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?v:b.key),_=s(b,_,v),z===null?M=b:z.sibling=b,z=b);return t&&E.forEach(function(I){return e(T,I)}),ue&&On(T,v),M}function N(T,_,w,O){if(w==null)throw Error(P(151));for(var M=null,z=null,E=_,v=_=0,b=null,C=w.next();E!==null&&!C.done;v++,C=w.next()){E.index>v?(b=E,E=null):b=E.sibling;var I=g(T,E,C.value,O);if(I===null){E===null&&(E=b);break}t&&E&&I.alternate===null&&e(T,E),_=s(I,_,v),z===null?M=I:z.sibling=I,z=I,E=b}if(C.done)return n(T,E),ue&&On(T,v),M;if(E===null){for(;!C.done;v++,C=w.next())C=m(T,C.value,O),C!==null&&(_=s(C,_,v),z===null?M=C:z.sibling=C,z=C);return ue&&On(T,v),M}for(E=i(E);!C.done;v++,C=w.next())C=p(E,T,v,C.value,O),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?v:C.key),_=s(C,_,v),z===null?M=C:z.sibling=C,z=C);return t&&E.forEach(function(S){return e(T,S)}),ue&&On(T,v),M}function D(T,_,w,O){if(typeof w=="object"&&w!==null&&w.type===ss&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:e:{for(var M=w.key;_!==null;){if(_.key===M){if(M=w.type,M===ss){if(_.tag===7){n(T,_.sibling),O=r(_,w.props.children),O.return=T,T=O;break e}}else if(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mi&&mr(M)===_.type){n(T,_.sibling),O=r(_,w.props),Ia(O,w),O.return=T,T=O;break e}n(T,_);break}else e(T,_);_=_.sibling}w.type===ss?(O=vr(w.props.children,T.mode,O,w.key),O.return=T,T=O):(O=Jl(w.type,w.key,w.props,null,T.mode,O),Ia(O,w),O.return=T,T=O)}return a(T);case Va:e:{for(M=w.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(T,_.sibling),O=r(_,w.children||[]),O.return=T,T=O;break e}else{n(T,_);break}else e(T,_);_=_.sibling}O=Bh(w,T.mode,O),O.return=T,T=O}return a(T);case mi:return w=mr(w),D(T,_,w,O)}if(ka(w))return x(T,_,w,O);if(Ra(w)){if(M=Ra(w),typeof M!="function")throw Error(P(150));return w=M.call(w),N(T,_,w,O)}if(typeof w.then=="function")return D(T,_,Ol(w),O);if(w.$$typeof===Vn)return D(T,_,Dl(T,w),O);Ml(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,_!==null&&_.tag===6?(n(T,_.sibling),O=r(_,w),O.return=T,T=O):(n(T,_),O=zh(w,T.mode,O),O.return=T,T=O),a(T)):n(T,_)}return function(T,_,w,O){try{vo=0;var M=D(T,_,w,O);return bs=null,M}catch(E){if(E===Js||E===Ic)throw E;var z=Ot(29,E,null,T.mode);return z.lanes=O,z.return=T,z}finally{}}}var Rr=rE(!0),sE=rE(!1),gi=!1;function Em(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Oi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=xu(t),X0(t,null,n),e}return xc(t,i,e,n),xu(t)}function Xa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,S0(t,n)}}function qh(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Xf=!1;function Ja(){if(Xf){var t=Ts;if(t!==null)throw t}}function Wa(t,e,n,i){Xf=!1;var r=t.updateQueue;gi=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var m=r.baseState;a=0,f=c=u=null,l=s;do{var g=l.lane&-536870913,p=g!==l.lane;if(p?(le&g)===g:(i&g)===g){g!==0&&g===Os&&(Xf=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var x=t,N=l;g=e;var D=n;switch(N.tag){case 1:if(x=N.payload,typeof x=="function"){m=x.call(D,m,g);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,g=typeof x=="function"?x.call(D,m,g):x,g==null)break e;m=Ie({},m,g);break e;case 2:gi=!0}}g=l.callback,g!==null&&(t.flags|=64,p&&(t.flags|=8192),p=r.callbacks,p===null?r.callbacks=[g]:p.push(g))}else p={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=p,u=m):f=f.next=p,a|=g;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);f===null&&(u=m),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Qi|=a,t.lanes=a,t.memoizedState=m}}function aE(t,e){if(typeof t!="function")throw Error(P(191,t));t.call(e)}function oE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)aE(n[t],e)}var Ms=wn(null),Ou=wn(0);function by(t,e){t=Xn,Se(Ou,t),Se(Ms,e),Xn=t|e.baseLanes}function Jf(){Se(Ou,Xn),Se(Ms,Ms.current)}function Tm(){Xn=Ou.current,nt(Ms),nt(Ou)}var jt=wn(null),Jt=null;function yi(t){var e=t.alternate;Se(Ue,Ue.current&1),Se(jt,t),Jt===null&&(e===null||Ms.current!==null||e.memoizedState!==null)&&(Jt=t)}function Wf(t){Se(Ue,Ue.current),Se(jt,t),Jt===null&&(Jt=t)}function lE(t){t.tag===22?(Se(Ue,Ue.current),Se(jt,t),Jt===null&&(Jt=t)):_i()}function _i(){Se(Ue,Ue.current),Se(jt,jt.current)}function Dt(t){nt(jt),Jt===t&&(Jt=null),nt(Ue)}var Ue=wn(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yd(n)||_d(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qn=0,te=null,Ee=null,Be=null,Vu=!1,Ss=!1,Cr=!1,ku=0,Eo=0,As=null,rR=0;function ke(){throw Error(P(321))}function bm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function Sm(t,e,n,i,r,s){return Qn=s,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,J.H=t===null||t.memoizedState===null?jE:Vm,Cr=!1,s=n(i,r),Cr=!1,Ss&&(s=cE(e,n,i,r)),uE(t),s}function uE(t){J.H=To;var e=Ee!==null&&Ee.next!==null;if(Qn=0,Be=Ee=te=null,Vu=!1,Eo=0,As=null,e)throw Error(P(300));t===null||Fe||(t=t.dependencies,t!==null&&Nu(t)&&(Fe=!0))}function cE(t,e,n,i){te=t;var r=0;do{if(Ss&&(As=null),Eo=0,Ss=!1,25<=r)throw Error(P(301));if(r+=1,Be=Ee=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}J.H=zE,s=e(n,i)}while(Ss);return s}function sR(){var t=J.H,e=t.useState()[0];return e=typeof e.then=="function"?Ko(e):e,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(te.flags|=1024),e}function Am(){var t=ku!==0;return ku=0,t}function wm(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Rm(t){if(Vu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Vu=!1}Qn=0,Be=Ee=te=null,Ss=!1,Eo=ku=0,As=null}function _t(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?te.memoizedState=Be=t:Be=Be.next=t,Be}function je(){if(Ee===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Be===null?te.memoizedState:Be.next;if(e!==null)Be=e,Ee=t;else{if(t===null)throw te.alternate===null?Error(P(467)):Error(P(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Be===null?te.memoizedState=Be=t:Be=Be.next=t}return Be}function Nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var e=Eo;return Eo+=1,As===null&&(As=[]),t=iE(As,t,e),e=te,(Be===null?e.memoizedState:Be.next)===null&&(e=e.alternate,J.H=e===null||e.memoizedState===null?jE:Vm),t}function Dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===Vn)return lt(t)}throw Error(P(438,String(t)))}function Cm(t){var e=null,n=te.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=te.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Nc(),te.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=FA;return e.index++,n}function Yn(t,e){return typeof e=="function"?e(t):e}function Zl(t){var e=je();return xm(e,Ee,t)}function xm(t,e,n){var i=t.queue;if(i===null)throw Error(P(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var l=a=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(le&m)===m:(Qn&m)===m){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Os&&(f=!0);else if((Qn&g)===g){c=c.next,g===Os&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,te.lanes|=g,Qi|=g;m=c.action,Cr&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else g={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,a=s):u=u.next=g,te.lanes|=m,Qi|=m;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=l,!Ut(s,t.memoizedState)&&(Fe=!0,f&&(n=Ts,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Fh(t){var e=je(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);Ut(s,e.memoizedState)||(Fe=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function hE(t,e,n){var i=te,r=je(),s=ue;if(s){if(n===void 0)throw Error(P(407));n=n()}else n=e();var a=!Ut((Ee||r).memoizedState,n);if(a&&(r.memoizedState=n,Fe=!0),r=r.queue,Im(mE.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||Be!==null&&Be.memoizedState.tag&1){if(i.flags|=2048,Vs(9,{destroy:void 0},dE.bind(null,i,r,n,e),null),be===null)throw Error(P(349));s||Qn&127||fE(i,e,n)}return n}function fE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e=Nc(),te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dE(t,e,n,i){e.value=n,e.getSnapshot=i,gE(e)&&pE(t)}function mE(t,e,n){return n(function(){gE(e)&&pE(t)})}function gE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function pE(t){var e=Ur(t,2);e!==null&&Rt(e,t,2)}function Zf(t){var e=_t();if(typeof t=="function"){var n=t;if(t=n(),Cr){Ai(!0);try{n()}finally{Ai(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:t},e}function yE(t,e,n,i){return t.baseState=n,xm(t,Ee,typeof i=="function"?i:Yn)}function aR(t,e,n,i,r){if(Mc(t))throw Error(P(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};J.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,_E(e,s)):(s.next=n.next,e.pending=n.next=s)}}function _E(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=J.T,a={};J.T=a;try{var l=n(r,i),u=J.S;u!==null&&u(a,l),Sy(t,e,l)}catch(c){ed(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),J.T=s}}else try{s=n(r,i),Sy(t,e,s)}catch(c){ed(t,e,c)}}function Sy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ay(t,e,i)},function(i){return ed(t,e,i)}):Ay(t,e,n)}function Ay(t,e,n){e.status="fulfilled",e.value=n,vE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,_E(t,n)))}function ed(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,vE(e),e=e.next;while(e!==i)}t.action=null}function vE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function EE(t,e){return e}function wy(t,e){if(ue){var n=be.formState;if(n!==null){e:{var i=te;if(ue){if(Re){t:{for(var r=Re,s=Qt;r.nodeType!==8;){if(!s){r=null;break t}if(r=Wt(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Re=Wt(r.nextSibling),i=r.data==="F!";break e}}Gi(i)}i=!1}i&&(e=n[0])}}return n=_t(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EE,lastRenderedState:e},n.queue=i,n=LE.bind(null,te,i),i.dispatch=n,i=Zf(!1),s=Mm.bind(null,te,!1,i.queue),i=_t(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=aR.bind(null,te,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function Ry(t){var e=je();return TE(e,Ee,t)}function TE(t,e,n){if(e=xm(t,e,EE)[0],t=Zl(Yn)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ko(e)}catch(a){throw a===Js?Ic:a}else i=e;e=je();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(te.flags|=2048,Vs(9,{destroy:void 0},oR.bind(null,r,n),null)),[i,s,t]}function oR(t,e){t.action=e}function Cy(t){var e=je(),n=Ee;if(n!==null)return TE(e,n,t);je(),e=e.memoizedState,n=je();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Vs(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=te.updateQueue,e===null&&(e=Nc(),te.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function bE(){return je().memoizedState}function eu(t,e,n,i){var r=_t();te.flags|=t,r.memoizedState=Vs(1|e,{destroy:void 0},n,i===void 0?null:i)}function Oc(t,e,n,i){var r=je();i=i===void 0?null:i;var s=r.memoizedState.inst;Ee!==null&&i!==null&&bm(i,Ee.memoizedState.deps)?r.memoizedState=Vs(e,s,n,i):(te.flags|=t,r.memoizedState=Vs(1|e,s,n,i))}function xy(t,e){eu(8390656,8,t,e)}function Im(t,e){Oc(2048,8,t,e)}function lR(t){te.flags|=4;var e=te.updateQueue;if(e===null)e=Nc(),te.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function SE(t){var e=je().memoizedState;return lR({ref:e,nextImpl:t}),function(){if(he&2)throw Error(P(440));return e.impl.apply(void 0,arguments)}}function AE(t,e){return Oc(4,2,t,e)}function wE(t,e){return Oc(4,4,t,e)}function RE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CE(t,e,n){n=n!=null?n.concat([t]):null,Oc(4,4,RE.bind(null,e,t),n)}function Nm(){}function xE(t,e){var n=je();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&bm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function IE(t,e){var n=je();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&bm(e,i[1]))return i[0];if(i=t(),Cr){Ai(!0);try{t()}finally{Ai(!1)}}return n.memoizedState=[i,e],i}function Dm(t,e,n){return n===void 0||Qn&1073741824&&!(le&261930)?t.memoizedState=e:(t.memoizedState=n,t=yT(),te.lanes|=t,Qi|=t,n)}function NE(t,e,n,i){return Ut(n,e)?n:Ms.current!==null?(t=Dm(t,n,i),Ut(t,e)||(Fe=!0),t):!(Qn&42)||Qn&1073741824&&!(le&261930)?(Fe=!0,t.memoizedState=n):(t=yT(),te.lanes|=t,Qi|=t,e)}function DE(t,e,n,i,r){var s=fe.p;fe.p=s!==0&&8>s?s:8;var a=J.T,l={};J.T=l,Mm(t,!1,e,n);try{var u=r(),c=J.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=iR(u,i);Za(t,e,f,Pt(t))}else Za(t,e,i,Pt(t))}catch(m){Za(t,e,{then:function(){},status:"rejected",reason:m},Pt())}finally{fe.p=s,a!==null&&l.types!==null&&(a.types=l.types),J.T=a}}function uR(){}function td(t,e,n,i){if(t.tag!==5)throw Error(P(476));var r=OE(t).queue;DE(t,r,e,_r,n===null?uR:function(){return ME(t),n(i)})}function OE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:_r,baseState:_r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:_r},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ME(t){var e=OE(t);e.next===null&&(e=t.alternate.memoizedState),Za(t,e.next.queue,{},Pt())}function Om(){return lt(Ao)}function VE(){return je().memoizedState}function kE(){return je().memoizedState}function cR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Pt();t=Oi(n);var i=Mi(e,t,n);i!==null&&(Rt(i,e,n),Xa(i,e,n)),e={cache:ym()},t.payload=e;return}e=e.return}}function hR(t,e,n){var i=Pt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Mc(t)?PE(e,n):(n=dm(t,e,n,i),n!==null&&(Rt(n,t,i),UE(n,e,i)))}function LE(t,e,n){var i=Pt();Za(t,e,n,i)}function Za(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mc(t))PE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Ut(l,a))return xc(t,e,r,0),be===null&&Cc(),!1}catch{}finally{}if(n=dm(t,e,r,i),n!==null)return Rt(n,t,i),UE(n,e,i),!0}return!1}function Mm(t,e,n,i){if(i={lane:2,revertLane:Hm(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Mc(t)){if(e)throw Error(P(479))}else e=dm(t,n,i,2),e!==null&&Rt(e,t,2)}function Mc(t){var e=t.alternate;return t===te||e!==null&&e===te}function PE(t,e){Ss=Vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UE(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,S0(t,n)}}var To={readContext:lt,use:Dc,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};To.useEffectEvent=ke;var jE={readContext:lt,use:Dc,useCallback:function(t,e){return _t().memoizedState=[t,e===void 0?null:e],t},useContext:lt,useEffect:xy,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,eu(4194308,4,RE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eu(4194308,4,t,e)},useInsertionEffect:function(t,e){eu(4,2,t,e)},useMemo:function(t,e){var n=_t();e=e===void 0?null:e;var i=t();if(Cr){Ai(!0);try{t()}finally{Ai(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=_t();if(n!==void 0){var r=n(e);if(Cr){Ai(!0);try{n(e)}finally{Ai(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=hR.bind(null,te,t),[i.memoizedState,t]},useRef:function(t){var e=_t();return t={current:t},e.memoizedState=t},useState:function(t){t=Zf(t);var e=t.queue,n=LE.bind(null,te,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Nm,useDeferredValue:function(t,e){var n=_t();return Dm(n,t,e)},useTransition:function(){var t=Zf(!1);return t=DE.bind(null,te,t.queue,!0,!1),_t().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=te,r=_t();if(ue){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),be===null)throw Error(P(349));le&127||fE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,xy(mE.bind(null,i,s,t),[t]),i.flags|=2048,Vs(9,{destroy:void 0},dE.bind(null,i,s,n,e),null),n},useId:function(){var t=_t(),e=be.identifierPrefix;if(ue){var n=mn,i=dn;n=(i&~(1<<32-Lt(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ku++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=rR++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Om,useFormState:wy,useActionState:wy,useOptimistic:function(t){var e=_t();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Mm.bind(null,te,!0,n),n.dispatch=e,[t,e]},useMemoCache:Cm,useCacheRefresh:function(){return _t().memoizedState=cR.bind(null,te)},useEffectEvent:function(t){var e=_t(),n={impl:t};return e.memoizedState=n,function(){if(he&2)throw Error(P(440));return n.impl.apply(void 0,arguments)}}},Vm={readContext:lt,use:Dc,useCallback:xE,useContext:lt,useEffect:Im,useImperativeHandle:CE,useInsertionEffect:AE,useLayoutEffect:wE,useMemo:IE,useReducer:Zl,useRef:bE,useState:function(){return Zl(Yn)},useDebugValue:Nm,useDeferredValue:function(t,e){var n=je();return NE(n,Ee.memoizedState,t,e)},useTransition:function(){var t=Zl(Yn)[0],e=je().memoizedState;return[typeof t=="boolean"?t:Ko(t),e]},useSyncExternalStore:hE,useId:VE,useHostTransitionStatus:Om,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,e){var n=je();return yE(n,Ee,t,e)},useMemoCache:Cm,useCacheRefresh:kE};Vm.useEffectEvent=SE;var zE={readContext:lt,use:Dc,useCallback:xE,useContext:lt,useEffect:Im,useImperativeHandle:CE,useInsertionEffect:AE,useLayoutEffect:wE,useMemo:IE,useReducer:Fh,useRef:bE,useState:function(){return Fh(Yn)},useDebugValue:Nm,useDeferredValue:function(t,e){var n=je();return Ee===null?Dm(n,t,e):NE(n,Ee.memoizedState,t,e)},useTransition:function(){var t=Fh(Yn)[0],e=je().memoizedState;return[typeof t=="boolean"?t:Ko(t),e]},useSyncExternalStore:hE,useId:VE,useHostTransitionStatus:Om,useFormState:Cy,useActionState:Cy,useOptimistic:function(t,e){var n=je();return Ee!==null?yE(n,Ee,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:kE};zE.useEffectEvent=SE;function Gh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nd={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Pt(),r=Oi(i);r.payload=e,n!=null&&(r.callback=n),e=Mi(t,r,i),e!==null&&(Rt(e,t,i),Xa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Pt(),r=Oi(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Mi(t,r,i),e!==null&&(Rt(e,t,i),Xa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),i=Oi(n);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,n),e!==null&&(Rt(e,t,n),Xa(e,t,n))}};function Iy(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!po(n,i)||!po(r,s):!0}function Ny(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&nd.enqueueReplaceState(e,e.state,null)}function xr(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Ie({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function BE(t){Cu(t)}function HE(t){console.error(t)}function qE(t){Cu(t)}function Lu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Dy(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function id(t,e,n){return n=Oi(n),n.tag=3,n.payload={element:null},n.callback=function(){Lu(t,e)},n}function FE(t){return t=Oi(t),t.tag=3,t}function GE(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){Dy(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){Dy(e,n,i),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function fR(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&Xs(e,n,r,!0),n=jt.current,n!==null){switch(n.tag){case 31:case 13:return Jt===null?Bu():n.alternate===null&&Le===0&&(Le=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Du?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),nf(t,i,r)),!1;case 22:return n.flags|=65536,i===Du?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),nf(t,i,r)),!1}throw Error(P(435,n.tag))}return nf(t,i,r),Bu(),!1}if(ue)return e=jt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==Ff&&(t=Error(P(422),{cause:i}),_o(Kt(t,n)))):(i!==Ff&&(e=Error(P(423),{cause:i}),_o(Kt(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=Kt(i,n),r=id(t.stateNode,i,r),qh(t,r),Le!==4&&(Le=2)),!1;var s=Error(P(520),{cause:i});if(s=Kt(s,n),no===null?no=[s]:no.push(s),Le!==4&&(Le=2),e===null)return!0;i=Kt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=id(n.stateNode,i,t),qh(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Vi===null||!Vi.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=FE(r),GE(r,t,n,i),qh(n,r),!1}n=n.return}while(n!==null);return!1}var km=Error(P(461)),Fe=!1;function it(t,e,n,i){e.child=t===null?sE(e,null,n,i):Rr(e,t.child,n,i)}function Oy(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return wr(e),i=Sm(t,e,n,a,s,r),l=Am(),t!==null&&!Fe?(wm(t,e,r),$n(t,e,r)):(ue&&l&&gm(e),e.flags|=1,it(t,e,i,r),e.child)}function My(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!mm(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,KE(t,e,s,i,r)):(t=Jl(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Lm(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:po,n(a,i)&&t.ref===e.ref)return $n(t,e,r)}return e.flags|=1,t=zn(s,i),t.ref=e.ref,t.return=e,e.child=t}function KE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(po(s,i)&&t.ref===e.ref)if(Fe=!1,e.pendingProps=i=s,Lm(t,r))t.flags&131072&&(Fe=!0);else return e.lanes=t.lanes,$n(t,e,r)}return rd(t,e,n,i,r)}function QE(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return Vy(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wl(e,s!==null?s.cachePool:null),s!==null?by(e,s):Jf(),lE(e);else return i=e.lanes=536870912,Vy(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(Wl(e,s.cachePool),by(e,s),_i(),e.memoizedState=null):(t!==null&&Wl(e,null),Jf(),_i());return it(t,e,r,n),e.child}function Pa(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Vy(t,e,n,i,r){var s=_m();return s=s===null?null:{parent:qe._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Wl(e,null),Jf(),lE(e),t!==null&&Xs(t,e,i,!0),e.childLanes=r,null}function tu(t,e){return e=Pu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function ky(t,e,n){return Rr(e,t.child,null,n),t=tu(e,e.pendingProps),t.flags|=2,Dt(e),e.memoizedState=null,t}function dR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ue){if(i.mode==="hidden")return t=tu(e,i),e.lanes=536870912,Pa(null,t);if(Wf(e),(t=Re)?(t=jT(t,Qt),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Fi!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=W0(t),n.return=e,e.child=n,at=e,Re=null)):t=null,t===null)throw Gi(e);return e.lanes=536870912,null}return tu(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(Wf(e),r)if(e.flags&256)e.flags&=-257,e=ky(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(P(558));else if(Fe||Xs(t,e,n,!1),r=(n&t.childLanes)!==0,Fe||r){if(i=be,i!==null&&(a=A0(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Ur(t,a),Rt(i,t,a),km;Bu(),e=ky(t,e,n)}else t=s.treeContext,Re=Wt(a.nextSibling),at=e,ue=!0,Di=null,Qt=!1,t!==null&&eE(e,t),e=tu(e,i),e.flags|=4096;return e}return t=zn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function nu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(P(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function rd(t,e,n,i,r){return wr(e),n=Sm(t,e,n,i,void 0,r),i=Am(),t!==null&&!Fe?(wm(t,e,r),$n(t,e,r)):(ue&&i&&gm(e),e.flags|=1,it(t,e,n,r),e.child)}function Ly(t,e,n,i,r,s){return wr(e),e.updateQueue=null,n=cE(e,i,n,r),uE(t),i=Am(),t!==null&&!Fe?(wm(t,e,s),$n(t,e,s)):(ue&&i&&gm(e),e.flags|=1,it(t,e,n,s),e.child)}function Py(t,e,n,i,r){if(wr(e),e.stateNode===null){var s=ds,a=n.contextType;typeof a=="object"&&a!==null&&(s=lt(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nd,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},Em(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?lt(a):ds,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Gh(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&nd.enqueueReplaceState(s,s.state,null),Wa(e,i,s,r),Ja(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var l=e.memoizedProps,u=xr(n,l);s.props=u;var c=s.context,f=n.contextType;a=ds,typeof f=="object"&&f!==null&&(a=lt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&Ny(e,s,i,a),gi=!1;var g=e.memoizedState;s.state=g,Wa(e,i,s,r),Ja(),c=e.memoizedState,l||g!==c||gi?(typeof m=="function"&&(Gh(e,n,m,i),c=e.memoizedState),(u=gi||Iy(e,n,u,i,g,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,$f(t,e),a=e.memoizedProps,f=xr(n,a),s.props=f,m=e.pendingProps,g=s.context,c=n.contextType,u=ds,typeof c=="object"&&c!==null&&(u=lt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||g!==u)&&Ny(e,s,i,u),gi=!1,g=e.memoizedState,s.state=g,Wa(e,i,s,r),Ja();var p=e.memoizedState;a!==m||g!==p||gi||t!==null&&t.dependencies!==null&&Nu(t.dependencies)?(typeof l=="function"&&(Gh(e,n,l,i),p=e.memoizedState),(f=gi||Iy(e,n,f,i,g,p,u)||t!==null&&t.dependencies!==null&&Nu(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,nu(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=Rr(e,t.child,null,r),e.child=Rr(e,null,n,r)):it(t,e,n,r),e.memoizedState=s.state,t=e.child):t=$n(t,e,r),t}function Uy(t,e,n,i){return Ar(),e.flags|=256,it(t,e,n,i),e.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:nE()}}function Yh(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Mt),t}function YE(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Ue.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(ue){if(r?yi(e):_i(),(t=Re)?(t=jT(t,Qt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Fi!==null?{id:dn,overflow:mn}:null,retryLane:536870912,hydrationErrors:null},n=W0(t),n.return=e,e.child=n,at=e,Re=null)):t=null,t===null)throw Gi(e);return _d(t)?e.lanes=32:e.lanes=536870912,null}var l=i.children;return i=i.fallback,r?(_i(),r=e.mode,l=Pu({mode:"hidden",children:l},r),i=vr(i,r,n,null),l.return=e,i.return=e,l.sibling=i,e.child=l,i=e.child,i.memoizedState=Qh(n),i.childLanes=Yh(t,a,n),e.memoizedState=Kh,Pa(null,i)):(yi(e),sd(e,l))}var u=t.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(s)e.flags&256?(yi(e),e.flags&=-257,e=$h(t,e,n)):e.memoizedState!==null?(_i(),e.child=t.child,e.flags|=128,e=null):(_i(),l=i.fallback,r=e.mode,i=Pu({mode:"visible",children:i.children},r),l=vr(l,r,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Rr(e,t.child,null,n),i=e.child,i.memoizedState=Qh(n),i.childLanes=Yh(t,a,n),e.memoizedState=Kh,e=Pa(null,i));else if(yi(e),_d(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(P(419)),i.stack="",i.digest=a,_o({value:i,source:null,stack:null}),e=$h(t,e,n)}else if(Fe||Xs(t,e,n,!1),a=(n&t.childLanes)!==0,Fe||a){if(a=be,a!==null&&(i=A0(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,Ur(t,i),Rt(a,t,i),km;yd(l)||Bu(),e=$h(t,e,n)}else yd(l)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Re=Wt(l.nextSibling),at=e,ue=!0,Di=null,Qt=!1,t!==null&&eE(e,t),e=sd(e,i.children),e.flags|=4096);return e}return r?(_i(),l=i.fallback,r=e.mode,u=t.child,c=u.sibling,i=zn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?l=zn(c,l):(l=vr(l,r,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,Pa(null,i),i=e.child,l=t.child.memoizedState,l===null?l=Qh(n):(r=l.cachePool,r!==null?(u=qe._currentValue,r=r.parent!==u?{parent:u,pool:u}:r):r=nE(),l={baseLanes:l.baseLanes|n,cachePool:r}),i.memoizedState=l,i.childLanes=Yh(t,a,n),e.memoizedState=Kh,Pa(t.child,i)):(yi(e),n=t.child,t=n.sibling,n=zn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function sd(t,e){return e=Pu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Pu(t,e){return t=Ot(22,t,null,e),t.lanes=0,t}function $h(t,e,n){return Rr(e,t.child,null,n),t=sd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jy(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Kf(t.return,e,n)}function Xh(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function $E(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Ue.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Se(Ue,a),it(t,e,i,n),i=ue?yo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,n,e);else if(t.tag===19)jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Xh(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Xh(e,!0,n,null,s,i);break;case"together":Xh(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qi|=e.lanes,!(n&e.childLanes))if(t!==null){if(Xs(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Lm(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Nu(t)))}function mR(t,e,n){switch(e.tag){case 3:Su(e,e.stateNode.containerInfo),pi(e,qe,t.memoizedState.cache),Ar();break;case 27:case 5:Mf(e);break;case 4:Su(e,e.stateNode.containerInfo);break;case 10:pi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Wf(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(yi(e),e.flags|=128,null):n&e.child.childLanes?YE(t,e,n):(yi(e),t=$n(t,e,n),t!==null?t.sibling:null);yi(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(Xs(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return $E(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Se(Ue,Ue.current),i)break;return null;case 22:return e.lanes=0,QE(t,e,n,e.pendingProps);case 24:pi(e,qe,t.memoizedState.cache)}return $n(t,e,n)}function XE(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Fe=!0;else{if(!Lm(t,n)&&!(e.flags&128))return Fe=!1,mR(t,e,n);Fe=!!(t.flags&131072)}else Fe=!1,ue&&e.flags&1048576&&Z0(e,yo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=mr(e.elementType),e.type=t,typeof t=="function")mm(t)?(i=xr(t,i),e.tag=1,e=Py(null,e,t,i,n)):(e.tag=0,e=rd(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===em){e.tag=11,e=Oy(null,e,t,i,n);break e}else if(r===tm){e.tag=14,e=My(null,e,t,i,n);break e}}throw e=Df(t)||t,Error(P(306,e,""))}}return e;case 0:return rd(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=xr(i,e.pendingProps),Py(t,e,i,r,n);case 3:e:{if(Su(e,e.stateNode.containerInfo),t===null)throw Error(P(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,$f(t,e),Wa(e,i,null,n);var a=e.memoizedState;if(i=a.cache,pi(e,qe,i),i!==s.cache&&Qf(e,[qe],n,!0),Ja(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Uy(t,e,i,n);break e}else if(i!==r){r=Kt(Error(P(424)),e),_o(r),e=Uy(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Re=Wt(t.firstChild),at=e,ue=!0,Di=null,Qt=!0,n=sE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ar(),i===r){e=$n(t,e,n);break e}it(t,e,i,n)}e=e.child}return e;case 26:return nu(t,e),t===null?(n=s_(e.type,null,e.pendingProps,null))?e.memoizedState=n:ue||(n=e.type,t=e.pendingProps,i=Gu(Ni.current).createElement(n),i[st]=e,i[Ct]=t,ut(i,n,t),et(i),e.stateNode=i):e.memoizedState=s_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Mf(e),t===null&&ue&&(i=e.stateNode=zT(e.type,e.pendingProps,Ni.current),at=e,Qt=!0,r=Re,tr(e.type)?(vd=r,Re=Wt(i.firstChild)):Re=r),it(t,e,e.pendingProps.children,n),nu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ue&&((r=i=Re)&&(i=FR(i,e.type,e.pendingProps,Qt),i!==null?(e.stateNode=i,at=e,Re=Wt(i.firstChild),Qt=!1,r=!0):r=!1),r||Gi(e)),Mf(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,gd(r,s)?i=null:a!==null&&gd(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Sm(t,e,sR,null,null,n),Ao._currentValue=r),nu(t,e),it(t,e,i,n),e.child;case 6:return t===null&&ue&&((t=n=Re)&&(n=GR(n,e.pendingProps,Qt),n!==null?(e.stateNode=n,at=e,Re=null,t=!0):t=!1),t||Gi(e)),null;case 13:return YE(t,e,n);case 4:return Su(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Rr(e,null,i,n):it(t,e,i,n),e.child;case 11:return Oy(t,e,e.type,e.pendingProps,n);case 7:return it(t,e,e.pendingProps,n),e.child;case 8:return it(t,e,e.pendingProps.children,n),e.child;case 12:return it(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,pi(e,e.type,i.value),it(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,wr(e),r=lt(r),i=i(r),e.flags|=1,it(t,e,i,n),e.child;case 14:return My(t,e,e.type,e.pendingProps,n);case 15:return KE(t,e,e.type,e.pendingProps,n);case 19:return $E(t,e,n);case 31:return dR(t,e,n);case 22:return QE(t,e,n,e.pendingProps);case 24:return wr(e),i=lt(qe),t===null?(r=_m(),r===null&&(r=be,s=ym(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},Em(e),pi(e,qe,r)):(t.lanes&n&&($f(t,e),Wa(e,null,null,n),Ja()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),pi(e,qe,i)):(i=s.cache,pi(e,qe,i),i!==r.cache&&Qf(e,[qe],n,!0))),it(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(P(156,e.tag))}function xn(t){t.flags|=4}function Jh(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(ET())t.flags|=8192;else throw Tr=Du,vm}else t.flags&=-16777217}function zy(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!qT(e))if(ET())t.flags|=8192;else throw Tr=Du,vm}function Vl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?T0():536870912,t.lanes|=e,ks|=e)}function Na(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function we(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function gR(t,e,n){var i=e.pendingProps;switch(pm(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(e),null;case 1:return we(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Bn(qe),Is(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xr(e)?xn(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hh())),we(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(xn(e),s!==null?(we(e),zy(e,s)):(we(e),Jh(e,r,null,i,n))):s?s!==t.memoizedState?(xn(e),we(e),zy(e,s)):(we(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&xn(e),we(e),Jh(e,r,t,i,n)),null;case 27:if(Au(e),n=Ni.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&xn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return we(e),null}t=pn.current,Xr(e)?gy(e):(t=zT(r,i,n),e.stateNode=t,xn(e))}return we(e),null;case 5:if(Au(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&xn(e);else{if(!i){if(e.stateNode===null)throw Error(P(166));return we(e),null}if(s=pn.current,Xr(e))gy(e);else{var a=Gu(Ni.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[st]=e,s[Ct]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(ut(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xn(e)}}return we(e),Jh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&xn(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(P(166));if(t=Ni.current,Xr(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=at,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[st]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||LT(t.nodeValue,n)),t||Gi(e,!0)}else t=Gu(t).createTextNode(i),t[st]=e,e.stateNode=t}return we(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Xr(e),n!==null){if(t===null){if(!i)throw Error(P(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(557));t[st]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),t=!1}else n=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Dt(e),e):(Dt(e),null);if(e.flags&128)throw Error(P(558))}return we(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Xr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(P(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(P(317));r[st]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;we(e),r=!1}else r=Hh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Dt(e),e):(Dt(e),null)}return Dt(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Vl(e,e.updateQueue),we(e),null);case 4:return Is(),t===null&&qm(e.stateNode.containerInfo),we(e),null;case 10:return Bn(e.type),we(e),null;case 19:if(nt(Ue),i=e.memoizedState,i===null)return we(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Na(i,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Mu(t),s!==null){for(e.flags|=128,Na(i,!1),t=s.updateQueue,e.updateQueue=t,Vl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)J0(n,t),n=n.sibling;return Se(Ue,Ue.current&1|2),ue&&On(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&Vt()>ju&&(e.flags|=128,r=!0,Na(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mu(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Vl(e,t),Na(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ue)return we(e),null}else 2*Vt()-i.renderingStartTime>ju&&n!==536870912&&(e.flags|=128,r=!0,Na(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Vt(),t.sibling=null,n=Ue.current,Se(Ue,r?n&1|2:n&1),ue&&On(e,i.treeForkCount),t):(we(e),null);case 22:case 23:return Dt(e),Tm(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(we(e),e.subtreeFlags&6&&(e.flags|=8192)):we(e),n=e.updateQueue,n!==null&&Vl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&nt(Er),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Bn(qe),we(e),null;case 25:return null;case 30:return null}throw Error(P(156,e.tag))}function pR(t,e){switch(pm(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bn(qe),Is(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Au(e),null;case 31:if(e.memoizedState!==null){if(Dt(e),e.alternate===null)throw Error(P(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Dt(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(Ue),null;case 4:return Is(),null;case 10:return Bn(e.type),null;case 22:case 23:return Dt(e),Tm(),t!==null&&nt(Er),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Bn(qe),null;case 25:return null;default:return null}}function JE(t,e){switch(pm(e),e.tag){case 3:Bn(qe),Is();break;case 26:case 27:case 5:Au(e);break;case 4:Is();break;case 31:e.memoizedState!==null&&Dt(e);break;case 13:Dt(e);break;case 19:nt(Ue);break;case 10:Bn(e.type);break;case 22:case 23:Dt(e),Tm(),t!==null&&nt(Er);break;case 24:Bn(qe)}}function Qo(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){_e(e,e.return,l)}}function Ki(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var u=n,c=l;try{c()}catch(f){_e(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){_e(e,e.return,f)}}function WE(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{oE(e,n)}catch(i){_e(t,t.return,i)}}}function ZE(t,e,n){n.props=xr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){_e(t,e,i)}}function eo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){_e(t,e,r)}}function gn(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){_e(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){_e(t,e,r)}else n.current=null}function eT(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){_e(t,t.return,r)}}function Wh(t,e,n){try{var i=t.stateNode;UR(i,t.type,n,e),i[Ct]=e}catch(r){_e(t,t.return,r)}}function tT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tr(t.type)||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kn));else if(i!==4&&(i===27&&tr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}function Uu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&tr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Uu(t,e,n),t=t.sibling;t!==null;)Uu(t,e,n),t=t.sibling}function nT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);ut(e,i,n),e[st]=t,e[Ct]=n}catch(s){_e(t,t.return,s)}}var Mn=!1,He=!1,ef=!1,By=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function yR(t,e){if(t=t.containerInfo,dd=$u,t=q0(t),hm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var p;m!==n||r!==0&&m.nodeType!==3||(l=a+r),m!==s||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)g=m,m=p;for(;;){if(m===t)break t;if(g===n&&++c===r&&(l=a),g===s&&++f===i&&(u=a),(p=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(md={focusedElem:t,selectionRange:n},$u=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){switch(e=Ze,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var x=xr(n.type,r);t=i.getSnapshotBeforeUpdate(x,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(N){_e(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)pd(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(P(163))}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}}function iT(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Nn(t,n),i&4&&Qo(5,n);break;case 1:if(Nn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){_e(n,n.return,a)}else{var r=xr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){_e(n,n.return,a)}}i&64&&WE(n),i&512&&eo(n,n.return);break;case 3:if(Nn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{oE(t,e)}catch(a){_e(n,n.return,a)}}break;case 27:e===null&&i&4&&nT(n);case 26:case 5:Nn(t,n),e===null&&i&4&&eT(n),i&512&&eo(n,n.return);break;case 12:Nn(t,n);break;case 31:Nn(t,n),i&4&&aT(t,n);break;case 13:Nn(t,n),i&4&&oT(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=RR.bind(null,n),KR(t,n))));break;case 22:if(i=n.memoizedState!==null||Mn,!i){e=e!==null&&e.memoizedState!==null||He,r=Mn;var s=He;Mn=i,(He=e)&&!s?Dn(t,n,(n.subtreeFlags&8772)!==0):Nn(t,n),Mn=r,He=s}break;case 30:break;default:Nn(t,n)}}function rT(t){var e=t.alternate;e!==null&&(t.alternate=null,rT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&sm(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ne=null,St=!1;function In(t,e,n){for(n=n.child;n!==null;)sT(t,e,n),n=n.sibling}function sT(t,e,n){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(zo,n)}catch{}switch(n.tag){case 26:He||gn(n,e),In(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:He||gn(n,e);var i=Ne,r=St;tr(n.type)&&(Ne=n.stateNode,St=!1),In(t,e,n),ro(n.stateNode),Ne=i,St=r;break;case 5:He||gn(n,e);case 6:if(i=Ne,r=St,Ne=null,In(t,e,n),Ne=i,St=r,Ne!==null)if(St)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(s){_e(n,e,s)}else try{Ne.removeChild(n.stateNode)}catch(s){_e(n,e,s)}break;case 18:Ne!==null&&(St?(t=Ne,e_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),js(t)):e_(Ne,n.stateNode));break;case 4:i=Ne,r=St,Ne=n.stateNode.containerInfo,St=!0,In(t,e,n),Ne=i,St=r;break;case 0:case 11:case 14:case 15:Ki(2,n,e),He||Ki(4,n,e),In(t,e,n);break;case 1:He||(gn(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ZE(n,e,i)),In(t,e,n);break;case 21:In(t,e,n);break;case 22:He=(i=He)||n.memoizedState!==null,In(t,e,n),He=i;break;default:In(t,e,n)}}function aT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{js(t)}catch(n){_e(e,e.return,n)}}}function oT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{js(t)}catch(n){_e(e,e.return,n)}}function _R(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new By),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new By),e;default:throw Error(P(435,t.tag))}}function kl(t,e){var n=_R(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=CR.bind(null,t,i);i.then(r,r)}})}function Tt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(tr(l.type)){Ne=l.stateNode,St=!1;break e}break;case 5:Ne=l.stateNode,St=!1;break e;case 3:case 4:Ne=l.stateNode.containerInfo,St=!0;break e}l=l.return}if(Ne===null)throw Error(P(160));sT(s,a,r),Ne=null,St=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)lT(e,t),e=e.sibling}var tn=null;function lT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(e,t),bt(t),i&4&&(Ki(3,t,t.return),Qo(3,t),Ki(5,t,t.return));break;case 1:Tt(e,t),bt(t),i&512&&(He||n===null||gn(n,n.return)),i&64&&Mn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=tn;if(Tt(e,t),bt(t),i&512&&(He||n===null||gn(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[qo]||s[st]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),ut(s,i,n),s[st]=t,et(s),i=s;break e;case"link":var a=o_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;case"meta":if(a=o_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}s=r.createElement(i),ut(s,i,n),r.head.appendChild(s);break;default:throw Error(P(468,i))}s[st]=t,et(s),i=s}t.stateNode=i}else l_(r,t.type,t.stateNode);else t.stateNode=a_(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?l_(r,t.type,t.stateNode):a_(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Wh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Tt(e,t),bt(t),i&512&&(He||n===null||gn(n,n.return)),n!==null&&i&4&&Wh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Tt(e,t),bt(t),i&512&&(He||n===null||gn(n,n.return)),t.flags&32){r=t.stateNode;try{Ds(r,"")}catch(x){_e(t,t.return,x)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Wh(t,r,n!==null?n.memoizedProps:r)),i&1024&&(ef=!0);break;case 6:if(Tt(e,t),bt(t),i&4){if(t.stateNode===null)throw Error(P(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(x){_e(t,t.return,x)}}break;case 3:if(su=null,r=tn,tn=Ku(e.containerInfo),Tt(e,t),tn=r,bt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{js(e.containerInfo)}catch(x){_e(t,t.return,x)}ef&&(ef=!1,uT(t));break;case 4:i=tn,tn=Ku(t.stateNode.containerInfo),Tt(e,t),bt(t),tn=i;break;case 12:Tt(e,t),bt(t);break;case 31:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,kl(t,i)));break;case 13:Tt(e,t),bt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vc=Vt()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,kl(t,i)));break;case 22:r=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Mn,f=He;if(Mn=c||r,He=f||u,Tt(e,t),He=f,Mn=c,bt(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||u||Mn||He||gr(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(x){_e(u,u.return,x)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(x){_e(u,u.return,x)}}}else if(e.tag===18){if(n===null){u=e;try{var p=u.stateNode;r?t_(p,!0):t_(u.stateNode,!1)}catch(x){_e(u,u.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,kl(t,n))));break;case 19:Tt(e,t),bt(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,kl(t,i)));break;case 30:break;case 21:break;default:Tt(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(tT(i)){n=i;break}i=i.return}if(n==null)throw Error(P(160));switch(n.tag){case 27:var r=n.stateNode,s=Zh(t);Uu(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Ds(a,""),n.flags&=-33);var l=Zh(t);Uu(t,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Zh(t);ad(t,c,u);break;default:throw Error(P(161))}}catch(f){_e(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;uT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Nn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)iT(t,e.alternate,e),e=e.sibling}function gr(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ki(4,e,e.return),gr(e);break;case 1:gn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&ZE(e,e.return,n),gr(e);break;case 27:ro(e.stateNode);case 26:case 5:gn(e,e.return),gr(e);break;case 22:e.memoizedState===null&&gr(e);break;case 30:gr(e);break;default:gr(e)}t=t.sibling}}function Dn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Dn(r,s,n),Qo(4,s);break;case 1:if(Dn(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){_e(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)aE(u[r],l)}catch(c){_e(i,i.return,c)}}n&&a&64&&WE(s),eo(s,s.return);break;case 27:nT(s);case 26:case 5:Dn(r,s,n),n&&i===null&&a&4&&eT(s),eo(s,s.return);break;case 12:Dn(r,s,n);break;case 31:Dn(r,s,n),n&&a&4&&aT(r,s);break;case 13:Dn(r,s,n),n&&a&4&&oT(r,s);break;case 22:s.memoizedState===null&&Dn(r,s,n),eo(s,s.return);break;case 30:break;default:Dn(r,s,n)}e=e.sibling}}function Pm(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Go(n))}function Um(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Go(t))}function en(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cT(t,e,n,i),e=e.sibling}function cT(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:en(t,e,n,i),r&2048&&Qo(9,e);break;case 1:en(t,e,n,i);break;case 3:en(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Go(t)));break;case 12:if(r&2048){en(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){_e(e,e.return,u)}}else en(t,e,n,i);break;case 31:en(t,e,n,i);break;case 13:en(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?en(t,e,n,i):to(t,e):s._visibility&2?en(t,e,n,i):(s._visibility|=2,Zr(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Pm(a,e);break;case 24:en(t,e,n,i),r&2048&&Um(e.alternate,e);break;default:en(t,e,n,i)}}function Zr(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:Zr(s,a,l,u,r),Qo(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Zr(s,a,l,u,r):to(s,a):(f._visibility|=2,Zr(s,a,l,u,r)),r&&c&2048&&Pm(a.alternate,a);break;case 24:Zr(s,a,l,u,r),r&&c&2048&&Um(a.alternate,a);break;default:Zr(s,a,l,u,r)}e=e.sibling}}function to(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:to(n,i),r&2048&&Pm(i.alternate,i);break;case 24:to(n,i),r&2048&&Um(i.alternate,i);break;default:to(n,i)}e=e.sibling}}var Ua=8192;function Jr(t,e,n){if(t.subtreeFlags&Ua)for(t=t.child;t!==null;)hT(t,e,n),t=t.sibling}function hT(t,e,n){switch(t.tag){case 26:Jr(t,e,n),t.flags&Ua&&t.memoizedState!==null&&r2(n,tn,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,e,n);break;case 3:case 4:var i=tn;tn=Ku(t.stateNode.containerInfo),Jr(t,e,n),tn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ua,Ua=16777216,Jr(t,e,n),Ua=i):Jr(t,e,n));break;default:Jr(t,e,n)}}function fT(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Da(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,mT(i,t)}fT(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dT(t),t=t.sibling}function dT(t){switch(t.tag){case 0:case 11:case 15:Da(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:Da(t);break;case 12:Da(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,iu(t)):Da(t);break;default:Da(t)}}function iu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ze=i,mT(i,t)}fT(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ki(8,e,e.return),iu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,iu(e));break;default:iu(e)}t=t.sibling}}function mT(t,e){for(;Ze!==null;){var n=Ze;switch(n.tag){case 0:case 11:case 15:Ki(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Go(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ze=i;else e:for(n=t;Ze!==null;){i=Ze;var r=i.sibling,s=i.return;if(rT(i),i===n){Ze=null;break e}if(r!==null){r.return=s,Ze=r;break e}Ze=s}}}var vR={getCacheForType:function(t){var e=lt(qe),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return lt(qe).controller.signal}},ER=typeof WeakMap=="function"?WeakMap:Map,he=0,be=null,re=null,le=0,ye=0,Nt=null,Ri=!1,Ws=!1,jm=!1,Xn=0,Le=0,Qi=0,br=0,zm=0,Mt=0,ks=0,no=null,At=null,od=!1,Vc=0,gT=0,ju=1/0,zu=null,Vi=null,Qe=0,ki=null,Ls=null,Hn=0,ld=0,ud=null,pT=null,io=0,cd=null;function Pt(){return he&2&&le!==0?le&-le:J.T!==null?Hm():w0()}function yT(){if(Mt===0)if(!(le&536870912)||ue){var t=Cl;Cl<<=1,!(Cl&3932160)&&(Cl=262144),Mt=t}else Mt=536870912;return t=jt.current,t!==null&&(t.flags|=32),Mt}function Rt(t,e,n){(t===be&&(ye===2||ye===9)||t.cancelPendingCommit!==null)&&(Ps(t,0),Ci(t,le,Mt,!1)),Ho(t,n),(!(he&2)||t!==be)&&(t===be&&(!(he&2)&&(br|=n),Le===4&&Ci(t,le,Mt,!1)),Rn(t))}function _T(t,e,n){if(he&6)throw Error(P(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Bo(t,e),r=i?SR(t,e):tf(t,e,!0),s=i;do{if(r===0){Ws&&!i&&Ci(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!TR(n)){r=tf(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=no;var u=l.current.memoizedState.isDehydrated;if(u&&(Ps(l,a).flags|=256),a=tf(l,a,!1),a!==2){if(jm&&!u){l.errorRecoveryDisabledLanes|=s,br|=s,r=4;break e}s=At,At=r,s!==null&&(At===null?At=s:At.push.apply(At,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ps(t,0),Ci(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(P(345));case 4:if((e&4194048)!==e)break;case 6:Ci(i,e,Mt,!Ri);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(P(329))}if((e&62914560)===e&&(r=Vc+300-Vt(),10<r)){if(Ci(i,e,Mt,!Ri),Sc(i,0,!0)!==0)break e;Hn=e,i.timeoutHandle=UT(Hy.bind(null,i,n,At,zu,od,e,Mt,br,ks,Ri,s,"Throttled",-0,0),r);break e}Hy(i,n,At,zu,od,e,Mt,br,ks,Ri,s,null,-0,0)}}break}while(!0);Rn(t)}function Hy(t,e,n,i,r,s,a,l,u,c,f,m,g,p){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},hT(e,s,m);var x=(s&62914560)===s?Vc-Vt():(s&4194048)===s?gT-Vt():0;if(x=s2(m,x),x!==null){Hn=s,t.cancelPendingCommit=x(Fy.bind(null,t,e,s,n,i,r,a,l,u,f,m,null,g,p)),Ci(t,s,a,!c);return}}Fy(t,e,s,n,i,r,a,l,u)}function TR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Ut(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ci(t,e,n,i){e&=~zm,e&=~br,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-Lt(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&b0(t,n,e)}function kc(){return he&6?!0:(Yo(0),!1)}function Bm(){if(re!==null){if(ye===0)var t=re.return;else t=re,Ln=jr=null,Rm(t),bs=null,vo=0,t=re;for(;t!==null;)JE(t.alternate,t),t=t.return;re=null}}function Ps(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,BR(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Hn=0,Bm(),be=t,re=n=zn(t.current,null),le=e,ye=0,Nt=null,Ri=!1,Ws=Bo(t,e),jm=!1,ks=Mt=zm=br=Qi=Le=0,At=no=null,od=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Lt(i),s=1<<r;e|=t[r],i&=~s}return Xn=e,Cc(),n}function vT(t,e){te=null,J.H=To,e===Js||e===Ic?(e=Ey(),ye=3):e===vm?(e=Ey(),ye=4):ye=e===km?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Nt=e,re===null&&(Le=1,Lu(t,Kt(e,t.current)))}function ET(){var t=jt.current;return t===null?!0:(le&4194048)===le?Jt===null:(le&62914560)===le||le&536870912?t===Jt:!1}function TT(){var t=J.H;return J.H=To,t===null?To:t}function bT(){var t=J.A;return J.A=vR,t}function Bu(){Le=4,Ri||(le&4194048)!==le&&jt.current!==null||(Ws=!0),!(Qi&134217727)&&!(br&134217727)||be===null||Ci(be,le,Mt,!1)}function tf(t,e,n){var i=he;he|=2;var r=TT(),s=bT();(be!==t||le!==e)&&(zu=null,Ps(t,e)),e=!1;var a=Le;e:do try{if(ye!==0&&re!==null){var l=re,u=Nt;switch(ye){case 8:Bm(),a=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(e=!0);var c=ye;if(ye=0,Nt=null,ps(t,l,u,c),n&&Ws){a=0;break e}break;default:c=ye,ye=0,Nt=null,ps(t,l,u,c)}}bR(),a=Le;break}catch(f){vT(t,f)}while(!0);return e&&t.shellSuspendCounter++,Ln=jr=null,he=i,J.H=r,J.A=s,re===null&&(be=null,le=0,Cc()),a}function bR(){for(;re!==null;)ST(re)}function SR(t,e){var n=he;he|=2;var i=TT(),r=bT();be!==t||le!==e?(zu=null,ju=Vt()+500,Ps(t,e)):Ws=Bo(t,e);e:do try{if(ye!==0&&re!==null){e=re;var s=Nt;t:switch(ye){case 1:ye=0,Nt=null,ps(t,e,s,1);break;case 2:case 9:if(vy(s)){ye=0,Nt=null,qy(e);break}e=function(){ye!==2&&ye!==9||be!==t||(ye=7),Rn(t)},s.then(e,e);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:vy(s)?(ye=0,Nt=null,qy(e)):(ye=0,Nt=null,ps(t,e,s,7));break;case 5:var a=null;switch(re.tag){case 26:a=re.memoizedState;case 5:case 27:var l=re;if(a?qT(a):l.stateNode.complete){ye=0,Nt=null;var u=l.sibling;if(u!==null)re=u;else{var c=l.return;c!==null?(re=c,Lc(c)):re=null}break t}}ye=0,Nt=null,ps(t,e,s,5);break;case 6:ye=0,Nt=null,ps(t,e,s,6);break;case 8:Bm(),Le=6;break e;default:throw Error(P(462))}}AR();break}catch(f){vT(t,f)}while(!0);return Ln=jr=null,J.H=i,J.A=r,he=n,re!==null?0:(be=null,le=0,Cc(),Le)}function AR(){for(;re!==null&&!QA();)ST(re)}function ST(t){var e=XE(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?Lc(t):re=e}function qy(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ly(n,e,e.pendingProps,e.type,void 0,le);break;case 11:e=Ly(n,e,e.pendingProps,e.type.render,e.ref,le);break;case 5:Rm(e);default:JE(n,e),e=re=J0(e,Xn),e=XE(n,e,Xn)}t.memoizedProps=t.pendingProps,e===null?Lc(t):re=e}function ps(t,e,n,i){Ln=jr=null,Rm(e),bs=null,vo=0;var r=e.return;try{if(fR(t,r,e,n,le)){Le=1,Lu(t,Kt(n,t.current)),re=null;return}}catch(s){if(r!==null)throw re=r,s;Le=1,Lu(t,Kt(n,t.current)),re=null;return}e.flags&32768?(ue||i===1?t=!0:Ws||le&536870912?t=!1:(Ri=t=!0,(i===2||i===9||i===3||i===6)&&(i=jt.current,i!==null&&i.tag===13&&(i.flags|=16384))),AT(e,t)):Lc(e)}function Lc(t){var e=t;do{if(e.flags&32768){AT(e,Ri);return}t=e.return;var n=gR(e.alternate,e,Xn);if(n!==null){re=n;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);Le===0&&(Le=5)}function AT(t,e){do{var n=pR(t.alternate,t);if(n!==null){n.flags&=32767,re=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){re=t;return}re=t=n}while(t!==null);Le=6,re=null}function Fy(t,e,n,i,r,s,a,l,u){t.cancelPendingCommit=null;do Pc();while(Qe!==0);if(he&6)throw Error(P(327));if(e!==null){if(e===t.current)throw Error(P(177));if(s=e.lanes|e.childLanes,s|=fm,iw(t,n,s,a,l,u),t===be&&(re=be=null,le=0),Ls=e,ki=t,Hn=n,ld=s,ud=r,pT=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,xR(wu,function(){return IT(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=J.T,J.T=null,r=fe.p,fe.p=2,a=he,he|=4;try{yR(t,e,n)}finally{he=a,fe.p=r,J.T=i}}Qe=1,wT(),RT(),CT()}}function wT(){if(Qe===1){Qe=0;var t=ki,e=Ls,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=J.T,J.T=null;var i=fe.p;fe.p=2;var r=he;he|=4;try{lT(e,t);var s=md,a=q0(t.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&H0(l.ownerDocument.documentElement,l)){if(u!==null&&hm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var p=g.getSelection(),x=l.textContent.length,N=Math.min(u.start,x),D=u.end===void 0?N:Math.min(u.end,x);!p.extend&&N>D&&(a=D,D=N,N=a);var T=fy(l,N),_=fy(l,D);if(T&&_&&(p.rangeCount!==1||p.anchorNode!==T.node||p.anchorOffset!==T.offset||p.focusNode!==_.node||p.focusOffset!==_.offset)){var w=m.createRange();w.setStart(T.node,T.offset),p.removeAllRanges(),N>D?(p.addRange(w),p.extend(_.node,_.offset)):(w.setEnd(_.node,_.offset),p.addRange(w))}}}}for(m=[],p=l;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var O=m[l];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}$u=!!dd,md=dd=null}finally{he=r,fe.p=i,J.T=n}}t.current=e,Qe=2}}function RT(){if(Qe===2){Qe=0;var t=ki,e=Ls,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=J.T,J.T=null;var i=fe.p;fe.p=2;var r=he;he|=4;try{iT(t,e.alternate,e)}finally{he=r,fe.p=i,J.T=n}}Qe=3}}function CT(){if(Qe===4||Qe===3){Qe=0,YA();var t=ki,e=Ls,n=Hn,i=pT;e.subtreeFlags&10256||e.flags&10256?Qe=5:(Qe=0,Ls=ki=null,xT(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Vi=null),rm(n),e=e.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(zo,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=J.T,r=fe.p,fe.p=2,J.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{J.T=e,fe.p=r}}Hn&3&&Pc(),Rn(t),r=t.pendingLanes,n&261930&&r&42?t===cd?io++:(io=0,cd=t):io=0,Yo(0)}}function xT(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Go(e)))}function Pc(){return wT(),RT(),CT(),IT()}function IT(){if(Qe!==5)return!1;var t=ki,e=ld;ld=0;var n=rm(Hn),i=J.T,r=fe.p;try{fe.p=32>n?32:n,J.T=null,n=ud,ud=null;var s=ki,a=Hn;if(Qe=0,Ls=ki=null,Hn=0,he&6)throw Error(P(331));var l=he;if(he|=4,dT(s.current),cT(s,s.current,a,n),he=l,Yo(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(zo,s)}catch{}return!0}finally{fe.p=r,J.T=i,xT(t,e)}}function Gy(t,e,n){e=Kt(n,e),e=id(t.stateNode,e,2),t=Mi(t,e,2),t!==null&&(Ho(t,2),Rn(t))}function _e(t,e,n){if(t.tag===3)Gy(t,t,n);else for(;e!==null;){if(e.tag===3){Gy(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vi===null||!Vi.has(i))){t=Kt(n,t),n=FE(2),i=Mi(e,n,2),i!==null&&(GE(n,i,e,t),Ho(i,2),Rn(i));break}}e=e.return}}function nf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new ER;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(jm=!0,r.add(n),t=wR.bind(null,t,e,n),e.then(t,t))}function wR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,be===t&&(le&n)===n&&(Le===4||Le===3&&(le&62914560)===le&&300>Vt()-Vc?!(he&2)&&Ps(t,0):zm|=n,ks===le&&(ks=0)),Rn(t)}function NT(t,e){e===0&&(e=T0()),t=Ur(t,e),t!==null&&(Ho(t,e),Rn(t))}function RR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NT(t,n)}function CR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(P(314))}i!==null&&i.delete(e),NT(t,n)}function xR(t,e){return nm(t,e)}var Hu=null,es=null,hd=!1,qu=!1,rf=!1,xi=0;function Rn(t){t!==es&&t.next===null&&(es===null?Hu=es=t:es=es.next=t),qu=!0,hd||(hd=!0,NR())}function Yo(t,e){if(!rf&&qu){rf=!0;do for(var n=!1,i=Hu;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-Lt(42|t)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Ky(i,s))}else s=le,s=Sc(i,i===be?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Bo(i,s)||(n=!0,Ky(i,s));i=i.next}while(n);rf=!1}}function IR(){DT()}function DT(){qu=hd=!1;var t=0;xi!==0&&zR()&&(t=xi);for(var e=Vt(),n=null,i=Hu;i!==null;){var r=i.next,s=OT(i,e);s===0?(i.next=null,n===null?Hu=r:n.next=r,r===null&&(es=n)):(n=i,(t!==0||s&3)&&(qu=!0)),i=r}Qe!==0&&Qe!==5||Yo(t),xi!==0&&(xi=0)}function OT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Lt(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=nw(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}if(e=be,n=le,n=Sc(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ye===2||ye===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Dh(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Bo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Dh(i),rm(n)){case 2:case 8:n=v0;break;case 32:n=wu;break;case 268435456:n=E0;break;default:n=wu}return i=MT.bind(null,t),n=nm(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Dh(i),t.callbackPriority=2,t.callbackNode=null,2}function MT(t,e){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Pc()&&t.callbackNode!==n)return null;var i=le;return i=Sc(t,t===be?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(_T(t,i,e),OT(t,Vt()),t.callbackNode!=null&&t.callbackNode===n?MT.bind(null,t):null)}function Ky(t,e){if(Pc())return null;_T(t,e,!0)}function NR(){HR(function(){he&6?nm(_0,IR):DT()})}function Hm(){if(xi===0){var t=Os;t===0&&(t=Rl,Rl<<=1,!(Rl&261888)&&(Rl=256)),xi=t}return xi}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yl(""+t)}function Yy(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function DR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=Qy((r[Ct]||null).action),a=i.submitter;a&&(e=(e=a[Ct]||null)?Qy(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var l=new Ac("action","action",null,i,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(xi!==0){var u=a?Yy(r,a):new FormData(r);td(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?Yy(r,a):new FormData(r),td(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var sf=0;sf<qf.length;sf++){var af=qf[sf],OR=af.toLowerCase(),MR=af[0].toUpperCase()+af.slice(1);ln(OR,"on"+MR)}ln(G0,"onAnimationEnd");ln(K0,"onAnimationIteration");ln(Q0,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln($w,"onTransitionRun");ln(Xw,"onTransitionStart");ln(Jw,"onTransitionCancel");ln(Y0,"onTransitionEnd");Ns("onMouseEnter",["mouseout","mouseover"]);Ns("onMouseLeave",["mouseout","mouseover"]);Ns("onPointerEnter",["pointerout","pointerover"]);Ns("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function VT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Cu(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;s=l,r.currentTarget=c;try{s(r)}catch(f){Cu(f)}r.currentTarget=null,s=u}}}}function ie(t,e){var n=e[kf];n===void 0&&(n=e[kf]=new Set);var i=t+"__bubble";n.has(i)||(kT(e,t,2,!1),n.add(i))}function of(t,e,n){var i=0;e&&(i|=4),kT(n,t,i,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function qm(t){if(!t[Ll]){t[Ll]=!0,R0.forEach(function(n){n!=="selectionchange"&&(VR.has(n)||of(n,!1,t),of(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,of("selectionchange",!1,e))}}function kT(t,e,n,i){switch(YT(e)){case 2:var r=l2;break;case 8:r=u2;break;default:r=Qm}n=r.bind(null,e,n,t),r=void 0,!zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function lf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=os(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue e}l=l.parentNode}}i=i.return}V0(function(){var c=s,f=om(n),m=[];e:{var g=$0.get(t);if(g!==void 0){var p=Ac,x=t;switch(t){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":p=Cw;break;case"focusin":x="focus",p=Lh;break;case"focusout":x="blur",p=Lh;break;case"beforeblur":case"afterblur":p=Lh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Nw;break;case G0:case K0:case Q0:p=_w;break;case Y0:p=Ow;break;case"scroll":case"scrollend":p=dw;break;case"wheel":p=Vw;break;case"copy":case"cut":case"paste":p=Ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ry;break;case"toggle":case"beforetoggle":p=Lw}var N=(e&4)!==0,D=!N&&(t==="scroll"||t==="scrollend"),T=N?g!==null?g+"Capture":null:g;N=[];for(var _=c,w;_!==null;){var O=_;if(w=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||w===null||T===null||(O=mo(_,T),O!=null&&N.push(So(_,O,w))),D)break;_=_.return}0<N.length&&(g=new p(g,x,null,n,f),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==jf&&(x=n.relatedTarget||n.fromElement)&&(os(x)||x[Ys]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?os(x):null,x!==null&&(D=jo(x),N=x.tag,x!==D||N!==5&&N!==27&&N!==6)&&(x=null)):(p=null,x=c),p!==x)){if(N=ny,O="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=ry,O="onPointerLeave",T="onPointerEnter",_="pointer"),D=p==null?g:La(p),w=x==null?g:La(x),g=new N(O,_+"leave",p,n,f),g.target=D,g.relatedTarget=w,O=null,os(f)===c&&(N=new N(T,_+"enter",x,n,f),N.target=w,N.relatedTarget=D,O=N),D=O,p&&x)t:{for(N=kR,T=p,_=x,w=0,O=T;O;O=N(O))w++;O=0;for(var M=_;M;M=N(M))O++;for(;0<w-O;)T=N(T),w--;for(;0<O-w;)_=N(_),O--;for(;w--;){if(T===_||_!==null&&T===_.alternate){N=T;break t}T=N(T),_=N(_)}N=null}else N=null;p!==null&&$y(m,g,p,N,!1),x!==null&&D!==null&&$y(m,D,x,N,!0)}}e:{if(g=c?La(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var z=ly;else if(oy(g))if(z0)z=Kw;else{z=Fw;var E=qw}else p=g.nodeName,!p||p.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&am(c.elementType)&&(z=ly):z=Gw;if(z&&(z=z(t,c))){j0(m,z,n,f);break e}E&&E(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&Uf(g,"number",g.value)}switch(E=c?La(c):window,t){case"focusin":(oy(E)||E.contentEditable==="true")&&(cs=E,Bf=c,Ya=null);break;case"focusout":Ya=Bf=cs=null;break;case"mousedown":Hf=!0;break;case"contextmenu":case"mouseup":case"dragend":Hf=!1,dy(m,n,f);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":dy(m,n,f)}var v;if(cm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else us?P0(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(L0&&n.locale!=="ko"&&(us||b!=="onCompositionStart"?b==="onCompositionEnd"&&us&&(v=k0()):(wi=f,lm="value"in wi?wi.value:wi.textContent,us=!0)),E=Fu(c,b),0<E.length&&(b=new iy(b,t,null,n,f),m.push({event:b,listeners:E}),v?b.data=v:(v=U0(n),v!==null&&(b.data=v)))),(v=Uw?jw(t,n):zw(t,n))&&(b=Fu(c,"onBeforeInput"),0<b.length&&(E=new iy("onBeforeInput","beforeinput",null,n,f),m.push({event:E,listeners:b}),E.data=v)),DR(m,t,c,n,f)}VT(m,e)})}function So(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=mo(t,n),r!=null&&i.unshift(So(t,r,s)),r=mo(t,e),r!=null&&i.push(So(t,r,s))),t.tag===3)return i;t=t.return}return[]}function kR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $y(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=mo(n,s),c!=null&&a.unshift(So(n,c,u))):r||(c=mo(n,s),c!=null&&a.push(So(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var LR=/\r\n?/g,PR=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(LR,`
`).replace(PR,"")}function LT(t,e){return e=Xy(e),Xy(t)===e}function ve(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Ds(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Ds(t,""+i);break;case"className":Il(t,"class",i);break;case"tabIndex":Il(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Il(t,n,i);break;case"style":M0(t,i,s);break;case"data":if(e!=="object"){Il(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Yl(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ve(t,e,"name",r.name,r,null),ve(t,e,"formEncType",r.formEncType,r,null),ve(t,e,"formMethod",r.formMethod,r,null),ve(t,e,"formTarget",r.formTarget,r,null)):(ve(t,e,"encType",r.encType,r,null),ve(t,e,"method",r.method,r,null),ve(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Yl(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=kn);break;case"onScroll":i!=null&&ie("scroll",t);break;case"onScrollEnd":i!=null&&ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Yl(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":ie("beforetoggle",t),ie("toggle",t),Ql(t,"popover",i);break;case"xlinkActuate":Cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Cn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Cn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Cn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Cn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ql(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=hw.get(n)||n,Ql(t,n,i))}}function fd(t,e,n,i,r,s){switch(n){case"style":M0(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(P(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(P(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Ds(t,i):(typeof i=="number"||typeof i=="bigint")&&Ds(t,""+i);break;case"onScroll":i!=null&&ie("scroll",t);break;case"onScrollEnd":i!=null&&ie("scrollend",t);break;case"onClick":i!=null&&(t.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!C0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[Ct]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Ql(t,n,i)}}}function ut(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",t),ie("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ve(t,e,s,a,n,null)}}r&&ve(t,e,"srcSet",n.srcSet,n,null),i&&ve(t,e,"src",n.src,n,null);return;case"input":ie("invalid",t);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(P(137,e));break;default:ve(t,e,i,f,n,null)}}N0(t,s,l,u,c,a,r,!1);return;case"select":ie("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:ve(t,e,r,l,n,null)}e=s,n=a,t.multiple=!!i,e!=null?vs(t,!!i,e,!1):n!=null&&vs(t,!!i,n,!0);return;case"textarea":ie("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(P(91));break;default:ve(t,e,a,l,n,null)}O0(t,i,r,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ve(t,e,u,i,n,null)}return;case"dialog":ie("beforetoggle",t),ie("toggle",t),ie("cancel",t),ie("close",t);break;case"iframe":case"object":ie("load",t);break;case"video":case"audio":for(i=0;i<bo.length;i++)ie(bo[i],t);break;case"image":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"embed":case"source":case"link":ie("error",t),ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(P(137,e));default:ve(t,e,c,i,n,null)}return;default:if(am(e)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&fd(t,e,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&ve(t,e,l,i,n,null))}function UR(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&m!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(p)||ve(t,e,p,null,i,m)}}for(var g in i){var p=i[g];if(m=n[g],i.hasOwnProperty(g)&&(p!=null||m!=null))switch(g){case"type":s=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":f=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(P(137,e));break;default:p!==m&&ve(t,e,g,p,i,m)}}Pf(t,a,l,u,c,f,s,r);return;case"select":p=a=l=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(s)||ve(t,e,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":g=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&ve(t,e,r,s,i,u)}e=l,n=a,i=p,g!=null?vs(t,!!n,g,!1):!!i!=!!n&&(e!=null?vs(t,!!n,e,!0):vs(t,!!n,n?[]:"",!1));return;case"textarea":p=g=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:ve(t,e,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":g=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(P(91));break;default:r!==s&&ve(t,e,a,r,i,s)}D0(t,g,p);return;case"option":for(var x in n)if(g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:ve(t,e,x,null,i,g)}for(u in i)if(g=i[u],p=n[u],i.hasOwnProperty(u)&&g!==p&&(g!=null||p!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ve(t,e,u,g,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)g=n[N],n.hasOwnProperty(N)&&g!=null&&!i.hasOwnProperty(N)&&ve(t,e,N,null,i,g);for(c in i)if(g=i[c],p=n[c],i.hasOwnProperty(c)&&g!==p&&(g!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(P(137,e));break;default:ve(t,e,c,g,i,p)}return;default:if(am(e)){for(var D in n)g=n[D],n.hasOwnProperty(D)&&g!==void 0&&!i.hasOwnProperty(D)&&fd(t,e,D,void 0,i,g);for(f in i)g=i[f],p=n[f],!i.hasOwnProperty(f)||g===p||g===void 0&&p===void 0||fd(t,e,f,g,i,p);return}}for(var T in n)g=n[T],n.hasOwnProperty(T)&&g!=null&&!i.hasOwnProperty(T)&&ve(t,e,T,null,i,g);for(m in i)g=i[m],p=n[m],!i.hasOwnProperty(m)||g===p||g==null&&p==null||ve(t,e,m,g,i,p)}function Jy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jR(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,l=r.duration;if(s&&l&&Jy(a)){for(a=0,l=r.responseEnd,i+=1;i<n.length;i++){var u=n[i],c=u.startTime;if(c>l)break;var f=u.transferSize,m=u.initiatorType;f&&Jy(m)&&(u=u.responseEnd,a+=f*(u<l?1:(l-c)/(u-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function Wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function PT(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function gd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uf=null;function zR(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var UT=typeof setTimeout=="function"?setTimeout:void 0,BR=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,HR=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(t){return Zy.resolve(null).then(t).catch(qR)}:UT;function qR(t){setTimeout(function(){throw t})}function tr(t){return t==="head"}function e_(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),js(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")ro(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,ro(n);for(var s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[qo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&ro(t.ownerDocument.body);n=r}while(n);js(e)}function t_(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function pd(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":pd(n),sm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function FR(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[qo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Wt(t.nextSibling),t===null)break}return null}function GR(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wt(t.nextSibling),t===null))return null;return t}function jT(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Wt(t.nextSibling),t===null))return null;return t}function yd(t){return t.data==="$?"||t.data==="$~"}function _d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function KR(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var vd=null;function n_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Wt(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function i_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function zT(t,e,n){switch(e=Gu(n),t){case"html":if(t=e.documentElement,!t)throw Error(P(452));return t;case"head":if(t=e.head,!t)throw Error(P(453));return t;case"body":if(t=e.body,!t)throw Error(P(454));return t;default:throw Error(P(451))}}function ro(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);sm(t)}var Zt=new Map,r_=new Set;function Ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ni=fe.d;fe.d={f:QR,r:YR,D:$R,C:XR,L:JR,m:WR,X:e2,S:ZR,M:t2};function QR(){var t=ni.f(),e=kc();return t||e}function YR(t){var e=$s(t);e!==null&&e.tag===5&&e.type==="form"?ME(e):ni.r(t)}var Zs=typeof document>"u"?null:document;function BT(t,e,n){var i=Zs;if(i&&typeof e=="string"&&e){var r=Gt(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),r_.has(r)||(r_.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),ut(e,"link",t),et(e),i.head.appendChild(e)))}}function $R(t){ni.D(t),BT("dns-prefetch",t,null)}function XR(t,e){ni.C(t,e),BT("preconnect",t,e)}function JR(t,e,n){ni.L(t,e,n);var i=Zs;if(i&&t&&e){var r='link[rel="preload"][as="'+Gt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Gt(n.imageSizes)+'"]')):r+='[href="'+Gt(t)+'"]';var s=r;switch(e){case"style":s=Us(t);break;case"script":s=ea(t)}Zt.has(s)||(t=Ie({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Zt.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector($o(s))||e==="script"&&i.querySelector(Xo(s))||(e=i.createElement("link"),ut(e,"link",t),et(e),i.head.appendChild(e)))}}function WR(t,e){ni.m(t,e);var n=Zs;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Gt(i)+'"][href="'+Gt(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=ea(t)}if(!Zt.has(s)&&(t=Ie({rel:"modulepreload",href:t},e),Zt.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xo(s)))return}i=n.createElement("link"),ut(i,"link",t),et(i),n.head.appendChild(i)}}}function ZR(t,e,n){ni.S(t,e,n);var i=Zs;if(i&&t){var r=_s(i).hoistableStyles,s=Us(t);e=e||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector($o(s)))l.loading=5;else{t=Ie({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Zt.get(s))&&Fm(t,n);var u=a=i.createElement("link");et(u),ut(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ru(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function e2(t,e){ni.X(t,e);var n=Zs;if(n&&t){var i=_s(n).hoistableScripts,r=ea(t),s=i.get(r);s||(s=n.querySelector(Xo(r)),s||(t=Ie({src:t,async:!0},e),(e=Zt.get(r))&&Gm(t,e),s=n.createElement("script"),et(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function t2(t,e){ni.M(t,e);var n=Zs;if(n&&t){var i=_s(n).hoistableScripts,r=ea(t),s=i.get(r);s||(s=n.querySelector(Xo(r)),s||(t=Ie({src:t,async:!0,type:"module"},e),(e=Zt.get(r))&&Gm(t,e),s=n.createElement("script"),et(s),ut(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function s_(t,e,n,i){var r=(r=Ni.current)?Ku(r):null;if(!r)throw Error(P(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Us(n.href),n=_s(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Us(n.href);var s=_s(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector($o(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Zt.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Zt.set(t,n),s||n2(r,t,n,a.state))),e&&i===null)throw Error(P(528,""));return a}if(e&&i!==null)throw Error(P(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ea(n),n=_s(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(P(444,t))}}function Us(t){return'href="'+Gt(t)+'"'}function $o(t){return'link[rel="stylesheet"]['+t+"]"}function HT(t){return Ie({},t,{"data-precedence":t.precedence,precedence:null})}function n2(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),ut(e,"link",n),et(e),t.head.appendChild(e))}function ea(t){return'[src="'+Gt(t)+'"]'}function Xo(t){return"script[async]"+t}function a_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Gt(n.href)+'"]');if(i)return e.instance=i,et(i),i;var r=Ie({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),et(i),ut(i,"style",r),ru(i,n.precedence,t),e.instance=i;case"stylesheet":r=Us(n.href);var s=t.querySelector($o(r));if(s)return e.state.loading|=4,e.instance=s,et(s),s;i=HT(n),(r=Zt.get(r))&&Fm(i,r),s=(t.ownerDocument||t).createElement("link"),et(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ut(s,"link",i),e.state.loading|=4,ru(s,n.precedence,t),e.instance=s;case"script":return s=ea(n.src),(r=t.querySelector(Xo(s)))?(e.instance=r,et(r),r):(i=n,(r=Zt.get(s))&&(i=Ie({},n),Gm(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),et(r),ut(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(P(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,ru(i,n.precedence,t));return e.instance}function ru(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===e)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Fm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gm(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var su=null;function o_(t,e,n){if(su===null){var i=new Map,r=su=new Map;r.set(n,i)}else r=su,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[qo]||s[st]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function l_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function i2(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function qT(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function r2(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Us(i.href),s=e.querySelector($o(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Qu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,et(s);return}s=e.ownerDocument||e,i=HT(i),(r=Zt.get(r))&&Fm(i,r),s=s.createElement("link"),et(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),ut(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Qu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var cf=0;function s2(t,e){return t.stylesheets&&t.count===0&&au(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&au(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&cf===0&&(cf=62500*jR());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&au(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>cf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Qu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)au(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yu=null;function au(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yu=new Map,e.forEach(a2,t),Yu=null,Qu.call(t))}function a2(t,e){if(!(e.state.loading&4)){var n=Yu.get(t);if(n)var i=n.get(null);else{n=new Map,Yu.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=Qu.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Ao={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:_r,_currentValue2:_r,_threadCount:0};function o2(t,e,n,i,r,s,a,l,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.hiddenUpdates=Oh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function FT(t,e,n,i,r,s,a,l,u,c,f,m){return t=new o2(t,e,n,a,u,c,f,m,l),e=1,s===!0&&(e|=24),s=Ot(3,null,null,e),t.current=s,s.stateNode=t,e=ym(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},Em(s),t}function GT(t){return t?(t=ds,t):ds}function KT(t,e,n,i,r,s){r=GT(r),i.context===null?i.context=r:i.pendingContext=r,i=Oi(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Mi(t,i,e),n!==null&&(Rt(n,t,e),Xa(n,t,e))}function u_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Km(t,e){u_(t,e),(t=t.alternate)&&u_(t,e)}function QT(t){if(t.tag===13||t.tag===31){var e=Ur(t,67108864);e!==null&&Rt(e,t,67108864),Km(t,67108864)}}function c_(t){if(t.tag===13||t.tag===31){var e=Pt();e=im(e);var n=Ur(t,e);n!==null&&Rt(n,t,e),Km(t,e)}}var $u=!0;function l2(t,e,n,i){var r=J.T;J.T=null;var s=fe.p;try{fe.p=2,Qm(t,e,n,i)}finally{fe.p=s,J.T=r}}function u2(t,e,n,i){var r=J.T;J.T=null;var s=fe.p;try{fe.p=8,Qm(t,e,n,i)}finally{fe.p=s,J.T=r}}function Qm(t,e,n,i){if($u){var r=Ed(i);if(r===null)lf(t,e,i,Xu,n),h_(t,i);else if(h2(r,t,e,n,i))i.stopPropagation();else if(h_(t,i),e&4&&-1<c2.indexOf(t)){for(;r!==null;){var s=$s(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=dr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Lt(a);l.entanglements[1]|=u,a&=~u}Rn(s),!(he&6)&&(ju=Vt()+500,Yo(0))}}break;case 31:case 13:l=Ur(s,2),l!==null&&Rt(l,s,2),kc(),Km(s,2)}if(s=Ed(i),s===null&&lf(t,e,i,Xu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else lf(t,e,i,null,n)}}function Ed(t){return t=om(t),Ym(t)}var Xu=null;function Ym(t){if(Xu=null,t=os(t),t!==null){var e=jo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=d0(e),t!==null)return t;t=null}else if(n===31){if(t=m0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Xu=t,null}function YT(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($A()){case _0:return 2;case v0:return 8;case wu:case XA:return 32;case E0:return 268435456;default:return 32}default:return 32}}var Td=!1,Li=null,Pi=null,Ui=null,wo=new Map,Ro=new Map,vi=[],c2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function h_(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":wo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(e.pointerId)}}function Oa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=$s(e),e!==null&&QT(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function h2(t,e,n,i,r){switch(e){case"focusin":return Li=Oa(Li,t,e,n,i,r),!0;case"dragenter":return Pi=Oa(Pi,t,e,n,i,r),!0;case"mouseover":return Ui=Oa(Ui,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return wo.set(s,Oa(wo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ro.set(s,Oa(Ro.get(s)||null,t,e,n,i,r)),!0}return!1}function $T(t){var e=os(t.target);if(e!==null){var n=jo(e);if(n!==null){if(e=n.tag,e===13){if(e=d0(n),e!==null){t.blockedOn=e,$p(t.priority,function(){c_(n)});return}}else if(e===31){if(e=m0(n),e!==null){t.blockedOn=e,$p(t.priority,function(){c_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ou(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ed(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);jf=i,n.target.dispatchEvent(i),jf=null}else return e=$s(n),e!==null&&QT(e),t.blockedOn=n,!1;e.shift()}return!0}function f_(t,e,n){ou(t)&&n.delete(e)}function f2(){Td=!1,Li!==null&&ou(Li)&&(Li=null),Pi!==null&&ou(Pi)&&(Pi=null),Ui!==null&&ou(Ui)&&(Ui=null),wo.forEach(f_),Ro.forEach(f_)}function Pl(t,e){t.blockedOn===e&&(t.blockedOn=null,Td||(Td=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,f2)))}var Ul=null;function d_(t){Ul!==t&&(Ul=t,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,function(){Ul===t&&(Ul=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(Ym(i||n)===null)continue;break}var s=$s(n);s!==null&&(t.splice(e,3),e-=3,td(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function js(t){function e(u){return Pl(u,t)}Li!==null&&Pl(Li,t),Pi!==null&&Pl(Pi,t),Ui!==null&&Pl(Ui,t),wo.forEach(e),Ro.forEach(e);for(var n=0;n<vi.length;n++){var i=vi[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<vi.length&&(n=vi[0],n.blockedOn===null);)$T(n),n.blockedOn===null&&vi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Ct]||null;if(typeof s=="function")a||d_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Ct]||null)l=a.formAction;else if(Ym(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),d_(n)}}}function XT(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function $m(t){this._internalRoot=t}Uc.prototype.render=$m.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));var n=e.current,i=Pt();KT(n,i,t,e,null,null)};Uc.prototype.unmount=$m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;KT(t.current,2,null,t,null,null),kc(),e[Ys]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var e=w0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vi.length&&e!==0&&e<vi[n].priority;n++);vi.splice(n,0,t),n===0&&$T(t)}};var m_=h0.version;if(m_!=="19.2.1")throw Error(P(527,m_,"19.2.1"));fe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=HA(e),t=t!==null?g0(t):null,t=t===null?null:t.stateNode,t};var d2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{zo=jl.inject(d2),kt=jl}catch{}}Tc.createRoot=function(t,e){if(!f0(t))throw Error(P(299));var n=!1,i="",r=BE,s=HE,a=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=FT(t,1,!1,null,null,n,i,null,r,s,a,XT),t[Ys]=e.current,qm(t),new $m(e)};Tc.hydrateRoot=function(t,e,n){if(!f0(t))throw Error(P(299));var i=!1,r="",s=BE,a=HE,l=qE,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=FT(t,1,!0,e,n??null,i,r,u,s,a,l,XT),e.context=GT(null),n=e.current,i=Pt(),i=im(i),r=Oi(i),r.callback=null,Mi(n,r,i),n=i,e.current.lanes=n,Ho(e,n),Rn(e),t[Ys]=e.current,qm(t),new Uc(e)};Tc.version="19.2.1";function JT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JT)}catch(t){console.error(t)}}JT(),s0.exports=Tc;var m2=s0.exports;const g2=$v(m2),jc=k.createContext(null);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g_="popstate";function p2(t={}){function e(i,r){let{pathname:s,search:a,hash:l}=i.location;return bd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Co(r)}return _2(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y2(){return Math.random().toString(36).substring(2,10)}function p_(t,e){return{usr:t.state,key:t.key,idx:e}}function bd(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ta(e):e,state:n,key:e&&e.key||i||y2()}}function Co({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function _2(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function m(){l="POP";let D=f(),T=D==null?null:D-c;c=D,u&&u({action:l,location:N.location,delta:T})}function g(D,T){l="PUSH";let _=bd(N.location,D,T);c=f()+1;let w=p_(_,c),O=N.createHref(_);try{a.pushState(w,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(O)}s&&u&&u({action:l,location:N.location,delta:1})}function p(D,T){l="REPLACE";let _=bd(N.location,D,T);c=f();let w=p_(_,c),O=N.createHref(_);a.replaceState(w,"",O),s&&u&&u({action:l,location:N.location,delta:0})}function x(D){return v2(D)}let N={get action(){return l},get location(){return t(r,a)},listen(D){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(g_,m),u=D,()=>{r.removeEventListener(g_,m),u=null}},createHref(D){return e(r,D)},createURL:x,encodeLocation(D){let T=x(D);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:p,go(D){return a.go(D)}};return N}function v2(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Oe(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Co(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function WT(t,e,n="/"){return E2(t,e,n,!1)}function E2(t,e,n,i){let r=typeof e=="string"?ta(e):e,s=Jn(r.pathname||"/",n);if(s==null)return null;let a=ZT(t);T2(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=O2(s);l=N2(a[u],c,i)}return l}function ZT(t,e=[],n=[],i="",r=!1){let s=(a,l,u=r,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;Oe(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let m=qn([i,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(Oe(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ZT(a.children,e,g,m,u)),!(a.path==null&&!a.index)&&e.push({path:m,score:x2(m,a.index),routesMeta:g})};return t.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))s(a,l);else for(let c of eb(a.path))s(a,l,!0,c)}),e}function eb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=eb(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function T2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var b2=/^:[\w-]+$/,S2=3,A2=2,w2=1,R2=10,C2=-2,y_=t=>t==="*";function x2(t,e){let n=t.split("/"),i=n.length;return n.some(y_)&&(i+=C2),e&&(i+=A2),n.filter(r=>!y_(r)).reduce((r,s)=>r+(b2.test(s)?S2:s===""?w2:R2),i)}function I2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function N2(t,e,n=!1){let{routesMeta:i}=t,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=Ju({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!i[i.length-1].route.index&&(m=Ju({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),a.push({params:r,pathname:qn([s,m.pathname]),pathnameBase:P2(qn([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=qn([s,m.pathnameBase]))}return a}function Ju(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=D2(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:m},g)=>{if(f==="*"){let x=l[g]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const p=l[g];return m&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function D2(t,e=!1,n=!0){sn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function O2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var M2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V2=t=>M2.test(t);function k2(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ta(t):t,s;if(n)if(V2(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?s=__(n.substring(1),"/"):s=__(n,e)}else s=e;return{pathname:s,search:U2(i),hash:j2(r)}}function __(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function hf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tb(t){let e=L2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function nb(t,e,n,i=!1){let r;typeof t=="string"?r=ta(t):(r={...t},Oe(!r.pathname||!r.pathname.includes("?"),hf("?","pathname","search",r)),Oe(!r.pathname||!r.pathname.includes("#"),hf("#","pathname","hash",r)),Oe(!r.search||!r.search.includes("#"),hf("#","search","hash",r)));let s=t===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!i&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=k2(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var qn=t=>t.join("/").replace(/\/\/+/g,"/"),P2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function B2(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ib=["POST","PUT","PATCH","DELETE"];new Set(ib);var H2=["GET",...ib];new Set(H2);var na=k.createContext(null);na.displayName="DataRouter";var zc=k.createContext(null);zc.displayName="DataRouterState";k.createContext(!1);var rb=k.createContext({isTransitioning:!1});rb.displayName="ViewTransition";var q2=k.createContext(new Map);q2.displayName="Fetchers";var F2=k.createContext(null);F2.displayName="Await";var un=k.createContext(null);un.displayName="Navigation";var Jo=k.createContext(null);Jo.displayName="Location";var ii=k.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Xm=k.createContext(null);Xm.displayName="RouteError";function G2(t,{relative:e}={}){Oe(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(un),{hash:r,pathname:s,search:a}=Zo(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:qn([n,s])),i.createHref({pathname:l,search:a,hash:r})}function Wo(){return k.useContext(Jo)!=null}function zr(){return Oe(Wo(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Jo).location}var sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(t){k.useContext(un).static||k.useLayoutEffect(t)}function K2(){let{isDataRoute:t}=k.useContext(ii);return t?sC():Q2()}function Q2(){Oe(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(na),{basename:e,navigator:n}=k.useContext(un),{matches:i}=k.useContext(ii),{pathname:r}=zr(),s=JSON.stringify(tb(i)),a=k.useRef(!1);return ab(()=>{a.current=!0}),k.useCallback((u,c={})=>{if(sn(a.current,sb),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=nb(u,JSON.parse(s),r,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,s,r,t])}k.createContext(null);function Zo(t,{relative:e}={}){let{matches:n}=k.useContext(ii),{pathname:i}=zr(),r=JSON.stringify(tb(n));return k.useMemo(()=>nb(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function Y2(t,e){return ob(t,e)}function ob(t,e,n,i,r){var _;Oe(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(un),{matches:a}=k.useContext(ii),l=a[a.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";lb(c,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=zr(),p;if(e){let w=typeof e=="string"?ta(e):e;Oe(f==="/"||((_=w.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${w.pathname}" was given in the \`location\` prop.`),p=w}else p=g;let x=p.pathname||"/",N=x;if(f!=="/"){let w=f.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let D=WT(t,{pathname:N});sn(m||D!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),sn(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Z2(D&&D.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:qn([f,s.encodeLocation?s.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:qn([f,s.encodeLocation?s.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,i,r);return e&&T?k.createElement(Jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},T):T}function $2(){let t=rC(),e=z2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:s},"ErrorBoundary")," or"," ",k.createElement("code",{style:s},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:r},n):null,a)}var X2=k.createElement($2,null),J2=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?k.createElement(ii.Provider,{value:this.props.routeContext},k.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function W2({routeContext:t,match:e,children:n}){let i=k.useContext(na);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ii.Provider,{value:t},n)}function Z2(t,e=[],n=null,i=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Oe(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:p}=n,x=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!p||p[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=n&&i?(f,m)=>{var g,p;i(f,{location:n.location,params:((p=(g=n.matches)==null?void 0:g[0])==null?void 0:p.params)??{},unstable_pattern:B2(n.matches),errorInfo:m})}:void 0;return s.reduceRight((f,m,g)=>{let p,x=!1,N=null,D=null;n&&(p=a&&m.route.id?a[m.route.id]:void 0,N=m.route.errorElement||X2,l&&(u<0&&g===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,D=null):u===g&&(x=!0,D=m.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,g+1)),_=()=>{let w;return p?w=N:x?w=D:m.route.Component?w=k.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=f,k.createElement(W2,{match:m,routeContext:{outlet:f,matches:T,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?k.createElement(J2,{location:n.location,revalidation:n.revalidation,component:N,error:p,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:c}):_()},null)}function Jm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eC(t){let e=k.useContext(na);return Oe(e,Jm(t)),e}function tC(t){let e=k.useContext(zc);return Oe(e,Jm(t)),e}function nC(t){let e=k.useContext(ii);return Oe(e,Jm(t)),e}function Wm(t){let e=nC(t),n=e.matches[e.matches.length-1];return Oe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iC(){return Wm("useRouteId")}function rC(){var i;let t=k.useContext(Xm),e=tC("useRouteError"),n=Wm("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function sC(){let{router:t}=eC("useNavigate"),e=Wm("useNavigate"),n=k.useRef(!1);return ab(()=>{n.current=!0}),k.useCallback(async(r,s={})=>{sn(n.current,sb),n.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:e,...s}))},[t,e])}var v_={};function lb(t,e,n){!e&&!v_[t]&&(v_[t]=!0,sn(!1,n))}k.memo(aC);function aC({routes:t,future:e,state:n,unstable_onError:i}){return ob(t,void 0,n,i,e)}function lu(t){Oe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:a}){Oe(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:r,static:s,unstable_useTransitions:a,future:{}}),[l,r,s,a]);typeof n=="string"&&(n=ta(n));let{pathname:c="/",search:f="",hash:m="",state:g=null,key:p="default"}=n,x=k.useMemo(()=>{let N=Jn(c,l);return N==null?null:{location:{pathname:N,search:f,hash:m,state:g,key:p},navigationType:i}},[l,c,f,m,g,p,i]);return sn(x!=null,`<Router basename="${l}"> is not able to match the URL "${c}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(un.Provider,{value:u},k.createElement(Jo.Provider,{children:e,value:x}))}function lC({children:t,location:e}){return Y2(Sd(t),e)}function Sd(t,e=[]){let n=[];return k.Children.forEach(t,(i,r)=>{if(!k.isValidElement(i))return;let s=[...e,r];if(i.type===k.Fragment){n.push.apply(n,Sd(i.props.children,s));return}Oe(i.type===lu,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Oe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Sd(i.props.children,s)),n.push(a)}),n}var uu="get",cu="application/x-www-form-urlencoded";function Bc(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function uC(t){return Bc(t)&&t.tagName.toLowerCase()==="button"}function cC(t){return Bc(t)&&t.tagName.toLowerCase()==="form"}function hC(t){return Bc(t)&&t.tagName.toLowerCase()==="input"}function fC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dC(t,e){return t.button===0&&(!e||e==="_self")&&!fC(t)}var zl=null;function mC(){if(zl===null)try{new FormData(document.createElement("form"),0),zl=!1}catch{zl=!0}return zl}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(t){return t!=null&&!gC.has(t)?(sn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cu}"`),null):t}function pC(t,e){let n,i,r,s,a;if(cC(t)){let l=t.getAttribute("action");i=l?Jn(l,e):null,n=t.getAttribute("method")||uu,r=ff(t.getAttribute("enctype"))||cu,s=new FormData(t)}else if(uC(t)||hC(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(i=u?Jn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||uu,r=ff(t.getAttribute("formenctype"))||ff(l.getAttribute("enctype"))||cu,s=new FormData(l,t),!mC()){let{name:c,type:f,value:m}=t;if(f==="image"){let g=c?`${c}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else c&&s.append(c,m)}}else{if(Bc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uu,i=null,r=cu,a=t}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yC(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Jn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function _C(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function EC(t,e,n){let i=await Promise.all(t.map(async r=>{let s=e.routes[r.route.id];if(s){let a=await _C(s,n);return a.links?a.links():[]}return[]}));return AC(i.flat(1).filter(vC).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function E_(t,e,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?e.filter((u,c)=>{var m;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function TC(t,e,{includeHydrateFallback:n}={}){return bC(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function bC(t){return[...new Set(t)]}function SC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function AC(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let s=JSON.stringify(SC(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function ub(){let t=k.useContext(na);return Zm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wC(){let t=k.useContext(zc);return Zm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var eg=k.createContext(void 0);eg.displayName="FrameworkContext";function cb(){let t=k.useContext(eg);return Zm(t,"You must render this element inside a <HydratedRouter> element"),t}function RC(t,e){let n=k.useContext(eg),[i,r]=k.useState(!1),[s,a]=k.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,g=k.useRef(null);k.useEffect(()=>{if(t==="render"&&a(!0),t==="viewport"){let N=T=>{T.forEach(_=>{a(_.isIntersecting)})},D=new IntersectionObserver(N,{threshold:.5});return g.current&&D.observe(g.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(i){let N=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(N)}}},[i]);let p=()=>{r(!0)},x=()=>{r(!1),a(!1)};return n?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Ma(l,p),onBlur:Ma(u,x),onMouseEnter:Ma(c,p),onMouseLeave:Ma(f,x),onTouchStart:Ma(m,p)}]:[!1,g,{}]}function Ma(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function CC({page:t,...e}){let{router:n}=ub(),i=k.useMemo(()=>WT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(IC,{page:t,matches:i,...e}):null}function xC(t){let{manifest:e,routeModules:n}=cb(),[i,r]=k.useState([]);return k.useEffect(()=>{let s=!1;return EC(t,e,n).then(a=>{s||r(a)}),()=>{s=!0}},[t,e,n]),i}function IC({page:t,matches:e,...n}){let i=zr(),{manifest:r,routeModules:s}=cb(),{basename:a}=ub(),{loaderData:l,matches:u}=wC(),c=k.useMemo(()=>E_(t,e,u,r,i,"data"),[t,e,u,r,i]),f=k.useMemo(()=>E_(t,e,u,r,i,"assets"),[t,e,u,r,i]),m=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,N=!1;if(e.forEach(T=>{var w;let _=r.routes[T.route.id];!_||!_.hasLoader||(!c.some(O=>O.route.id===T.route.id)&&T.route.id in l&&((w=s[T.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?N=!0:x.add(T.route.id))}),x.size===0)return[];let D=yC(t,a,"data");return N&&x.size>0&&D.searchParams.set("_routes",e.filter(T=>x.has(T.route.id)).map(T=>T.route.id).join(",")),[D.pathname+D.search]},[a,l,i,r,c,e,t,s]),g=k.useMemo(()=>TC(f,r),[f,r]),p=xC(f);return k.createElement(k.Fragment,null,m.map(x=>k.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>k.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),p.map(({key:x,link:N})=>k.createElement("link",{key:x,nonce:n.nonce,...N})))}function NC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hb&&(window.__reactRouterVersion="7.10.1")}catch{}function DC({basename:t,children:e,unstable_useTransitions:n,window:i}){let r=k.useRef();r.current==null&&(r.current=p2({window:i,v5Compat:!0}));let s=r.current,[a,l]=k.useState({action:s.action,location:s.location}),u=k.useCallback(c=>{n===!1?l(c):k.startTransition(()=>l(c))},[n]);return k.useLayoutEffect(()=>s.listen(u),[s,u]),k.createElement(oC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:n===!0})}var fb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,db=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,...g},p){let{basename:x,unstable_useTransitions:N}=k.useContext(un),D=typeof c=="string"&&fb.test(c),T,_=!1;if(typeof c=="string"&&D&&(T=c,hb))try{let C=new URL(window.location.href),I=c.startsWith("//")?new URL(C.protocol+c):new URL(c),S=Jn(I.pathname,x);I.origin===C.origin&&S!=null?c=S+I.search+I.hash:_=!0}catch{sn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let w=G2(c,{relative:r}),[O,M,z]=RC(i,g),E=VC(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_useTransitions:N});function v(C){e&&e(C),C.defaultPrevented||E(C)}let b=k.createElement("a",{...g,...z,href:T||w,onClick:_||s?e:v,ref:NC(p,M),target:u,"data-discover":!D&&n==="render"?"true":void 0});return O&&!D?k.createElement(k.Fragment,null,b,k.createElement(CC,{page:w})):b});db.displayName="Link";var hu=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let m=Zo(a,{relative:c.relative}),g=zr(),p=k.useContext(zc),{navigator:x,basename:N}=k.useContext(un),D=p!=null&&jC(m)&&l===!0,T=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,_=g.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,T=T.toLowerCase()),w&&N&&(w=Jn(w,N)||w);const O=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=_===T||!r&&_.startsWith(T)&&_.charAt(O)==="/",z=w!=null&&(w===T||!r&&w.startsWith(T)&&w.charAt(T.length)==="/"),E={isActive:M,isPending:z,isTransitioning:D},v=M?e:void 0,b;typeof i=="function"?b=i(E):b=[i,M?"active":null,z?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let C=typeof s=="function"?s(E):s;return k.createElement(db,{...c,"aria-current":v,className:b,ref:f,style:C,to:a,viewTransition:l},typeof u=="function"?u(E):u)});hu.displayName="NavLink";var OC=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:s,method:a=uu,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...g},p)=>{let{unstable_useTransitions:x}=k.useContext(un),N=PC(),D=UC(l,{relative:c}),T=a.toLowerCase()==="get"?"get":"post",_=typeof l=="string"&&fb.test(l),w=O=>{if(u&&u(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||a,E=()=>N(M||O.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:m});x&&n!==!1?k.startTransition(()=>E()):E()};return k.createElement("form",{ref:p,method:T,action:D,onSubmit:i?u:w,...g,"data-discover":!_&&t==="render"?"true":void 0})});OC.displayName="Form";function MC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(t){let e=k.useContext(na);return Oe(e,MC(t)),e}function VC(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a,unstable_useTransitions:l}={}){let u=K2(),c=zr(),f=Zo(t,{relative:s});return k.useCallback(m=>{if(dC(m,e)){m.preventDefault();let g=n!==void 0?n:Co(c)===Co(f),p=()=>u(t,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:a});l?k.startTransition(()=>p()):p()}},[c,u,f,n,i,e,t,r,s,a,l])}var kC=0,LC=()=>`__${String(++kC)}__`;function PC(){let{router:t}=mb("useSubmit"),{basename:e}=k.useContext(un),n=iC(),i=t.fetch,r=t.navigate;return k.useCallback(async(s,a={})=>{let{action:l,method:u,encType:c,formData:f,body:m}=pC(s,e);if(a.navigate===!1){let g=a.fetcherKey||LC();await i(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,flushSync:a.flushSync})}else await r(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||u,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,r,e,n])}function UC(t,{relative:e}={}){let{basename:n}=k.useContext(un),i=k.useContext(ii);Oe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Zo(t||".",{relative:e})},a=zr();if(t==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:qn([n,s.pathname])),Co(s)}function jC(t,{relative:e}={}){let n=k.useContext(rb);Oe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mb("useViewTransitionState"),r=Zo(t,{relative:e});if(!n.isTransitioning)return!1;let s=Jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=Jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ju(r.pathname,a)!=null||Ju(r.pathname,s)!=null}var gb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},T_=jn.createContext&&jn.createContext(gb),zC=["attr","size","title"];function BC(t,e){if(t==null)return{};var n=HC(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function HC(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wu.apply(this,arguments)}function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function Zu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(i){qC(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function qC(t,e,n){return e=FC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FC(t){var e=GC(t,"string");return typeof e=="symbol"?e:e+""}function GC(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pb(t){return t&&t.map((e,n)=>jn.createElement(e.tag,Zu({key:n},e.attr),pb(e.child)))}function el(t){return e=>jn.createElement(KC,Wu({attr:Zu({},t.attr)},e),pb(t.child))}function KC(t){var e=n=>{var{attr:i,size:r,title:s}=t,a=BC(t,zC),l=r||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),jn.createElement("svg",Wu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:u,style:Zu(Zu({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&jn.createElement("title",null,s),t.children)};return T_!==void 0?jn.createElement(T_.Consumer,null,n=>e(n)):e(gb)}function QC(t){return el({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function yb(t){return el({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function YC(t){return el({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"},child:[]}]})(t)}function $C(t){return el({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function XC(t){return el({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function JC(){const t={home:R.jsx($C,{size:24}),today:R.jsx(yb,{size:24}),stats:R.jsx(QC,{size:24})};return R.jsxs("nav",{className:"w-full flex items-center px-10 py-3 rounded-b-xl backdrop-blur-lg bg-gradient-to-r from-blue-600/60 to-indigo-600/60 shadow-xl border-b border-white/30 animate-fade-in",children:[R.jsxs(hu,{to:"/",className:({isActive:n})=>`flex items-center gap-2 px-5 py-2 rounded-lg transition-all duration-200 text-white hover:bg-blue-700/60 hover:scale-105 ${n?"bg-blue-800/80 font-bold shadow-lg scale-105":""}`,children:[t.home,R.jsx("span",{className:"font-semibold tracking-wide",children:""})]}),R.jsxs(hu,{to:"/today",className:({isActive:n})=>`flex items-center gap-2 px-5 py-2 rounded-lg transition-all duration-200 text-white hover:bg-blue-700/60 hover:scale-105 ${n?"bg-blue-800/80 font-bold shadow-lg scale-105":""}`,children:[t.today,R.jsx("span",{className:"font-semibold tracking-wide",children:""})]}),R.jsxs(hu,{to:"/stats",className:({isActive:n})=>`flex items-center gap-2 px-5 py-2 rounded-lg transition-all duration-200 text-white hover:bg-blue-700/60 hover:scale-105 ${n?"bg-blue-800/80 font-bold shadow-lg scale-105":""}`,children:[t.stats,R.jsx("span",{className:"font-semibold tracking-wide",children:""})]}),R.jsx("button",{className:"ml-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-bold border border-gray-300 hover:bg-gray-200 transition-all",onClick:()=>{window.confirm(" ?")&&(localStorage.removeItem("current_user"),window.location.reload())},children:""})]})}function WC(){return R.jsxs("header",{className:"flex items-center justify-between px-10 py-6 rounded-b-2xl backdrop-blur-lg bg-white/70 shadow-xl border-b border-white/30 animate-fade-in",children:[R.jsxs("div",{className:"flex items-center gap-4",children:[R.jsx("span",{className:"text-pink-500 text-4xl drop-shadow-lg animate-bounce",children:R.jsx(YC,{})}),R.jsx("span",{className:"text-3xl font-extrabold text-gray-900 tracking-tight",children:""})]}),R.jsx("span",{className:"text-base text-indigo-400 font-semibold italic animate-fade-in",children:"   "})]})}function ZC({onAuth:t,mode:e="login",onModeChange:n}){const[i,r]=k.useState({email:"",password:"",confirm:""}),[s,a]=k.useState(""),l=e==="signup",u=f=>{r({...i,[f.target.name]:f.target.value}),a("")},c=f=>{if(f.preventDefault(),!i.email||!i.password||l&&!i.confirm){a("  .");return}if(l&&i.password!==i.confirm){a("  .");return}t(i.email,i.password,l)};return R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-pink-100 to-green-100 py-12 px-4",children:R.jsxs("div",{className:"max-w-md w-full bg-white/80 rounded-3xl shadow-2xl p-10 backdrop-blur-xl border border-white/60 animate-fade-in",children:[R.jsx("h2",{className:"text-3xl font-extrabold text-center text-indigo-700 mb-8 drop-shadow-lg",children:l?"":""}),R.jsxs("form",{className:"space-y-6",onSubmit:c,children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:""}),R.jsx("input",{type:"email",name:"email",autoComplete:"email",className:"w-full px-4 py-3 rounded-xl border border-indigo-200 focus:border-indigo-400 focus:outline-none bg-white/90 shadow-inner text-lg",value:i.email,onChange:u,required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:""}),R.jsx("input",{type:"password",name:"password",autoComplete:l?"new-password":"current-password",className:"w-full px-4 py-3 rounded-xl border border-indigo-200 focus:border-indigo-400 focus:outline-none bg-white/90 shadow-inner text-lg",value:i.password,onChange:u,required:!0})]}),l&&R.jsxs("div",{children:[R.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:" "}),R.jsx("input",{type:"password",name:"confirm",autoComplete:"new-password",className:"w-full px-4 py-3 rounded-xl border border-indigo-200 focus:border-indigo-400 focus:outline-none bg-white/90 shadow-inner text-lg",value:i.confirm,onChange:u,required:!0})]}),s&&R.jsx("div",{className:"text-red-500 text-center font-bold mt-2",children:s}),R.jsx("button",{type:"submit",className:"w-full py-3 mt-4 rounded-xl bg-gradient-to-r from-indigo-400 via-pink-400 to-green-400 text-white font-extrabold text-lg shadow-lg hover:scale-105 transition-transform",children:l?"":""})]}),R.jsx("div",{className:"mt-6 text-center",children:l?R.jsxs("button",{type:"button",className:"text-indigo-500 font-bold hover:underline",onClick:()=>n&&n("login"),children:["  ? ",R.jsx("span",{className:"underline",children:""})]}):R.jsxs("button",{type:"button",className:"text-indigo-500 font-bold hover:underline",onClick:()=>n&&n("signup"),children:[" ? ",R.jsx("span",{className:"underline",children:""})]})})]})})}class ex extends jn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?R.jsx("h1",{children:" .    ."}):this.props.children}}function tx({onAdd:t,onClose:e,editMed:n}){const[i,r]=k.useState(""),[s,a]=k.useState(""),[l,u]=k.useState(""),[c,f]=k.useState([{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}]),[m,g]=k.useState(!1),[p,x]=k.useState([]),[N,D]=k.useState([]),[T,_]=k.useState({:"",:"",:""," ":""}),[w,O]=k.useState({:{ampm:"",hour:"",minute:""},:{ampm:"",hour:"",minute:""},:{ampm:"",hour:"",minute:""}," ":{ampm:"",hour:"",minute:""}});k.useEffect(()=>{i&&i.toLowerCase().includes("")&&a("")},[i]);const[M,z]=k.useState(""),[E,v]=k.useState("");k.useEffect(()=>{if(!(!n||typeof n!="object")&&(r(n.name||""),a(n.type||""),x(Array.isArray(n.days)?n.days:[]),z(n.startDate||""),v(n.endDate||""),Array.isArray(n.times))){D(n.times.map(Y=>Y.category));const S={:"",:"",:""," ":""},A={:{ampm:"",hour:"",minute:""},:{ampm:"",hour:"",minute:""},:{ampm:"",hour:"",minute:""}," ":{ampm:"",hour:"",minute:""}};n.times.forEach(Y=>{if(S[Y.category]=Y.time,typeof Y.time=="string"&&Y.time.length>=4){let[de,H]=Y.time.split(":");de=parseInt(de,10);let K="",F=de;de===0?(K="",F=12):de<12?(K="",F=de):de===12?(K="",F=12):de>12&&(K="",F=de-12),A[Y.category]={ampm:K,hour:F.toString().padStart(2,"0"),minute:H}}}),_(S),O(A)}},[n]);const b=S=>{x(A=>A.includes(S)?A.filter(Y=>Y!==S):[...A,S])},C=S=>{D(A=>A.includes(S)?A.filter(Y=>Y!==S):[...A,S])},I=(S,A,Y)=>{O(F=>({...F,[S]:{...F[S],[A]:Y}}));const{ampm:de,hour:H,minute:K}={...w[S],[A]:Y};if(de&&H&&K){let F=parseInt(H,10);de===""&&F<12&&(F+=12),de===""&&F===12&&(F=0);const me=`${F.toString().padStart(2,"0")}:${K}`;_(pe=>({...pe,[S]:me}))}};return R.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-200/60 via-white/60 to-pink-200/60 flex justify-center items-center z-[100] backdrop-blur-sm",children:R.jsxs("div",{className:"bg-white/90 backdrop-blur-2xl p-8 rounded-3xl w-full max-w-md shadow-2xl border border-blue-100/40 relative animate-fade-in",style:{boxShadow:"0 8px 32px 0 #6366f155"},children:[R.jsxs("h2",{className:"text-3xl font-extrabold mb-7 text-indigo-700 tracking-tight drop-shadow flex items-center gap-2 justify-center",children:[R.jsx("span",{className:"text-2xl",children:""})," "," ",R.jsx("span",{className:"text-lg font-bold text-indigo-400",children:n?"":""})]}),R.jsxs("div",{className:"mb-4 flex flex-col gap-2",children:[R.jsx("span",{className:"font-bold text-indigo-700 mb-1",children:""}),R.jsxs("div",{className:"flex gap-2 flex-wrap mb-2",children:[c.map(S=>R.jsxs("button",{type:"button",className:`px-4 py-2 rounded-2xl font-bold border text-base transition-all duration-200 shadow select-none focus:outline-none flex items-center gap-2 min-w-[70px] min-h-[44px] ${s===S.label?"bg-indigo-500 text-white border-indigo-500 scale-105 shadow":"bg-white text-indigo-500 border-indigo-200 hover:bg-indigo-50 hover:scale-105"}`,onClick:()=>a(S.label),children:[R.jsx("span",{children:S.icon})," ",S.label]},S.label)),R.jsx("button",{type:"button",className:"px-3 py-2 rounded-2xl font-bold border text-base bg-pink-100 text-pink-700 border-pink-200 hover:bg-pink-200 transition-all flex items-center gap-1 min-w-[44px] min-h-[44px]",onClick:()=>g(S=>!S),children:R.jsx("span",{className:"text-xl",children:"+"})}),m&&R.jsxs("div",{className:"flex gap-2 items-center mt-1",children:[R.jsx("input",{className:"border-2 border-indigo-200 rounded-xl p-2 text-base w-36 focus:border-indigo-400 focus:outline-none bg-white/80 placeholder:text-indigo-300 shadow-inner",placeholder:" ",value:l,onChange:S=>u(S.target.value),onKeyDown:S=>{S.key==="Enter"&&l.trim()&&(c.some(Y=>Y.label===l.trim())||(f([...c,{label:l.trim(),icon:""}]),a(l.trim())),u(""),g(!1))}}),R.jsx("button",{type:"button",className:"px-3 py-1 rounded-xl font-bold border text-base bg-indigo-100 text-indigo-700 border-indigo-200 hover:bg-indigo-200 transition-all",onClick:()=>{if(!l.trim())return;c.some(A=>A.label===l.trim())||(f([...c,{label:l.trim(),icon:""}]),a(l.trim())),u(""),g(!1)},children:""})]})]})]}),R.jsx("input",{className:"border-2 border-indigo-200 focus:border-indigo-400 w-full mb-4 p-3 rounded-2xl bg-white/80 shadow-inner text-lg placeholder:text-indigo-300 focus:outline-none transition-all duration-200",placeholder:"   ",value:i,onChange:S=>r(S.target.value)}),R.jsxs("div",{className:"flex gap-4 mb-6",children:[R.jsxs("div",{className:"flex flex-col flex-1",children:[R.jsx("label",{className:"font-bold text-indigo-700 mb-1",children:""}),R.jsx("input",{type:"date",className:"border-2 border-indigo-200 focus:border-indigo-400 rounded-xl p-2 bg-white/80 shadow-inner text-base focus:outline-none transition-all duration-200",value:M,onChange:S=>z(S.target.value)})]}),R.jsxs("div",{className:"flex flex-col flex-1",children:[R.jsx("label",{className:"font-bold text-indigo-700 mb-1",children:""}),R.jsx("input",{type:"date",className:"border-2 border-indigo-200 focus:border-indigo-400 rounded-xl p-2 bg-white/80 shadow-inner text-base focus:outline-none transition-all duration-200",value:E,onChange:S=>v(S.target.value)})]})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("span",{className:"font-bold text-indigo-700 mb-2 block",children:"  "}),R.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[R.jsx("div",{className:"flex gap-2 mb-1",children:["","","",""].map(S=>R.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl font-bold border text-base transition-all duration-200 select-none focus:outline-none min-w-[44px] min-h-[44px] scale-105 shadow ${p.includes(S)?"bg-blue-800 text-white border-blue-800":"bg-white text-blue-800 border-blue-200 hover:bg-blue-100 hover:scale-105"}`,style:p.includes(S)?{backgroundColor:"#2563eb",color:"#fff"}:{},onClick:()=>b(S),children:S},S))}),R.jsx("div",{className:"flex gap-2",children:["","",""].map(S=>R.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl font-bold border text-base transition-all duration-200 select-none focus:outline-none min-w-[44px] min-h-[44px] scale-105 shadow ${p.includes(S)?"bg-blue-800 text-white border-blue-800":"bg-white text-blue-800 border-blue-200 hover:bg-blue-100 hover:scale-105"}`,style:p.includes(S)?{backgroundColor:"#2563eb",color:"#fff"}:{},onClick:()=>b(S),children:S},S))})]})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("span",{className:"font-bold text-indigo-700 mb-2 block",children:"  "}),R.jsx("div",{className:"flex gap-2 flex-wrap justify-center mb-2",children:["","",""," "].map(S=>R.jsx("button",{type:"button",className:`px-4 py-2 rounded-2xl font-bold border text-base transition-all duration-200 select-none focus:outline-none min-w-[44px] min-h-[44px] scale-105 shadow ${N.includes(S)?"bg-pink-500 text-white border-pink-600":"bg-pink-100 text-pink-700 border-pink-200 hover:bg-pink-200 hover:scale-105"}`,style:N.includes(S)?{backgroundColor:"#ec4899",color:"#fff"}:{},onClick:()=>C(S),children:S},S))}),R.jsx("div",{className:"flex flex-col gap-2 items-center",children:["","",""," "].filter(S=>N.includes(S)).map(S=>R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("label",{className:"font-bold text-pink-700 text-base min-w-[60px]",children:S}),R.jsxs("select",{className:"border-2 border-pink-200 rounded-xl p-2 text-base bg-white/70 shadow-inner focus:outline-none",value:w[S].ampm,onChange:A=>I(S,"ampm",A.target.value),children:[R.jsx("option",{value:"",children:""}),R.jsx("option",{value:"",children:""}),R.jsx("option",{value:"",children:""})]}),R.jsxs("select",{className:"border-2 border-pink-200 rounded-xl p-2 text-base bg-white/70 shadow-inner focus:outline-none",value:w[S].hour,onChange:A=>I(S,"hour",A.target.value),children:[R.jsx("option",{value:"",children:""}),[...Array(12)].map((A,Y)=>R.jsx("option",{value:(Y+1).toString().padStart(2,"0"),children:Y+1},Y+1))]}),R.jsxs("select",{className:"border-2 border-pink-200 rounded-xl p-2 text-base bg-white/70 shadow-inner focus:outline-none",value:w[S].minute,onChange:A=>I(S,"minute",A.target.value),children:[R.jsx("option",{value:"",children:""}),[...Array(12)].map((A,Y)=>R.jsx("option",{value:(Y*5).toString().padStart(2,"0"),children:(Y*5).toString().padStart(2,"0")},Y))]}),R.jsx("button",{type:"button",className:"ml-2 px-2 py-1 rounded-lg bg-gray-100 text-gray-500 hover:bg-pink-100 hover:text-pink-600 transition-all text-base",onClick:()=>{D(A=>A.filter(Y=>Y!==S)),_(A=>({...A,[S]:""})),O(A=>({...A,[S]:{ampm:"",hour:"",minute:""}}))},"aria-label":`${S} `,children:""})]},S))})]}),R.jsxs("div",{className:"flex flex-row gap-4 justify-end items-center mt-4",children:[R.jsx("button",{className:"px-6 py-2 rounded-2xl font-bold shadow border transition-all duration-200 text-lg tracking-wide select-none bg-gradient-to-r from-gray-100 to-gray-200 text-gray-600 border-gray-300 hover:from-gray-200 hover:to-gray-300 hover:text-gray-800 hover:scale-105",style:{minWidth:100,boxShadow:"0 2px 8px 0 #d1d5db33"},onClick:e,type:"button",children:""}),R.jsx("button",{className:`px-6 py-2 rounded-2xl font-bold shadow-lg border transition-all duration-200 text-lg tracking-wide select-none ${!i||N.length===0||N.every(S=>!T[S])?"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-400 border-gray-200 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-indigo-500 text-white border-blue-500 hover:from-blue-600 hover:to-indigo-600 hover:scale-105"}`,style:{minWidth:100,boxShadow:!i||N.length===0||N.every(S=>!T[S])?"none":"0 4px 16px 0 #6366f133"},onClick:()=>{const S=i&&i.trim()?i:" ",A=typeof s=="string"?s.trim():"";let Y=p.filter(Boolean);(!Y||Y.length===0)&&(Y=["","","","","","",""]);let de=N.filter(pe=>T[pe]).map(pe=>({category:pe,time:T[pe]}));(!de||de.length===0)&&(de=[{category:"",time:"08:00"}]);const H=new Date,K=pe=>String(pe).padStart(2,"0"),F=M&&M.length===10?M:`${H.getFullYear()}-${K(H.getMonth()+1)}-${K(H.getDate())}`,me=E&&E.length===10?E:`${H.getFullYear()}-${K(H.getMonth()+1)}-${K(H.getDate())}`;console.log("  type:",A),t({...n&&n.id?{id:n.id}:{id:Date.now().toString()},name:S,type:A,times:de,days:Y,startDate:F,endDate:me}),r(""),a(""),x([]),D([]),_({:"",:"",:""," ":""}),e()},type:"button",children:""})]})]})})}function nx({warnings:t}){return!t||t.length===0?null:R.jsx("div",{className:"mb-6",children:t.map((e,n)=>R.jsx("div",{className:`p-4 rounded-2xl font-bold shadow border-2 mb-2 animate-fade-in ${e.type==="danger"?"bg-red-100 border-red-300 text-red-700":e.type==="warn"?"bg-yellow-100 border-yellow-300 text-yellow-700":"bg-blue-100 border-blue-300 text-blue-700"}`,children:e.message},n))})}function ix(){const{medications:t,updateMedication:e}=k.useContext(jc),[n,i]=k.useState(!1),[r,s]=k.useState(null),[a,l]=k.useState(null),[u,c]=k.useState(""),f=["   .","     ."," ,  .","     .","    .","    , .","  !","  .","   .","  ,   ."],m=new Date().getDate()%f.length,g=f[m],p=new Date,x=`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`;function N(){const M=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),z=URL.createObjectURL(M),E=document.createElement("a");E.href=z,E.download=`medication_backup_${x}.json`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(z),alert("  .")}function D(M){const z=M.target.files[0];if(!z)return;const E=new FileReader;E.onload=v=>{try{const b=JSON.parse(v.target.result);e(b),alert(" !   .")}catch{alert(" :    .")}},E.readAsText(z)}const T=[],_={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function w(M){e(z=>z.filter(E=>E.id!==M))}function O(M){M&&(e(z=>!z||!Array.isArray(z)?[M]:z.find(v=>v.id===M.id)?z.map(v=>v.id===M.id?M:v):[...z,M]),i(!1),s(null))}return R.jsxs("div",{className:"max-w-3xl mx-auto p-4 flex flex-col gap-8",children:[R.jsxs("div",{className:"w-full flex flex-col items-center",children:[R.jsxs("div",{className:"bg-gradient-to-r from-blue-100 via-indigo-100 to-pink-100 rounded-3xl shadow-2xl px-8 py-6 mb-2 flex flex-col items-center w-full max-w-xl border border-indigo-100",children:[R.jsx("span",{className:"text-2xl font-extrabold text-indigo-700 mb-2 tracking-tight drop-shadow-lg text-center",children:g}),R.jsx("span",{className:"text-sm text-gray-400 font-semibold",children:"  "})]}),R.jsxs("div",{className:"flex gap-4 mt-2",children:[R.jsx("button",{className:"px-4 py-2 rounded-xl font-bold text-sm shadow bg-gradient-to-r from-green-200 via-blue-100 to-indigo-100 text-indigo-700 border border-indigo-200 hover:from-green-300 hover:to-indigo-200 transition-all",onClick:N,children:" "}),R.jsxs("label",{className:"px-4 py-2 rounded-xl font-bold text-sm shadow bg-gradient-to-r from-yellow-100 via-pink-100 to-indigo-100 text-indigo-700 border border-indigo-200 hover:from-yellow-200 hover:to-indigo-200 transition-all cursor-pointer",children:[" ",R.jsx("input",{type:"file",accept:"application/json",style:{display:"none"},onChange:D})]})]})]}),R.jsx("div",{className:"flex justify-center",children:R.jsxs("button",{className:"px-8 py-4 rounded-3xl font-extrabold text-xl shadow-xl bg-gradient-to-r from-blue-400 via-indigo-400 to-blue-600 text-white transition-all duration-200 hover:from-blue-500 hover:via-indigo-500 hover:to-blue-800 hover:scale-105 border-none outline-none focus:ring-2 focus:ring-blue-300 flex items-center gap-2",style:{letterSpacing:"0.04em"},onClick:()=>{s(null),i(!0)},children:[R.jsx("span",{className:"text-2xl",children:""})," ",R.jsx("span",{children:" "})]})}),R.jsx(nx,{warnings:T}),R.jsxs("div",{className:"mt-2",children:[R.jsxs("h2",{className:"text-lg font-bold mb-3 text-indigo-700 flex items-center gap-2",children:[R.jsx("span",{className:"text-xl",children:""}),"    "]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:t.filter(M=>M.startDate<=x&&M.endDate>=x).length===0?R.jsx("div",{className:"col-span-2 text-center text-gray-400 py-8 text-base",children:"   ."}):t.filter(M=>M.startDate<=x&&M.endDate>=x).map(M=>R.jsxs("div",{className:"rounded-2xl shadow-lg bg-gradient-to-br from-indigo-50 via-blue-50 to-white border border-indigo-100 p-5 flex flex-col gap-2 relative group hover:shadow-2xl transition-all",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[R.jsx("span",{className:"text-2xl",children:_[(M.type||"").replace(/\s/g,"").trim()]||_.}),R.jsx("span",{className:"font-bold text-lg text-indigo-800 drop-shadow-sm",children:M.name})]}),R.jsxs("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:[": ",M.startDate," ~ ",M.endDate]}),R.jsxs("div",{className:"text-xs text-indigo-500 font-bold mb-2",children:[": ",M.type||"-"]}),R.jsxs("div",{className:"flex gap-2 mt-auto",children:[R.jsxs("button",{className:"px-4 py-2 rounded-xl font-semibold text-sm shadow bg-gradient-to-r from-indigo-400 via-blue-400 to-indigo-600 text-white transition-all duration-200 hover:from-indigo-500 hover:via-blue-500 hover:to-indigo-800 hover:scale-105 border-none outline-none focus:ring-2 focus:ring-indigo-300",style:{letterSpacing:"0.02em"},onClick:()=>{s(M),i(!0)},children:[R.jsx("span",{className:"mr-1",children:""}),""]}),R.jsxs("button",{className:"px-4 py-2 rounded-xl font-semibold text-sm shadow bg-gradient-to-r from-pink-200 via-red-200 to-pink-300 text-red-700 hover:from-pink-300 hover:to-red-300 hover:scale-105 border-none outline-none focus:ring-2 focus:ring-pink-200",onClick:()=>w(M.id),children:[R.jsx("span",{className:"mr-1",children:""}),""]})]})]},`${M.id}-${M.startDate}-${M.type}`))}),t.filter(M=>M.startDate>x).length>0&&R.jsxs("div",{className:"mt-8",children:[R.jsxs("h3",{className:"text-base font-bold text-indigo-500 mb-2 flex items-center gap-2",children:[R.jsx("span",{className:"text-xl",children:""}),"   "]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:t.filter(M=>M.startDate>x).map(M=>R.jsxs("div",{className:"rounded-2xl shadow bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 border border-indigo-100 p-5 flex flex-col gap-2",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[R.jsx("span",{className:"text-2xl",children:""}),R.jsx("span",{className:"font-bold text-lg text-indigo-800 drop-shadow-sm",children:M.name})]}),R.jsxs("div",{className:"text-xs text-gray-500 font-semibold mb-1",children:[": ",M.startDate," ~ ",M.endDate]}),R.jsxs("div",{className:"text-xs text-indigo-500 font-bold mb-2",children:[": ",M.type||"-"]}),R.jsx("div",{className:"text-xs text-blue-400 font-bold mt-2",children:" "})]},`${M.id}-${M.startDate}-${M.type}`))})]})]}),R.jsxs("div",{className:"flex items-center gap-3 mt-8 mb-2",children:[R.jsxs("h2",{className:"text-lg font-bold text-indigo-700 flex items-center gap-2",children:[R.jsx("span",{className:"text-xl",children:""}),"   "]}),R.jsxs("button",{className:"px-5 py-2 rounded-2xl font-bold text-base shadow-lg bg-gradient-to-r from-blue-100 via-indigo-100 to-gray-200 text-indigo-700 border border-indigo-200 transition-all duration-200 hover:from-blue-200 hover:via-indigo-200 hover:to-gray-300 hover:text-indigo-900 hover:scale-105 focus:ring-2 focus:ring-indigo-300 flex items-center gap-2",style:{letterSpacing:"0.02em"},onClick:()=>l(M=>M==="all"?null:"all"),children:[R.jsx("span",{className:"text-xl",children:a==="all"?"":""}),a==="all"?"":" "]}),a==="all"&&R.jsx("input",{type:"text",className:"ml-4 px-3 py-2 rounded-lg border border-indigo-200 text-base text-indigo-700 bg-white shadow",placeholder:"    ",value:u,onChange:M=>c(M.target.value),style:{minWidth:"180px"}})]}),a==="all"&&R.jsx("ul",{className:"mb-8 grid grid-cols-1 sm:grid-cols-2 gap-6",children:(t||[]).filter(M=>M.endDate&&M.endDate<x).filter(M=>{const z=new Date(M.endDate);return new Date(M.startDate)<=z}).filter(M=>u.trim()===""||M.name.includes(u.trim())||M.type&&M.type.includes(u.trim())).filter(M=>{const z=M.name.toLowerCase();return!(z.includes("")||z.includes(""))}).map(M=>{function z(C,I){const S=C.toLowerCase();return S.includes("")||S.includes("")||S.includes("")||S.includes("")?"":S.includes("")||S.includes("")?"":S.includes("")?"":S.includes("")?"":S.includes("")||S.includes("")||S.includes("")?"":S.includes("")?"":S.includes("")?"":S.includes("")||S.includes("")?"":S.includes("")?"":S.includes("")?"":S.includes("")?"":I&&_b.some(A=>A.label===I)?I:""}const E=z(M.name,M.type);let v="";E===""&&M.name.toLowerCase().includes("")&&(v=""),E===""&&(M.name.toLowerCase().includes("")||M.name.toLowerCase().includes(""))&&(v="");let b=M.name;return E===""?M.name.toLowerCase().includes("")?b+=" ()":M.name.toLowerCase().includes("")?b+=" ()":v&&(b+=` (${v})`):v&&(b+=` (${v})`),R.jsxs("li",{className:"p-6 rounded-3xl shadow-xl border border-indigo-100 bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100 flex flex-col gap-2",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[R.jsx("span",{className:"text-2xl",children:rx(E)}),R.jsx("span",{className:"font-extrabold text-xl text-indigo-700 drop-shadow",children:b}),R.jsxs("span",{className:"ml-2 text-xs text-gray-500 font-semibold",children:["(",M.startDate," ~ ",M.endDate,")"]})]}),R.jsxs("div",{className:"text-xs text-indigo-500 mb-2 font-bold",children:[": ",E]})]},`${M.id}-${M.startDate}-${M.type}`)})}),n&&R.jsx(tx,{open:n,onClose:()=>i(!1),editMed:r,onAdd:O})]})}const _b=[{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:" ",icon:""},{label:" ",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""},{label:"",icon:""}];function rx(t){if(!t)return"";const e=_b.find(n=>t===n.label);return e?e.icon:""}function sx({meds:t=[]}){if(!Array.isArray(t)||t.length===0)return null;const e=t.length,n=t.filter(r=>r.taken).length,i=e-n;return R.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[R.jsxs("div",{className:"px-4 py-2 rounded-xl bg-green-100 text-green-700 font-bold text-sm shadow",children:[" : ",n,""]}),R.jsxs("div",{className:"px-4 py-2 rounded-xl bg-pink-100 text-pink-700 font-bold text-sm shadow",children:[": ",i,""]}),R.jsxs("div",{className:"px-4 py-2 rounded-xl bg-blue-100 text-blue-700 font-bold text-sm shadow",children:[": ",e,""]})]})}const df={:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};function ax(t){const{medications:e,onToggle:n,onDelete:i,renderExtra:r}=t,s=e,a=l=>typeof l=="string"?l.replace(/\s*\/>/g,""):"";return!s||s.length===0?R.jsx("div",{className:"text-center text-gray-400 py-10 text-lg",children:"  ."}):R.jsx("ul",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:s.map(l=>{const u=l.taken;let c=null;l.doseTime&&l.doseTime.length===5?c=l.date||null:l.doseTime&&l.doseTime.length>5&&(c=l.doseTime.split("T")[0]);const f=new Date().toISOString().split("T")[0];let m="",g="bg-gradient-to-r from-red-400 to-red-600 text-white hover:from-red-500 hover:to-red-700";return c&&c>f?(m="",g="bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 hover:from-gray-400 hover:to-gray-500"):u&&(m=" ",g="bg-gradient-to-r from-green-400 to-green-600 text-white hover:from-green-500 hover:to-green-700"),typeof l=="object"&&l!==null?R.jsxs("li",{className:"relative bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl border border-white/30 p-6 flex flex-col gap-3 transition-transform hover:scale-105 animate-fade-in",children:[R.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[R.jsx("span",{className:"text-blue-500 text-xl",children:R.jsx(yb,{})}),R.jsx("span",{className:"text-xl mr-1",children:(()=>{const p=l.type||"",x=typeof p=="string"?p.replace(/\s/g,"").trim().toLowerCase():"";return["","","","","cold","","",""].some(D=>x.includes(D.replace(/\s/g,"").toLowerCase()))?df.:df[x]||df.})()}),R.jsx("span",{className:"font-bold text-lg text-gray-800",children:typeof l.name=="string"?a(l.name):""}),l.type&&R.jsx("span",{className:"ml-2 px-2 py-1 rounded-lg text-xs font-bold border border-indigo-200 bg-indigo-50 text-indigo-700",children:typeof l.type=="string"?a(l.type):""})]}),R.jsxs("div",{className:"flex flex-col gap-1 text-gray-500",children:[R.jsx("span",{children:" :"}),R.jsx("span",{className:"font-semibold text-indigo-600",children:typeof l.doseTime=="string"?l.doseTime:""}),l.startDate&&l.endDate&&R.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[": ",l.startDate," ~ ",l.endDate]}),l.startDate&&!l.endDate&&R.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[": ",l.startDate]}),!l.startDate&&l.endDate&&R.jsxs("span",{className:"text-xs text-gray-400 mt-1",children:[": ",l.endDate]})]}),R.jsxs("div",{className:"flex gap-2 mt-2",children:[n&&R.jsx("button",{onClick:()=>n(l.medicationId||l.id,l.doseTime||"08:00"),className:`px-4 py-2 rounded-full font-semibold text-sm shadow-md transition-all transform hover:scale-105 ${g}`,title:m,children:m}),i&&R.jsxs("button",{onClick:()=>i(l.medicationId||l.id),className:"px-4 py-2 rounded-xl font-semibold text-sm shadow bg-gradient-to-r from-pink-400 via-red-400 to-pink-600 text-white transition-all duration-200 hover:from-pink-500 hover:via-red-500 hover:to-pink-800 hover:scale-105 border-none outline-none focus:ring-2 focus:ring-pink-300 flex items-center gap-1",title:"",children:[R.jsx("span",{style:{fontSize:"1.1em",marginRight:"0.2em"},children:R.jsx(XC,{})}),""]}),r&&typeof r=="function"?r(l):null]})]},`${l.medicationId||l.id}-${l.doseTime}`):null})})}function ox({meds:t=[]}){if(!Array.isArray(t)||t.length===0)return null;const e={};t.forEach(i=>{Array.isArray(i.times)?i.times.forEach(r=>{e[r.category]||(e[r.category]={total:0,taken:0}),e[r.category].total+=1,i.takenTimes&&i.takenTimes[r.category]&&(e[r.category].taken+=1)}):i.type&&(e[i.type]||(e[i.type]={total:0,taken:0}),e[i.type].total+=1,i.taken&&(e[i.type].taken+=1))});const n=Object.keys(e);return n.length===0?null:R.jsxs("div",{className:"mb-6",children:[R.jsx("div",{className:"font-bold text-gray-700 mb-2",children:"  "}),R.jsx("div",{className:"flex flex-wrap gap-3",children:n.map(i=>{const{total:r,taken:s}=e[i],a=r>0?Math.round(s/r*100):0;return R.jsxs("div",{className:"flex flex-col items-center px-4 py-2 rounded-xl bg-indigo-50 text-indigo-700 font-bold shadow border border-indigo-100 min-w-[90px]",children:[R.jsx("span",{className:"text-sm mb-1",children:i}),R.jsxs("span",{className:"text-lg",children:[a,"%"]}),R.jsxs("span",{className:"text-xs text-gray-400",children:[s,"/",r]})]},i)})})]})}function lx({medication:t,onClose:e,onSave:n}){const[i,r]=k.useState(t.memo||""),s=()=>{n(t.id,i),e()};return R.jsx("div",{className:"fixed inset-0 bg-black/50 flex justify-center items-center z-50",children:R.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-3xl shadow-2xl p-8 w-full max-w-md border border-indigo-200",children:[R.jsxs("h2",{className:"text-2xl font-extrabold text-indigo-700 mb-6 text-center",children:[t.name," "]}),R.jsx("textarea",{className:"w-full h-40 p-4 border-2 border-indigo-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-700 shadow-inner",value:i,onChange:a=>r(a.target.value),placeholder:" ..."}),R.jsxs("div",{className:"flex justify-end mt-6 gap-4",children:[R.jsx("button",{className:"px-6 py-2 bg-gray-200 text-gray-700 font-bold rounded-xl shadow hover:bg-gray-300 transition-all",onClick:e,children:""}),R.jsx("button",{className:"px-6 py-2 bg-indigo-500 text-white font-bold rounded-xl shadow hover:bg-indigo-600 transition-all",onClick:s,children:""})]})]})})}function ux(){const{medications:t,updateMedication:e}=k.useContext(jc),n=(f,m)=>{const x=`${new Date().toISOString().split("T")[0]}T${m||"08:00"}`;e(N=>{const D=N.map(T=>{if(T.id===f){const _={...T.takenRecords||{}};return _[x]=_[x]!==!0,{...T,takenRecords:_}}return T});try{const T=window.localStorage.getItem("current_user")?`medications_${JSON.parse(window.localStorage.getItem("current_user")).email}`:"medications";window.localStorage.setItem(T,JSON.stringify(D))}catch{}return D})},[i,r]=k.useState(null),s=k.useMemo(()=>new Date,[]),a=s.toTimeString().substring(0,5),l=(f,m,g)=>{const x=`${g.toISOString().split("T")[0]}T${m}`;return!!(f.takenRecords&&f.takenRecords[x]===!0)},u=k.useMemo(()=>{const f=s.toLocaleDateString("ko-KR",{weekday:"short"}),m=s.toISOString().split("T")[0];return(t||[]).filter(x=>x.days&&x.days.includes(f)&&x.startDate<=m&&x.endDate>=m).flatMap(x=>(Array.isArray(x.times)&&x.times.length>0?x.times:[{category:"",time:"08:00"}]).map((D,T)=>{const _=l(x,D.time,s);return{id:`${x.id}-${D.time}-${T}`,medicationId:x.id,name:x.name,doseTime:D.time,type:x.type,taken:_,takenTime:x.takenTime,isMissed:!_&&D.time<a}}).filter(D=>D.doseTime).sort((D,T)=>{const _=D.doseTime||"00:00",w=T.doseTime||"00:00";return _==="00:00"&&w!=="00:00"?1:w==="00:00"&&_!=="00:00"?-1:_.localeCompare(w)}))},[t,s,a]),c=(f,m)=>{const g=t.map(p=>p.id===f?{...p,memo:m}:p);e(g)};return R.jsxs("div",{className:"today-page min-h-screen bg-gradient-to-br from-indigo-50 via-blue-50 to-pink-50 flex flex-col items-center py-8 px-2",children:[R.jsx("div",{className:"w-full max-w-2xl mb-8 flex justify-center",children:R.jsxs("div",{className:"w-full bg-gradient-to-r from-blue-100 via-indigo-100 to-pink-100 rounded-3xl shadow-2xl px-8 py-6 flex flex-col items-center border border-indigo-100",children:[R.jsx("h1",{className:"text-3xl font-extrabold text-indigo-700 mb-2 tracking-tight drop-shadow-lg text-center",children:"  "}),R.jsx("span",{className:"text-sm text-gray-400 font-semibold",children:"   !"})]})}),R.jsxs("main",{className:"w-full max-w-2xl flex flex-col gap-8 p-8 bg-white/80 rounded-3xl shadow-2xl border border-indigo-100",children:[R.jsx("div",{className:"mb-2",children:R.jsx(sx,{medications:u})}),R.jsx("div",{children:R.jsx(ax,{medications:u,onToggle:n,renderExtra:f=>R.jsx("button",{className:"absolute top-2 right-2 p-2 text-white bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full shadow hover:scale-110 transition-transform",onClick:()=>r(f),title:"",children:""})})}),R.jsx("div",{children:R.jsx(ox,{medications:u})})]}),i&&R.jsx(lx,{medication:i,onClose:()=>r(null),onSave:c})]})}function cx(){function t(c,f,m){return(c||[]).filter(g=>!(!g.startDate||!g.endDate||f<g.startDate||f>g.endDate||g.days&&g.days.length>0&&!g.days.includes(m)))}const e=["","","","","","",""],{medications:n}=k.useContext(jc),i=n,[r,s]=k.useState(null),[a,l]=k.useState(()=>{const c=new Date;return{year:c.getFullYear(),month:c.getMonth()}});function u(){const c=new Date(a.year,a.month+1,0).getDate(),f=new Date(a.year,a.month,1).getDay(),m=[];for(let p=0;p<f;p++)m.push(null);for(let p=1;p<=c;p++)m.push(p);const g={width:"95px",height:"105px",minWidth:"95px",minHeight:"105px",maxWidth:"95px",maxHeight:"105px",padding:"10px 6px",borderRadius:"1rem",boxShadow:"0 2px 8px 0 rgba(180,180,255,0.10)",background:"linear-gradient(135deg, #f8fafc 0%, #e0e7ff 100%)",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"start"};return R.jsxs("div",{children:[R.jsxs("div",{className:"flex items-center justify-center mb-4 gap-4",children:[R.jsx("button",{className:"px-3 py-1 rounded bg-indigo-100 hover:bg-indigo-300 text-indigo-700 font-bold text-lg",onClick:()=>{l(p=>{let x=p.year,N=p.month-1;return{...p,month:N<0?11:N,year:N<0?x-1:x}})},children:""}),R.jsx("select",{className:"px-2 py-1 rounded border border-indigo-200 text-indigo-800 font-bold text-lg mr-2",value:a.year,onChange:p=>l(x=>({...x,year:Number(p.target.value)})),children:Array.from({length:new Date().getFullYear()-2020+1},(p,x)=>2020+x).map(p=>R.jsxs("option",{value:p,children:[p,""]},p))}),R.jsx("select",{className:"px-2 py-1 rounded border border-indigo-200 text-indigo-800 font-bold text-lg",value:a.month+1,onChange:p=>l(x=>({...x,month:Number(p.target.value)-1})),children:Array.from({length:12},(p,x)=>x+1).map(p=>R.jsxs("option",{value:p,children:[p,""]},p))}),R.jsx("button",{className:"px-3 py-1 rounded bg-indigo-100 hover:bg-indigo-300 text-indigo-700 font-bold text-lg",onClick:()=>{l(p=>{let x=p.year,N=p.month+1;return{...p,month:N>11?0:N,year:N>11?x+1:x}})},children:""})]}),R.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:e.map(p=>R.jsx("div",{className:"text-center font-bold text-indigo-600",children:p},p))}),R.jsx("div",{className:"grid grid-cols-7 gap-2",children:m.map((p,x)=>{if(!p)return R.jsx("div",{style:g,className:"border bg-white"},x);const N=`${a.year}-${String(a.month+1).padStart(2,"0")}-${String(p).padStart(2,"0")}`,D=e[(f+p-1)%7],T=t(i,N,D);return R.jsxs("div",{style:g,className:"border bg-white flex flex-col items-center justify-start",children:[R.jsx("span",{className:"font-bold text-indigo-700 text-lg mb-1",children:p}),R.jsx("div",{className:"flex flex-col gap-1 w-full items-center",children:T.length>0?T.map((_,w)=>R.jsxs("div",{className:"truncate text-xs text-gray-700 flex items-center gap-1",children:[R.jsx("span",{children:_.name}),_.times.map((O,M)=>{const z=`${N}T${O.time||"08:00"}`,E=new Date,v=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}-${String(E.getDate()).padStart(2,"0")}`;if(N>v)return R.jsx("span",{className:"ml-1 text-blue-400 font-bold",children:""},M);const b=_.takenRecords&&_.takenRecords[z]===!0;return R.jsx("span",{className:"ml-1",children:b?"":""},M)})]},w)):R.jsx("span",{className:"text-xs text-gray-400",children:" "})})]},x)})})]})}return R.jsx("div",{className:"p-4",children:u()})}const hx=()=>{};var S_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},fx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Eb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,l=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,p=c&63;u||(p=64,a||(g=64)),i.push(n[f],n[m],n[g],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const m=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||c==null||m==null)throw new dx;const g=s<<2|l>>4;if(i.push(g),c!==64){const p=l<<4&240|c>>2;if(i.push(p),m!==64){const x=c<<6&192|m;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mx=function(t){const e=vb(t);return Eb.encodeByteArray(e,!0)},ec=function(t){return mx(t).replace(/\./g,"")},Tb=function(t){try{return Eb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=()=>gx().__FIREBASE_DEFAULTS__,yx=()=>{if(typeof process>"u"||typeof S_>"u")return;const t=S_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_x=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tb(t[1]);return e&&JSON.parse(e)},Hc=()=>{try{return hx()||px()||yx()||_x()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bb=t=>{var e,n;return(n=(e=Hc())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vx=t=>{const e=bb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Sb=()=>{var t;return(t=Hc())==null?void 0:t.config},Ab=t=>{var e;return(e=Hc())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ec(JSON.stringify(n)),ec(JSON.stringify(a)),""].join(".")}const so={};function bx(){const t={prod:[],emulator:[]};for(const e of Object.keys(so))so[e]?t.emulator.push(e):t.prod.push(e);return t}function Sx(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let A_=!1;function Rb(t,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||so[t]===e||so[t]||A_)return;so[t]=e;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",s=bx().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,p){g.setAttribute("width","24"),g.setAttribute("id",p),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{A_=!0,a()},g}function f(g,p){g.setAttribute("id",p),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Sx(i),p=n("text"),x=document.getElementById(p)||document.createElement("span"),N=n("learnmore"),D=document.getElementById(N)||document.createElement("a"),T=n("preprendIcon"),_=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const w=g.element;l(w),f(D,N);const O=c();u(_,T),w.append(_,x,D,O),document.body.appendChild(w)}s?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ax(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function wx(){var e;const t=(e=Hc())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ix(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Nx(){return!wx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dx(){try{return typeof indexedDB=="object"}catch{return!1}}function Ox(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FirebaseError";class ri extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Mx,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tl.prototype.create)}}class tl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?Vx(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new ri(r,l,i)}}function Vx(t,e){return t.replace(kx,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const kx=/\{\$([^}]+)}/g;function Lx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ir(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(w_(s)&&w_(a)){if(!Ir(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function w_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ja(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function za(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Px(t,e){const n=new Ux(t,e);return n.subscribe.bind(n)}class Ux{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=mf),r.error===void 0&&(r.error=mf),r.complete===void 0&&(r.complete=mf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){return t&&t._delegate?t._delegate:t}class Nr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Ex;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hx(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Bx(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bx(t){return t===pr?void 0:t}function Hx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const Fx={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Gx=se.INFO,Kx={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Qx=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Kx[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=Gx,this._logHandler=Qx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const Yx=(t,e)=>e.some(n=>t instanceof n);let R_,C_;function $x(){return R_||(R_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Xx(){return C_||(C_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cb=new WeakMap,Ad=new WeakMap,xb=new WeakMap,gf=new WeakMap,ng=new WeakMap;function Jx(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ji(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Cb.set(n,t)}).catch(()=>{}),ng.set(e,t),e}function Wx(t){if(Ad.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Ad.set(t,e)}let wd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zx(t){wd=t(wd)}function eI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(pf(this),e,...n);return xb.set(i,e.sort?e.sort():[e]),ji(i)}:Xx().includes(t)?function(...e){return t.apply(pf(this),e),ji(Cb.get(this))}:function(...e){return ji(t.apply(pf(this),e))}}function tI(t){return typeof t=="function"?eI(t):(t instanceof IDBTransaction&&Wx(t),Yx(t,$x())?new Proxy(t,wd):t)}function ji(t){if(t instanceof IDBRequest)return Jx(t);if(gf.has(t))return gf.get(t);const e=tI(t);return e!==t&&(gf.set(t,e),ng.set(e,t)),e}const pf=t=>ng.get(t);function nI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),l=ji(a);return i&&a.addEventListener("upgradeneeded",u=>{i(ji(a.result),u.oldVersion,u.newVersion,ji(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const iI=["get","getKey","getAll","getAllKeys","count"],rI=["put","add","delete","clear"],yf=new Map;function x_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=rI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||iI.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return yf.set(e,s),s}Zx(t=>({...t,get:(e,n,i)=>x_(e,n)||t.get(e,n,i),has:(e,n)=>!!x_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rd="@firebase/app",I_="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new tg("@firebase/app"),oI="@firebase/app-compat",lI="@firebase/analytics-compat",uI="@firebase/analytics",cI="@firebase/app-check-compat",hI="@firebase/app-check",fI="@firebase/auth",dI="@firebase/auth-compat",mI="@firebase/database",gI="@firebase/data-connect",pI="@firebase/database-compat",yI="@firebase/functions",_I="@firebase/functions-compat",vI="@firebase/installations",EI="@firebase/installations-compat",TI="@firebase/messaging",bI="@firebase/messaging-compat",SI="@firebase/performance",AI="@firebase/performance-compat",wI="@firebase/remote-config",RI="@firebase/remote-config-compat",CI="@firebase/storage",xI="@firebase/storage-compat",II="@firebase/firestore",NI="@firebase/ai",DI="@firebase/firestore-compat",OI="firebase",MI="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",VI={[Rd]:"fire-core",[oI]:"fire-core-compat",[uI]:"fire-analytics",[lI]:"fire-analytics-compat",[hI]:"fire-app-check",[cI]:"fire-app-check-compat",[fI]:"fire-auth",[dI]:"fire-auth-compat",[mI]:"fire-rtdb",[gI]:"fire-data-connect",[pI]:"fire-rtdb-compat",[yI]:"fire-fn",[_I]:"fire-fn-compat",[vI]:"fire-iid",[EI]:"fire-iid-compat",[TI]:"fire-fcm",[bI]:"fire-fcm-compat",[SI]:"fire-perf",[AI]:"fire-perf-compat",[wI]:"fire-rc",[RI]:"fire-rc-compat",[CI]:"fire-gcs",[xI]:"fire-gcs-compat",[II]:"fire-fst",[DI]:"fire-fst-compat",[NI]:"fire-vertex","fire-js":"fire-js",[OI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,kI=new Map,xd=new Map;function N_(t,e){try{t.container.addComponent(e)}catch(n){Wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(xd.has(e))return Wn.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,t);for(const n of tc.values())N_(n,t);for(const n of kI.values())N_(n,t);return!0}function ig(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yt(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new tl("app","Firebase",LI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Nr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=MI;function Ib(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Cd,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw zi.create("bad-app-name",{appName:String(r)});if(n||(n=Sb()),!n)throw zi.create("no-options");const s=tc.get(r);if(s){if(Ir(n,s.options)&&Ir(i,s.config))return s;throw zi.create("duplicate-app",{appName:r})}const a=new qx(r);for(const u of xd.values())a.addComponent(u);const l=new PI(n,i,a);return tc.set(r,l),l}function Nb(t=Cd){const e=tc.get(t);if(!e&&t===Cd&&Sb())return Ib();if(!e)throw zi.create("no-app",{appName:t});return e}function Bi(t,e,n){let i=VI[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wn.warn(a.join(" "));return}zs(new Nr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="firebase-heartbeat-database",jI=1,xo="firebase-heartbeat-store";let _f=null;function Db(){return _f||(_f=nI(UI,jI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw zi.create("idb-open",{originalErrorMessage:t.message})})),_f}async function zI(t){try{const n=(await Db()).transaction(xo),i=await n.objectStore(xo).get(Ob(t));return await n.done,i}catch(e){if(e instanceof ri)Wn.warn(e.message);else{const n=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(n.message)}}}async function D_(t,e){try{const i=(await Db()).transaction(xo,"readwrite");await i.objectStore(xo).put(e,Ob(t)),await i.done}catch(n){if(n instanceof ri)Wn.warn(n.message);else{const i=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wn.warn(i.message)}}}function Ob(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,HI=30;class qI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>HI){const a=KI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O_(),{heartbeatsToSend:i,unsentEntries:r}=FI(this._heartbeatsCache.heartbeats),s=ec(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Wn.warn(n),""}}}function O_(){return new Date().toISOString().substring(0,10)}function FI(t,e=BI){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),M_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),M_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class GI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dx()?Ox().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return D_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M_(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}function KI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){zs(new Nr("platform-logger",e=>new sI(e),"PRIVATE")),zs(new Nr("heartbeat",e=>new qI(e),"PRIVATE")),Bi(Rd,I_,t),Bi(Rd,I_,"esm2020"),Bi("fire-js","")}QI("");var YI="firebase",$I="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(YI,$I,"app");function Mb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XI=Mb,Vb=new tl("auth","Firebase",Mb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new tg("@firebase/auth");function JI(t,...e){nc.logLevel<=se.WARN&&nc.warn(`Auth (${ra}): ${t}`,...e)}function fu(t,...e){nc.logLevel<=se.ERROR&&nc.error(`Auth (${ra}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw rg(t,...e)}function yn(t,...e){return rg(t,...e)}function kb(t,e,n){const i={...XI(),[e]:n};return new tl("auth","Firebase",i).create(e,{appName:t.name})}function Fn(t){return kb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Vb.create(t,...e)}function $(t,e,...n){if(!t)throw rg(e,...n)}function Pn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fu(e),new Error(e)}function Zn(t,e){t||Pn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function WI(){return V_()==="http:"||V_()==="https:"}function V_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WI()||Cx()||"connection"in navigator)?navigator.onLine:!0}function eN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zn(n>e,"Short delay should be less than long delay!"),this.isMobile=Ax()||xx()}get(){return ZI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e){Zn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iN=new il(3e4,6e4);function nr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ir(t,e,n,i,r={}){return Pb(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const l=nl({key:t.config.apiKey,...a}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...s};return Rx()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ia(t.emulatorConfig.host)&&(c.credentials="include"),Lb.fetch()(await Ub(t,t.config.apiHost,n,l),c)})}async function Pb(t,e,n){t._canInitEmulator=!1;const i={...tN,...e};try{const r=new sN(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Bl(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Bl(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Bl(t,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw kb(t,f,c);on(t,f)}}catch(r){if(r instanceof ri)throw r;on(t,"network-request-failed",{message:String(r)})}}async function rl(t,e,n,i,r={}){const s=await ir(t,e,n,i,r);return"mfaPendingCredential"in s&&on(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Ub(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?sg(t.config,r):`${t.config.apiScheme}://${r}`;return nN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function rN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(yn(this.auth,"network-request-failed")),iN.get())})}}function Bl(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=yn(t,e,i);return r.customData._tokenResponse=n,r}function k_(t){return t!==void 0&&t.enterprise!==void 0}class aN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oN(t,e){return ir(t,"GET","/v2/recaptchaConfig",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(t,e){return ir(t,"POST","/v1/accounts:delete",e)}async function ic(t,e){return ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uN(t,e=!1){const n=an(t),i=await n.getIdToken(e),r=ag(i);$(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:ao(vf(r.auth_time)),issuedAtTime:ao(vf(r.iat)),expirationTime:ao(vf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function ag(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return fu("JWT malformed, contained fewer than 3 sections"),null;try{const r=Tb(n);return r?JSON.parse(r):(fu("Failed to decode base64 JWT payload"),null)}catch(r){return fu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function L_(t){const e=ag(t);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ri&&cN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function cN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t){var m;const e=t.auth,n=await t.getIdToken(),i=await Io(t,ic(e,{idToken:n}));$(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(m=r.providerUserInfo)!=null&&m.length?jb(r.providerUserInfo):[],a=dN(t.providerData,s),l=t.isAnonymous,u=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Nd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function fN(t){const e=an(t);await rc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function jb(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e){const n=await Pb(t,{},async()=>{const i=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await Ub(t,r,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return t.emulatorConfig&&ia(t.emulatorConfig.host)&&(u.credentials="include"),Lb.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gN(t,e){return ir(t,"POST","/v2/accounts:revokeToken",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$(e.length!==0,"internal-error");const n=L_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await mN(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new ws;return i&&($(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&($(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&($(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ws,this.toJSON())}_performRefresh(){return Pn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){$(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nn{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new hN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Nd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return $(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uN(this,e)}reload(){return fN(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await rc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yt(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await Io(this,lN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:p,providerData:x,stsTokenManager:N}=n;$(m&&N,e,"internal-error");const D=ws.fromJSON(this.name,N);$(typeof m=="string",e,"internal-error"),di(i,e.name),di(r,e.name),$(typeof g=="boolean",e,"internal-error"),$(typeof p=="boolean",e,"internal-error"),di(s,e.name),di(a,e.name),di(l,e.name),di(u,e.name),di(c,e.name),di(f,e.name);const T=new nn({uid:m,auth:e,email:r,emailVerified:g,displayName:i,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:D,createdAt:c,lastLoginAt:f});return x&&Array.isArray(x)&&(T.providerData=x.map(_=>({..._}))),u&&(T._redirectEventId=u),T}static async _fromIdTokenResponse(e,n,i=!1){const r=new ws;r.updateFromServerResponse(n);const s=new nn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await rc(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];$(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?jb(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new ws;l.updateFromIdToken(i);const u=new nn({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Nd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;function Un(t){Zn(t instanceof Function,"Expected a class definition");let e=P_.get(t);return e?(Zn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zb.type="NONE";const U_=zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e,n){return`firebase:${t}:${e}:${n}`}class Rs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=du(this.userKey,r.apiKey,s),this.fullPersistenceKey=du("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ic(this.auth,{idToken:e}).catch(()=>{});return n?nn._fromGetAccountInfoResponse(this.auth,n,e):null}return nn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rs(Un(U_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Un(U_);const a=du(i,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let m;if(typeof f=="string"){const g=await ic(e,{idToken:f}).catch(()=>{});if(!g)break;m=await nn._fromGetAccountInfoResponse(e,g,f)}else m=nn._fromJSON(e,f);c!==s&&(l=m),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Rs(s,e,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Rs(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kb(e))return"Blackberry";if(Qb(e))return"Webos";if(Hb(e))return"Safari";if((e.includes("chrome/")||qb(e))&&!e.includes("edge/"))return"Chrome";if(Gb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Bb(t=gt()){return/firefox\//i.test(t)}function Hb(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qb(t=gt()){return/crios\//i.test(t)}function Fb(t=gt()){return/iemobile/i.test(t)}function Gb(t=gt()){return/android/i.test(t)}function Kb(t=gt()){return/blackberry/i.test(t)}function Qb(t=gt()){return/webos/i.test(t)}function og(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pN(t=gt()){var e;return og(t)&&!!((e=window.navigator)!=null&&e.standalone)}function yN(){return Ix()&&document.documentMode===10}function Yb(t=gt()){return og(t)||Gb(t)||Qb(t)||Kb(t)||/windows phone/i.test(t)||Fb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e=[]){let n;switch(t){case"Browser":n=j_(gt());break;case"Worker":n=`${j_(gt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ra}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,l)=>{try{const u=e(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,e={}){return ir(t,"GET","/v2/passwordPolicy",nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=6;class TN{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z_(this),this.idTokenSubscription=new z_(this),this.beforeStateQueue=new _N(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Un(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Rs.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ic(this,{idToken:e}),i=await nn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Yt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yt(this.app))return Promise.reject(Fn(this));const n=e?an(e):null;return n&&$(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yt(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yt(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Un(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vN(this),n=new TN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await gN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Un(e)||this._popupRedirectResolver;$(n,this,"argument-error"),this.redirectPersistenceManager=await Rs.create(this,[Un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if($(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&JI(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Br(t){return an(t)}class z_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Px(n=>this.observer=n)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SN(t){qc=t}function Xb(t){return qc.loadJS(t)}function AN(){return qc.recaptchaEnterpriseScript}function wN(){return qc.gapiScript}function RN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class CN{constructor(){this.enterprise=new xN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const IN="recaptcha-enterprise",Jb="NO_RECAPTCHA";class NN{constructor(e){this.type=IN,this.auth=Br(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{oN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new aN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;k_(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(Jb)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CN().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&k_(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=AN();u.length!==0&&(u+=l),Xb(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function B_(t,e,n,i=!1,r=!1){const s=new NN(t);let a;if(r)a=Jb;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Dd(t,e,n,i,r){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B_(t,e,n,n==="getOobCode");return i(t,a)}else return i(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await B_(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){const n=ig(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Ir(s,e??{}))return r;on(r,"already-initialized")}return n.initialize({options:e})}function ON(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function MN(t,e,n){const i=Br(t);$(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Wb(e),{host:a,port:l}=VN(e),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$(Ir(c,i.config.emulator)&&Ir(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,ia(a)?(wb(`${s}//${a}${u}`),Rb("Auth",!0)):kN()}function Wb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VN(t){const e=Wb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:H_(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:H_(a)}}}function H_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}}async function LN(t,e){return ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(t,e){return rl(t,"POST","/v1/accounts:signInWithPassword",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}async function jN(t,e){return rl(t,"POST","/v1/accounts:signInWithEmailLink",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends lg{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new No(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new No(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,n,"signInWithPassword",PN);case"emailLink":return UN(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dd(e,i,"signUpPassword",LN);case"emailLink":return jN(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(t,e){return rl(t,"POST","/v1/accounts:signInWithIdp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="http://localhost";class Dr extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Dr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Dr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Cs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Cs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Cs(e,n)}buildRequest(){const e={requestUri:zN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HN(t){const e=ja(za(t)).link,n=e?ja(za(e)).deep_link_id:null,i=ja(za(t)).deep_link_id;return(i?ja(za(i)).link:null)||i||n||e||t}class ug{constructor(e){const n=ja(za(e)),i=n.apiKey??null,r=n.oobCode??null,s=BN(n.mode??null);$(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HN(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,n){return No._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ug.parseLink(n);return $(i,"argument-error"),No._fromEmailAndCode(e,i.code,i.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Zb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends sl{constructor(){super("facebook.com")}static credential(e){return Dr._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends sl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Dr._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ti.credential(n,i)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends sl{constructor(){super("github.com")}static credential(e){return Dr._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends sl{constructor(){super("twitter.com")}static credential(e,n){return Dr._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Si.credential(n,i)}catch{return null}}}Si.TWITTER_SIGN_IN_METHOD="twitter.com";Si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e){return rl(t,"POST","/v1/accounts:signUp",nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await nn._fromIdTokenResponse(e,i,r),a=q_(i);return new Or({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=q_(i);return new Or({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function q_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends ri{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new sc(e,n,i,r)}}function eS(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(t,s,e,i):s})}async function FN(t,e,n=!1){const i=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Or._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e,n=!1){const{auth:i}=t;if(Yt(i.app))return Promise.reject(Fn(i));const r="reauthenticate";try{const s=await Io(t,eS(i,r,e,t),n);$(s.idToken,i,"internal-error");const a=ag(s.idToken);$(a,i,"internal-error");const{sub:l}=a;return $(t.uid===l,i,"user-mismatch"),Or._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&on(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(t,e,n=!1){if(Yt(t.app))return Promise.reject(Fn(t));const i="signIn",r=await eS(t,i,e),s=await Or._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function KN(t,e){return tS(Br(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(t){const e=Br(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QN(t,e,n){if(Yt(t.app))return Promise.reject(Fn(t));const i=Br(t),a=await Dd(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&nS(t),u}),l=await Or._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function YN(t,e,n){return Yt(t.app)?Promise.reject(Fn(t)):KN(an(t),sa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&nS(t),i})}function $N(t,e,n,i){return an(t).onIdTokenChanged(e,n,i)}function XN(t,e,n){return an(t).beforeAuthStateChanged(e,n)}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=1e3,WN=10;class rS extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);yN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WN):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},JN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const ZN=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sS.type="SESSION";const aS=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Fc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await eD(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=cg("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function nD(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function iD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function sD(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",aD=1,oc="firebaseLocalStorage",uS="fbase_key";class al{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gc(t,e){return t.transaction([oc],e?"readwrite":"readonly").objectStore(oc)}function oD(){const t=indexedDB.deleteDatabase(lS);return new al(t).toPromise()}function Od(){const t=indexedDB.open(lS,aD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(oc,{keyPath:uS})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(oc)?e(i):(i.close(),await oD(),e(await Od()))})})}async function F_(t,e,n){const i=Gc(t,!0).put({[uS]:e,value:n});return new al(i).toPromise()}async function lD(t,e){const n=Gc(t,!1).get(e),i=await new al(n).toPromise();return i===void 0?null:i.value}function G_(t,e){const n=Gc(t,!0).delete(e);return new al(n).toPromise()}const uD=800,cD=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>cD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(sD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await iD(),!this.activeServiceWorker)return;this.sender=new tD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Od();return await F_(e,ac,"1"),await G_(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>F_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>lD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>G_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Gc(r,!1).getAll();return new al(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const hD=cS;new il(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t,e){return e?Un(e):($(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dD(t){return tS(t.auth,new hg(t),t.bypassAuthState)}function mD(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),GN(n,new hg(t),t.bypassAuthState)}async function gD(t){const{auth:e,user:n}=t;return $(n,e,"internal-error"),FN(n,new hg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dD;case"linkViaPopup":case"linkViaRedirect":return gD;case"reauthViaPopup":case"reauthViaRedirect":return mD;default:on(this.auth,"internal-error")}}resolve(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new il(2e3,1e4);class ys extends hS{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $(e,this.auth,"internal-error"),e}async onExecution(){Zn(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pD.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="pendingRedirect",mu=new Map;class _D extends hS{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=mu.get(this.auth._key());if(!e){try{const i=await vD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}mu.set(this.auth._key(),e)}return this.bypassAuthState||mu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vD(t,e){const n=bD(e),i=TD(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ED(t,e){mu.set(t._key(),e)}function TD(t){return Un(t._redirectPersistence)}function bD(t){return du(yD,t.config.apiKey,t.name)}async function SD(t,e,n=!1){if(Yt(t.app))return Promise.reject(Fn(t));const i=Br(t),r=fD(i,e),a=await new _D(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=10*60*1e3;class wD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!fS(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(yn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AD&&this.cachedEventUids.clear(),this.cachedEventUids.has(K_(e))}saveEventToCache(e){this.cachedEventUids.add(K_(e)),this.lastProcessedEventTime=Date.now()}}function K_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e={}){return ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ID=/^https?/;async function ND(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CD(t);for(const n of e)try{if(DD(n))return}catch{}on(t,"unauthorized-domain")}function DD(t){const e=Id(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!ID.test(n))return!1;if(xD.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new il(3e4,6e4);function Q_(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MD(t){return new Promise((e,n)=>{var r,s,a;function i(){Q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q_(),n(yn(t,"network-request-failed"))},timeout:OD.get()})}if((s=(r=_n().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=_n().gapi)!=null&&a.load)i();else{const l=RN("iframefcb");return _n()[l]=()=>{gapi.load?i():n(yn(t,"network-request-failed"))},Xb(`${wN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw gu=null,e})}let gu=null;function VD(t){return gu=gu||MD(t),gu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new il(5e3,15e3),LD="__/auth/iframe",PD="emulator/auth/iframe",UD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zD(t){const e=t.config;$(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sg(e,PD):`https://${t.config.authDomain}/${LD}`,i={apiKey:e.apiKey,appName:t.name,v:ra},r=jD.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${nl(i).slice(1)}`}async function BD(t){const e=await VD(t),n=_n().gapi;return $(n,t,"internal-error"),e.open({where:document.body,url:zD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UD,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=yn(t,"network-request-failed"),l=_n().setTimeout(()=>{s(a)},kD.get());function u(){_n().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qD=500,FD=600,GD="_blank",KD="http://localhost";class Y_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QD(t,e,n,i=qD,r=FD){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...HD,width:i.toString(),height:r.toString(),top:s,left:a},c=gt().toLowerCase();n&&(l=qb(c)?GD:n),Bb(c)&&(e=e||KD,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[p,x])=>`${g}${p}=${x},`,"");if(pN(c)&&l!=="_self")return YD(e||"",l),new Y_(null);const m=window.open(e||"",l,f);$(m,t,"popup-blocked");try{m.focus()}catch{}return new Y_(m)}function YD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__/auth/handler",XD="emulator/auth/handler",JD=encodeURIComponent("fac");async function $_(t,e,n,i,r,s){$(t.config.authDomain,t,"auth-domain-config-required"),$(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ra,eventId:r};if(e instanceof Zb){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Lx(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof sl){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${JD}=${encodeURIComponent(u)}`:"";return`${WD(t)}?${nl(l).slice(1)}${c}`}function WD({config:t}){return t.emulator?sg(t,XD):`https://${t.authDomain}/${$D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class ZD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aS,this._completeRedirectFn=SD,this._overrideRedirectResult=ED}async _openPopup(e,n,i,r){var a;Zn((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await $_(e,n,i,Id(),r);return QD(e,s,cg())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await $_(e,n,i,Id(),r);return nD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Zn(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await BD(e),i=new wD(e);return n.register("authEvent",r=>($(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Ef];s!==void 0&&n(!!s),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ND(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||Hb()||og()}}const eO=ZD;var X_="@firebase/auth",J_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iO(t){zs(new Nr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;$(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(t)},c=new bN(i,r,s,u);return ON(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),zs(new Nr("auth-internal",e=>{const n=Br(e.getProvider("auth").getImmediate());return(i=>new tO(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(X_,J_,nO(t)),Bi(X_,J_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=5*60,sO=Ab("authIdTokenMaxAge")||rO;let W_=null;const aO=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>sO)return;const r=n==null?void 0:n.token;W_!==r&&(W_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function oO(t=Nb()){const e=ig(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DN(t,{popupRedirectResolver:eO,persistence:[hD,ZN,aS]}),i=Ab("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=aO(s.toString());XN(n,a,()=>a(n.currentUser)),$N(n,l=>a(l))}}const r=bb("auth");return r&&MN(n,`http://${r}`),n}function lO(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}SN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=yn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",lO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iO("Browser");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,dS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function b(){}b.prototype=v.prototype,E.F=v.prototype,E.prototype=new b,E.prototype.constructor=E,E.D=function(C,I,S){for(var A=Array(arguments.length-2),Y=2;Y<arguments.length;Y++)A[Y-2]=arguments[Y];return v.prototype[I].apply(C,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,v,b){b||(b=0);const C=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)C[I]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(I=0;I<16;++I)C[I]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=E.g[0],b=E.g[1],I=E.g[2];let S=E.g[3],A;A=v+(S^b&(I^S))+C[0]+3614090360&4294967295,v=b+(A<<7&4294967295|A>>>25),A=S+(I^v&(b^I))+C[1]+3905402710&4294967295,S=v+(A<<12&4294967295|A>>>20),A=I+(b^S&(v^b))+C[2]+606105819&4294967295,I=S+(A<<17&4294967295|A>>>15),A=b+(v^I&(S^v))+C[3]+3250441966&4294967295,b=I+(A<<22&4294967295|A>>>10),A=v+(S^b&(I^S))+C[4]+4118548399&4294967295,v=b+(A<<7&4294967295|A>>>25),A=S+(I^v&(b^I))+C[5]+1200080426&4294967295,S=v+(A<<12&4294967295|A>>>20),A=I+(b^S&(v^b))+C[6]+2821735955&4294967295,I=S+(A<<17&4294967295|A>>>15),A=b+(v^I&(S^v))+C[7]+4249261313&4294967295,b=I+(A<<22&4294967295|A>>>10),A=v+(S^b&(I^S))+C[8]+1770035416&4294967295,v=b+(A<<7&4294967295|A>>>25),A=S+(I^v&(b^I))+C[9]+2336552879&4294967295,S=v+(A<<12&4294967295|A>>>20),A=I+(b^S&(v^b))+C[10]+4294925233&4294967295,I=S+(A<<17&4294967295|A>>>15),A=b+(v^I&(S^v))+C[11]+2304563134&4294967295,b=I+(A<<22&4294967295|A>>>10),A=v+(S^b&(I^S))+C[12]+1804603682&4294967295,v=b+(A<<7&4294967295|A>>>25),A=S+(I^v&(b^I))+C[13]+4254626195&4294967295,S=v+(A<<12&4294967295|A>>>20),A=I+(b^S&(v^b))+C[14]+2792965006&4294967295,I=S+(A<<17&4294967295|A>>>15),A=b+(v^I&(S^v))+C[15]+1236535329&4294967295,b=I+(A<<22&4294967295|A>>>10),A=v+(I^S&(b^I))+C[1]+4129170786&4294967295,v=b+(A<<5&4294967295|A>>>27),A=S+(b^I&(v^b))+C[6]+3225465664&4294967295,S=v+(A<<9&4294967295|A>>>23),A=I+(v^b&(S^v))+C[11]+643717713&4294967295,I=S+(A<<14&4294967295|A>>>18),A=b+(S^v&(I^S))+C[0]+3921069994&4294967295,b=I+(A<<20&4294967295|A>>>12),A=v+(I^S&(b^I))+C[5]+3593408605&4294967295,v=b+(A<<5&4294967295|A>>>27),A=S+(b^I&(v^b))+C[10]+38016083&4294967295,S=v+(A<<9&4294967295|A>>>23),A=I+(v^b&(S^v))+C[15]+3634488961&4294967295,I=S+(A<<14&4294967295|A>>>18),A=b+(S^v&(I^S))+C[4]+3889429448&4294967295,b=I+(A<<20&4294967295|A>>>12),A=v+(I^S&(b^I))+C[9]+568446438&4294967295,v=b+(A<<5&4294967295|A>>>27),A=S+(b^I&(v^b))+C[14]+3275163606&4294967295,S=v+(A<<9&4294967295|A>>>23),A=I+(v^b&(S^v))+C[3]+4107603335&4294967295,I=S+(A<<14&4294967295|A>>>18),A=b+(S^v&(I^S))+C[8]+1163531501&4294967295,b=I+(A<<20&4294967295|A>>>12),A=v+(I^S&(b^I))+C[13]+2850285829&4294967295,v=b+(A<<5&4294967295|A>>>27),A=S+(b^I&(v^b))+C[2]+4243563512&4294967295,S=v+(A<<9&4294967295|A>>>23),A=I+(v^b&(S^v))+C[7]+1735328473&4294967295,I=S+(A<<14&4294967295|A>>>18),A=b+(S^v&(I^S))+C[12]+2368359562&4294967295,b=I+(A<<20&4294967295|A>>>12),A=v+(b^I^S)+C[5]+4294588738&4294967295,v=b+(A<<4&4294967295|A>>>28),A=S+(v^b^I)+C[8]+2272392833&4294967295,S=v+(A<<11&4294967295|A>>>21),A=I+(S^v^b)+C[11]+1839030562&4294967295,I=S+(A<<16&4294967295|A>>>16),A=b+(I^S^v)+C[14]+4259657740&4294967295,b=I+(A<<23&4294967295|A>>>9),A=v+(b^I^S)+C[1]+2763975236&4294967295,v=b+(A<<4&4294967295|A>>>28),A=S+(v^b^I)+C[4]+1272893353&4294967295,S=v+(A<<11&4294967295|A>>>21),A=I+(S^v^b)+C[7]+4139469664&4294967295,I=S+(A<<16&4294967295|A>>>16),A=b+(I^S^v)+C[10]+3200236656&4294967295,b=I+(A<<23&4294967295|A>>>9),A=v+(b^I^S)+C[13]+681279174&4294967295,v=b+(A<<4&4294967295|A>>>28),A=S+(v^b^I)+C[0]+3936430074&4294967295,S=v+(A<<11&4294967295|A>>>21),A=I+(S^v^b)+C[3]+3572445317&4294967295,I=S+(A<<16&4294967295|A>>>16),A=b+(I^S^v)+C[6]+76029189&4294967295,b=I+(A<<23&4294967295|A>>>9),A=v+(b^I^S)+C[9]+3654602809&4294967295,v=b+(A<<4&4294967295|A>>>28),A=S+(v^b^I)+C[12]+3873151461&4294967295,S=v+(A<<11&4294967295|A>>>21),A=I+(S^v^b)+C[15]+530742520&4294967295,I=S+(A<<16&4294967295|A>>>16),A=b+(I^S^v)+C[2]+3299628645&4294967295,b=I+(A<<23&4294967295|A>>>9),A=v+(I^(b|~S))+C[0]+4096336452&4294967295,v=b+(A<<6&4294967295|A>>>26),A=S+(b^(v|~I))+C[7]+1126891415&4294967295,S=v+(A<<10&4294967295|A>>>22),A=I+(v^(S|~b))+C[14]+2878612391&4294967295,I=S+(A<<15&4294967295|A>>>17),A=b+(S^(I|~v))+C[5]+4237533241&4294967295,b=I+(A<<21&4294967295|A>>>11),A=v+(I^(b|~S))+C[12]+1700485571&4294967295,v=b+(A<<6&4294967295|A>>>26),A=S+(b^(v|~I))+C[3]+2399980690&4294967295,S=v+(A<<10&4294967295|A>>>22),A=I+(v^(S|~b))+C[10]+4293915773&4294967295,I=S+(A<<15&4294967295|A>>>17),A=b+(S^(I|~v))+C[1]+2240044497&4294967295,b=I+(A<<21&4294967295|A>>>11),A=v+(I^(b|~S))+C[8]+1873313359&4294967295,v=b+(A<<6&4294967295|A>>>26),A=S+(b^(v|~I))+C[15]+4264355552&4294967295,S=v+(A<<10&4294967295|A>>>22),A=I+(v^(S|~b))+C[6]+2734768916&4294967295,I=S+(A<<15&4294967295|A>>>17),A=b+(S^(I|~v))+C[13]+1309151649&4294967295,b=I+(A<<21&4294967295|A>>>11),A=v+(I^(b|~S))+C[4]+4149444226&4294967295,v=b+(A<<6&4294967295|A>>>26),A=S+(b^(v|~I))+C[11]+3174756917&4294967295,S=v+(A<<10&4294967295|A>>>22),A=I+(v^(S|~b))+C[2]+718787259&4294967295,I=S+(A<<15&4294967295|A>>>17),A=b+(S^(I|~v))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+S&4294967295}i.prototype.v=function(E,v){v===void 0&&(v=E.length);const b=v-this.blockSize,C=this.C;let I=this.h,S=0;for(;S<v;){if(I==0)for(;S<=b;)r(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<v;)if(C[I++]=E.charCodeAt(S++),I==this.blockSize){r(this,C),I=0;break}}else for(;S<v;)if(C[I++]=E[S++],I==this.blockSize){r(this,C),I=0;break}}this.h=I,this.o+=v},i.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var b=E.length-8;b<E.length;++b)E[b]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,b=0;b<4;++b)for(let C=0;C<32;C+=8)E[v++]=this.g[b]>>>C&255;return E};function s(E,v){var b=l;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=v(E)}function a(E,v){this.h=v;const b=[];let C=!0;for(let I=E.length-1;I>=0;I--){const S=E[I]|0;C&&S==v||(b[I]=S,C=!1)}this.g=b}var l={};function u(E){return-128<=E&&E<128?s(E,function(v){return new a([v|0],v<0?-1:0)}):new a([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return D(c(-E));const v=[];let b=1;for(let C=0;E>=b;C++)v[C]=E/b|0,b*=4294967296;return new a(v,0)}function f(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return D(f(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=c(Math.pow(v,8));let C=m;for(let S=0;S<E.length;S+=8){var I=Math.min(8,E.length-S);const A=parseInt(E.substring(S,S+I),v);I<8?(I=c(Math.pow(v,I)),C=C.j(I).add(c(A))):(C=C.j(b),C=C.add(c(A)))}return C}var m=u(0),g=u(1),p=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-D(this).m();let E=0,v=1;for(let b=0;b<this.g.length;b++){const C=this.i(b);E+=(C>=0?C:4294967296+C)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(N(this))return"-"+D(this).toString(E);const v=c(Math.pow(E,6));var b=this;let C="";for(;;){const I=O(b,v).g;b=T(b,I.j(v));let S=((b.g.length>0?b.g[0]:b.h)>>>0).toString(E);if(b=I,x(b))return S+C;for(;S.length<6;)S="0"+S;C=S+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=T(this,E),N(E)?-1:x(E)?0:1};function D(E){const v=E.g.length,b=[];for(let C=0;C<v;C++)b[C]=~E.g[C];return new a(b,~E.h).add(g)}t.abs=function(){return N(this)?D(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),b=[];let C=0;for(let I=0;I<=v;I++){let S=C+(this.i(I)&65535)+(E.i(I)&65535),A=(S>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);C=A>>>16,S&=65535,A&=65535,b[I]=A<<16|S}return new a(b,b[b.length-1]&-2147483648?-1:0)};function T(E,v){return E.add(D(v))}t.j=function(E){if(x(this)||x(E))return m;if(N(this))return N(E)?D(this).j(D(E)):D(D(this).j(E));if(N(E))return D(this.j(D(E)));if(this.l(p)<0&&E.l(p)<0)return c(this.m()*E.m());const v=this.g.length+E.g.length,b=[];for(var C=0;C<2*v;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(let I=0;I<E.g.length;I++){const S=this.i(C)>>>16,A=this.i(C)&65535,Y=E.i(I)>>>16,de=E.i(I)&65535;b[2*C+2*I]+=A*de,_(b,2*C+2*I),b[2*C+2*I+1]+=S*de,_(b,2*C+2*I+1),b[2*C+2*I+1]+=A*Y,_(b,2*C+2*I+1),b[2*C+2*I+2]+=S*Y,_(b,2*C+2*I+2)}for(E=0;E<v;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=v;E<2*v;E++)b[E]=0;return new a(b,0)};function _(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function w(E,v){this.g=E,this.h=v}function O(E,v){if(x(v))throw Error("division by zero");if(x(E))return new w(m,m);if(N(E))return v=O(D(E),v),new w(D(v.g),D(v.h));if(N(v))return v=O(E,D(v)),new w(D(v.g),v.h);if(E.g.length>30){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var b=g,C=v;C.l(E)<=0;)b=M(b),C=M(C);var I=z(b,1),S=z(C,1);for(C=z(C,2),b=z(b,2);!x(C);){var A=S.add(C);A.l(E)<=0&&(I=I.add(b),S=A),C=z(C,1),b=z(b,1)}return v=T(E,I.j(v)),new w(I,v)}for(I=m;E.l(v)>=0;){for(b=Math.max(1,Math.floor(E.m()/v.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),S=c(b),A=S.j(v);N(A)||A.l(E)>0;)b-=C,S=c(b),A=S.j(v);x(S)&&(S=g),I=I.add(S),E=T(E,A)}return new w(I,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)&E.i(C);return new a(b,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)|E.i(C);return new a(b,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)^E.i(C);return new a(b,this.h^E.h)};function M(E){const v=E.g.length+1,b=[];for(let C=0;C<v;C++)b[C]=E.i(C)<<1|E.i(C-1)>>>31;return new a(b,E.h)}function z(E,v){const b=v>>5;v%=32;const C=E.g.length-b,I=[];for(let S=0;S<C;S++)I[S]=v>0?E.i(S+b)>>>v|E.i(S+b+1)<<32-v:E.i(S+b);return new a(I,E.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,dS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Hi=a}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mS,Ba,gS,pu,Md,pS,yS,_S;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hl=="object"&&Hl];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)e:{var d=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var V=o[y];if(!(V in d))break e;d=d[V]}o=o[o.length-1],y=d[o],h=h(y),h!=y&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}r("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(o){return o||function(h){var d=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&d.push([y,h[y]]);return d}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function u(o,h,d){return o.call.apply(o.bind,arguments)}function c(o,h,d){return c=u,c.apply(null,arguments)}function f(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function m(o,h){function d(){}d.prototype=h.prototype,o.Z=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Ob=function(y,V,L){for(var B=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)B[ne-2]=arguments[ne];return h.prototype[V].apply(y,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function p(o){const h=o.length;if(h>0){const d=Array(h);for(let y=0;y<h;y++)d[y]=o[y];return d}return[]}function x(o,h){for(let y=1;y<arguments.length;y++){const V=arguments[y];var d=typeof V;if(d=d!="object"?d:V?Array.isArray(V)?"array":d:"null",d=="array"||d=="object"&&typeof V.length=="number"){d=o.length||0;const L=V.length||0;o.length=d+L;for(let B=0;B<L;B++)o[d+B]=V[B]}else o.push(V)}}class N{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function D(o){a.setTimeout(()=>{throw o},0)}function T(){var o=E;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class _{constructor(){this.h=this.g=null}add(h,d){const y=w.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var w=new N(()=>new O,o=>o.reset());class O{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,E=new _,v=()=>{const o=Promise.resolve(void 0);M=()=>{o.then(b)}};function b(){for(var o;o=T();){try{o.h.call(o.g)}catch(d){D(d)}var h=w;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}z=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var S=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};a.addEventListener("test",d,h),a.removeEventListener("test",d,h)}catch{}return o}();function A(o){return/^[\s\xa0]*$/.test(o)}function Y(o,h){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}m(Y,I),Y.prototype.init=function(o,h){const d=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Y.Z.h.call(this)},Y.prototype.h=function(){Y.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function K(o,h,d,y,V){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=V,this.key=++H,this.da=this.fa=!1}function F(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function me(o,h,d){for(const y in o)h.call(d,o[y],y,o)}function pe(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function rr(o){const h={};for(const d in o)h[d]=o[d];return h}const sr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kr(o,h){let d,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(d in y)o[d]=y[d];for(let L=0;L<sr.length;L++)d=sr[L],Object.prototype.hasOwnProperty.call(y,d)&&(o[d]=y[d])}}function zt(o){this.src=o,this.g={},this.h=0}zt.prototype.add=function(o,h,d,y,V){const L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);const B=rh(o,h,y,V);return B>-1?(h=o[B],d||(h.fa=!1)):(h=new K(h,this.src,L,!!y,V),h.fa=d,o.push(h)),h};function si(o,h){const d=h.type;if(d in o.g){var y=o.g[d],V=Array.prototype.indexOf.call(y,h,void 0),L;(L=V>=0)&&Array.prototype.splice.call(y,V,1),L&&(F(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function rh(o,h,d,y){for(let V=0;V<o.length;++V){const L=o[V];if(!L.da&&L.listener==h&&L.capture==!!d&&L.ha==y)return V}return-1}var sh="closure_lm_"+(Math.random()*1e6|0),ah={};function qg(o,h,d,y,V){if(Array.isArray(h)){for(let L=0;L<h.length;L++)qg(o,h[L],d,y,V);return null}return d=Kg(d),o&&o[de]?o.J(h,d,l(y)?!!y.capture:!1,V):q1(o,h,d,!1,y,V)}function q1(o,h,d,y,V,L){if(!h)throw Error("Invalid event type");const B=l(V)?!!V.capture:!!V;let ne=lh(o);if(ne||(o[sh]=ne=new zt(o)),d=ne.add(h,d,y,B,L),d.proxy)return d;if(y=F1(),d.proxy=y,y.src=o,y.listener=d,o.addEventListener)S||(V=B),V===void 0&&(V=!1),o.addEventListener(h.toString(),y,V);else if(o.attachEvent)o.attachEvent(Gg(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function F1(){function o(d){return h.call(o.src,o.listener,d)}const h=G1;return o}function Fg(o,h,d,y,V){if(Array.isArray(h))for(var L=0;L<h.length;L++)Fg(o,h[L],d,y,V);else y=l(y)?!!y.capture:!!y,d=Kg(d),o&&o[de]?(o=o.i,L=String(h).toString(),L in o.g&&(h=o.g[L],d=rh(h,d,y,V),d>-1&&(F(h[d]),Array.prototype.splice.call(h,d,1),h.length==0&&(delete o.g[L],o.h--)))):o&&(o=lh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=rh(h,d,y,V)),(d=o>-1?h[o]:null)&&oh(d))}function oh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[de])si(h.i,o);else{var d=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(d,y,o.capture):h.detachEvent?h.detachEvent(Gg(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=lh(h))?(si(d,o),d.h==0&&(d.src=null,h[sh]=null)):F(o)}}}function Gg(o){return o in ah?ah[o]:ah[o]="on"+o}function G1(o,h){if(o.da)o=!0;else{h=new Y(h,this);const d=o.listener,y=o.ha||o.src;o.fa&&oh(o),o=d.call(y,h)}return o}function lh(o){return o=o[sh],o instanceof zt?o:null}var uh="__closure_events_fn_"+(Math.random()*1e9>>>0);function Kg(o){return typeof o=="function"?o:(o[uh]||(o[uh]=function(h){return o.handleEvent(h)}),o[uh])}function ht(){C.call(this),this.i=new zt(this),this.M=this,this.G=null}m(ht,C),ht.prototype[de]=!0,ht.prototype.removeEventListener=function(o,h,d,y){Fg(this,o,h,d,y)};function pt(o,h){var d,y=o.G;if(y)for(d=[];y;y=y.G)d.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new I(h,o);else if(h instanceof I)h.target=h.target||o;else{var V=h;h=new I(y,o),Kr(h,V)}V=!0;let L,B;if(d)for(B=d.length-1;B>=0;B--)L=h.g=d[B],V=fl(L,y,!0,h)&&V;if(L=h.g=o,V=fl(L,y,!0,h)&&V,V=fl(L,y,!1,h)&&V,d)for(B=0;B<d.length;B++)L=h.g=d[B],V=fl(L,y,!1,h)&&V}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const d=o.g[h];for(let y=0;y<d.length;y++)F(d[y]);delete o.g[h],o.h--}}this.G=null},ht.prototype.J=function(o,h,d,y){return this.i.add(String(o),h,!1,d,y)},ht.prototype.K=function(o,h,d,y){return this.i.add(String(o),h,!0,d,y)};function fl(o,h,d,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let V=!0;for(let L=0;L<h.length;++L){const B=h[L];if(B&&!B.da&&B.capture==d){const ne=B.listener,Ke=B.ha||B.src;B.fa&&si(o.i,B),V=ne.call(Ke,y)!==!1&&V}}return V&&!y.defaultPrevented}function K1(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=c(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:a.setTimeout(o,h||0)}function Qg(o){o.g=K1(()=>{o.g=null,o.i&&(o.i=!1,Qg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class Q1 extends C{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qg(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(o){C.call(this),this.h=o,this.g={}}m(ca,C);var Yg=[];function $g(o){me(o.g,function(h,d){this.g.hasOwnProperty(d)&&oh(h)},o),o.g={}}ca.prototype.N=function(){ca.Z.N.call(this),$g(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ch=a.JSON.stringify,Y1=a.JSON.parse,$1=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Xg(){}function Jg(){}var ha={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hh(){I.call(this,"d")}m(hh,I);function fh(){I.call(this,"c")}m(fh,I);var ar={},Wg=null;function dl(){return Wg=Wg||new ht}ar.Ia="serverreachability";function Zg(o){I.call(this,ar.Ia,o)}m(Zg,I);function fa(o){const h=dl();pt(h,new Zg(h))}ar.STAT_EVENT="statevent";function ep(o,h){I.call(this,ar.STAT_EVENT,o),this.stat=h}m(ep,I);function yt(o){const h=dl();pt(h,new ep(h,o))}ar.Ja="timingevent";function tp(o,h){I.call(this,ar.Ja,o),this.size=h}m(tp,I);function da(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},h)}function ma(){this.g=!0}ma.prototype.ua=function(){this.g=!1};function X1(o,h,d,y,V,L){o.info(function(){if(o.g)if(L){var B="",ne=L.split("&");for(let Te=0;Te<ne.length;Te++){var Ke=ne[Te].split("=");if(Ke.length>1){const Je=Ke[0];Ke=Ke[1];const hn=Je.split("_");B=hn.length>=2&&hn[1]=="type"?B+(Je+"="+Ke+"&"):B+(Je+"=redacted&")}}}else B=null;else B=L;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+h+`
`+d+`
`+B})}function J1(o,h,d,y,V,L,B){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+h+`
`+d+`
`+L+" "+B})}function Qr(o,h,d,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+Z1(o,d)+(y?" "+y:"")})}function W1(o,h){o.info(function(){return"TIMEOUT: "+h})}ma.prototype.info=function(){};function Z1(o,h){if(!o.g)return h;if(!h)return null;try{const L=JSON.parse(h);if(L){for(o=0;o<L.length;o++)if(Array.isArray(L[o])){var d=L[o];if(!(d.length<2)){var y=d[1];if(Array.isArray(y)&&!(y.length<1)){var V=y[0];if(V!="noop"&&V!="stop"&&V!="close")for(let B=1;B<y.length;B++)y[B]=""}}}}return ch(L)}catch{return h}}var ml={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},np={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ip;function dh(){}m(dh,Xg),dh.prototype.g=function(){return new XMLHttpRequest},ip=new dh;function ga(o){return encodeURIComponent(String(o))}function eA(o){var h=1;o=o.split(":");const d=[];for(;h>0&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function ai(o,h,d,y){this.j=o,this.i=h,this.l=d,this.S=y||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rp}function rp(){this.i=null,this.g="",this.h=!1}var sp={},mh={};function gh(o,h,d){o.M=1,o.A=pl(cn(h)),o.u=d,o.R=!0,ap(o,null)}function ap(o,h){o.F=Date.now(),gl(o),o.B=cn(o.A);var d=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),vp(d.i,"t",y),o.C=0,d=o.j.L,o.h=new rp,o.g=Pp(o.j,d?h:null,!o.u),o.P>0&&(o.O=new Q1(c(o.Y,o,o.g),o.P)),h=o.V,d=o.g,y=o.ba;var V="readystatechange";Array.isArray(V)||(V&&(Yg[0]=V.toString()),V=Yg);for(let L=0;L<V.length;L++){const B=qg(d,V[L],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.J?rr(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),fa(),X1(o.i,o.v,o.B,o.l,o.S,o.u)}ai.prototype.ba=function(o){o=o.target;const h=this.O;h&&ui(o)==3?h.j():this.Y(o)},ai.prototype.Y=function(o){try{if(o==this.g)e:{const ne=ui(this.g),Ke=this.g.ya(),Te=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||Rp(this.g)))){this.K||ne!=4||Ke==7||(Ke==8||Te<=0?fa(3):fa(2)),ph(this);var h=this.g.ca();this.X=h;var d=tA(this);if(this.o=h==200,J1(this.i,this.v,this.B,this.l,this.S,ne,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,V=this.g;if((y=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(y)){var L=y;break t}}L=null}if(o=L)Qr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yh(this,o);else{this.o=!1,this.m=3,yt(12),or(this),pa(this);break e}}if(this.R){o=!0;let Je;for(;!this.K&&this.C<d.length;)if(Je=nA(this,d),Je==mh){ne==4&&(this.m=4,yt(14),o=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==sp){this.m=4,yt(15),Qr(this.i,this.l,d,"[Invalid Chunk]"),o=!1;break}else Qr(this.i,this.l,Je,null),yh(this,Je);if(op(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||d.length!=0||this.h.h||(this.m=1,yt(16),o=!1),this.o=this.o&&o,!o)Qr(this.i,this.l,d,"[Invalid Chunked Response]"),or(this),pa(this);else if(d.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+d.length),wh(B),B.P=!0,yt(11))}}else Qr(this.i,this.l,d,null),yh(this,d);ne==4&&or(this),this.o&&!this.K&&(ne==4?Mp(this.j,this):(this.o=!1,gl(this)))}else pA(this.g),h==400&&d.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),or(this),pa(this)}}}catch{}finally{}};function tA(o){if(!op(o))return o.g.la();const h=Rp(o.g);if(h==="")return"";let d="";const y=h.length,V=ui(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return or(o),pa(o),"";o.h.i=new a.TextDecoder}for(let L=0;L<y;L++)o.h.h=!0,d+=o.h.i.decode(h[L],{stream:!(V&&L==y-1)});return h.length=0,o.h.g+=d,o.C=0,o.h.g}function op(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function nA(o,h){var d=o.C,y=h.indexOf(`
`,d);return y==-1?mh:(d=Number(h.substring(d,y)),isNaN(d)?sp:(y+=1,y+d>h.length?mh:(h=h.slice(y,y+d),o.C=y+d,h)))}ai.prototype.cancel=function(){this.K=!0,or(this)};function gl(o){o.T=Date.now()+o.H,lp(o,o.H)}function lp(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=da(c(o.aa,o),h)}function ph(o){o.D&&(a.clearTimeout(o.D),o.D=null)}ai.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(W1(this.i,this.B),this.M!=2&&(fa(),yt(17)),or(this),this.m=2,pa(this)):lp(this,this.T-o)};function pa(o){o.j.I==0||o.K||Mp(o.j,o)}function or(o){ph(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,$g(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function yh(o,h){try{var d=o.j;if(d.I!=0&&(d.g==o||_h(d.h,o))){if(!o.L&&_h(d.h,o)&&d.I==3){try{var y=d.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!d.v){if(d.g)if(d.g.F+3e3<o.F)Tl(d),vl(d);else break e;Ah(d),yt(18)}}else d.xa=V[1],0<d.xa-d.K&&V[2]<37500&&d.F&&d.A==0&&!d.C&&(d.C=da(c(d.Va,d),6e3));hp(d.h)<=1&&d.ta&&(d.ta=void 0)}else ur(d,11)}else if((o.L||d.g==o)&&Tl(d),!A(h))for(V=d.Ba.g.parse(h),h=0;h<V.length;h++){let Te=V[h];const Je=Te[0];if(!(Je<=d.K))if(d.K=Je,Te=Te[1],d.I==2)if(Te[0]=="c"){d.M=Te[1],d.ba=Te[2];const hn=Te[3];hn!=null&&(d.ka=hn,d.j.info("VER="+d.ka));const cr=Te[4];cr!=null&&(d.za=cr,d.j.info("SVER="+d.za));const ci=Te[5];ci!=null&&typeof ci=="number"&&ci>0&&(y=1.5*ci,d.O=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const hi=o.g;if(hi){const Sl=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var L=y.h;L.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(vh(L,L.h),L.h=null))}if(y.G){const Rh=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Rh&&(y.wa=Rh,Ae(y.J,y.G,Rh))}}d.I=3,d.l&&d.l.ra(),d.aa&&(d.T=Date.now()-o.F,d.j.info("Handshake RTT: "+d.T+"ms")),y=d;var B=o;if(y.na=Lp(y,y.L?y.ba:null,y.W),B.L){fp(y.h,B);var ne=B,Ke=y.O;Ke&&(ne.H=Ke),ne.D&&(ph(ne),gl(ne)),y.g=B}else Dp(y);d.i.length>0&&El(d)}else Te[0]!="stop"&&Te[0]!="close"||ur(d,7);else d.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?ur(d,7):Sh(d):Te[0]!="noop"&&d.l&&d.l.qa(Te),d.A=0)}}fa(4)}catch{}}var iA=class{constructor(o,h){this.g=o,this.map=h}};function up(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cp(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function hp(o){return o.h?1:o.g?o.g.size:0}function _h(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function vh(o,h){o.g?o.g.add(h):o.h=h}function fp(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}up.prototype.cancel=function(){if(this.i=dp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function dp(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.G);return h}return p(o.i)}var mp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(o,h){if(o){o=o.split("&");for(let d=0;d<o.length;d++){const y=o[d].indexOf("=");let V,L=null;y>=0?(V=o[d].substring(0,y),L=o[d].substring(y+1)):V=o[d],h(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function oi(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof oi?(this.l=o.l,ya(this,o.j),this.o=o.o,this.g=o.g,_a(this,o.u),this.h=o.h,Eh(this,Ep(o.i)),this.m=o.m):o&&(h=String(o).match(mp))?(this.l=!1,ya(this,h[1]||"",!0),this.o=va(h[2]||""),this.g=va(h[3]||"",!0),_a(this,h[4]),this.h=va(h[5]||"",!0),Eh(this,h[6]||"",!0),this.m=va(h[7]||"")):(this.l=!1,this.i=new Ta(null,this.l))}oi.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(Ea(h,gp,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Ea(h,gp,!0),"@"),o.push(ga(d).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.u,d!=null&&o.push(":",String(d))),(d=this.h)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Ea(d,d.charAt(0)=="/"?oA:aA,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Ea(d,uA)),o.join("")},oi.prototype.resolve=function(o){const h=cn(this);let d=!!o.j;d?ya(h,o.j):d=!!o.o,d?h.o=o.o:d=!!o.g,d?h.g=o.g:d=o.u!=null;var y=o.h;if(d)_a(h,o.u);else if(d=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var V=h.h.lastIndexOf("/");V!=-1&&(y=h.h.slice(0,V+1)+y)}if(V=y,V==".."||V==".")y="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){y=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let B=0;B<V.length;){const ne=V[B++];ne=="."?y&&B==V.length&&L.push(""):ne==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),y&&B==V.length&&L.push("")):(L.push(ne),y=!0)}y=L.join("/")}else y=V}return d?h.h=y:d=o.i.toString()!=="",d?Eh(h,Ep(o.i)):d=!!o.m,d&&(h.m=o.m),h};function cn(o){return new oi(o)}function ya(o,h,d){o.j=d?va(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function _a(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Eh(o,h,d){h instanceof Ta?(o.i=h,cA(o.i,o.l)):(d||(h=Ea(h,lA)),o.i=new Ta(h,o.l))}function Ae(o,h,d){o.i.set(h,d)}function pl(o){return Ae(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function va(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ea(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,sA),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function sA(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var gp=/[#\/\?@]/g,aA=/[#\?:]/g,oA=/[#\?]/g,lA=/[#\?@]/g,uA=/#/g;function Ta(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function lr(o){o.g||(o.g=new Map,o.h=0,o.i&&rA(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Ta.prototype,t.add=function(o,h){lr(this),this.i=null,o=Yr(this,o);let d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function pp(o,h){lr(o),h=Yr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function yp(o,h){return lr(o),h=Yr(o,h),o.g.has(h)}t.forEach=function(o,h){lr(this),this.g.forEach(function(d,y){d.forEach(function(V){o.call(h,V,y,this)},this)},this)};function _p(o,h){lr(o);let d=[];if(typeof h=="string")yp(o,h)&&(d=d.concat(o.g.get(Yr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)d=d.concat(o[h]);return d}t.set=function(o,h){return lr(this),this.i=null,o=Yr(this,o),yp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=_p(this,o),o.length>0?String(o[0]):h):h};function vp(o,h,d){pp(o,h),d.length>0&&(o.i=null,o.g.set(Yr(o,h),p(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var d=h[y];const V=ga(d);d=_p(this,d);for(let L=0;L<d.length;L++){let B=V;d[L]!==""&&(B+="="+ga(d[L])),o.push(B)}}return this.i=o.join("&")};function Ep(o){const h=new Ta;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Yr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function cA(o,h){h&&!o.j&&(lr(o),o.i=null,o.g.forEach(function(d,y){const V=y.toLowerCase();y!=V&&(pp(this,y),vp(this,V,d))},o)),o.j=h}function hA(o,h){const d=new ma;if(a.Image){const y=new Image;y.onload=f(li,d,"TestLoadImage: loaded",!0,h,y),y.onerror=f(li,d,"TestLoadImage: error",!1,h,y),y.onabort=f(li,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=f(li,d,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function fA(o,h){const d=new ma,y=new AbortController,V=setTimeout(()=>{y.abort(),li(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(L=>{clearTimeout(V),L.ok?li(d,"TestPingServer: ok",!0,h):li(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),li(d,"TestPingServer: error",!1,h)})}function li(o,h,d,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(d)}catch{}}function dA(){this.g=new $1}function Th(o){this.i=o.Sb||null,this.h=o.ab||!1}m(Th,Xg),Th.prototype.g=function(){return new yl(this.i,this.h)};function yl(o,h){ht.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(yl,ht),t=yl.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Sa(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||a).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tp(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Tp(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?ba(this):Sa(this),this.readyState==3&&Tp(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ba(this))},t.Na=function(o){this.g&&(this.response=o,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Sa(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Sa(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(yl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function bp(o){let h="";return me(o,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function bh(o,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=bp(d),typeof o=="string"?d!=null&&ga(d):Ae(o,h,d))}function Ve(o){ht.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ve,ht);var mA=/^https?$/i,gA=["POST","PUT"];t=Ve.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ip.g(),this.g.onreadystatechange=g(c(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(L){Sp(this,L);return}if(o=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)d.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const L of y.keys())d.set(L,y.get(L));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(gA,h,void 0)>=0)||y||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of d)this.g.setRequestHeader(L,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(L){Sp(this,L)}};function Sp(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,Ap(o),_l(o)}function Ap(o){o.A||(o.A=!0,pt(o,"complete"),pt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,pt(this,"complete"),pt(this,"abort"),_l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),Ve.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wp(this):this.Xa())},t.Xa=function(){wp(this)};function wp(o){if(o.h&&typeof s<"u"){if(o.v&&ui(o)==4)setTimeout(o.Ca.bind(o),0);else if(pt(o,"readystatechange"),ui(o)==4){o.h=!1;try{const L=o.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=L===0){let B=String(o.D).match(mp)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),y=!mA.test(B?B.toLowerCase():"")}d=y}if(d)pt(o,"complete"),pt(o,"success");else{o.o=6;try{var V=ui(o)>2?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.ca()+"]",Ap(o)}}finally{_l(o)}}}}function _l(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const d=o.g;o.g=null,h||pt(o,"ready");try{d.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ui(o){return o.g?o.g.readyState:0}t.ca=function(){try{return ui(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),Y1(h)}};function Rp(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function pA(o){const h={};o=(o.g&&ui(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(A(o[y]))continue;var d=eA(o[y]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const L=h[V]||[];h[V]=L,L.push(d)}pe(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function Cp(o){this.za=0,this.i=[],this.j=new ma,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,o),this.Za=Aa("retryDelaySeedMs",1e4,o),this.Ta=Aa("forwardChannelMaxRetries",2,o),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new up(o&&o.concurrentRequestLimit),this.Ba=new dA,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Cp.prototype,t.ka=8,t.I=1,t.connect=function(o,h,d,y){yt(0),this.W=o,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.J=Lp(this,null,this.W),El(this)};function Sh(o){if(xp(o),o.I==3){var h=o.V++,d=cn(o.J);if(Ae(d,"SID",o.M),Ae(d,"RID",h),Ae(d,"TYPE","terminate"),wa(o,d),h=new ai(o,o.j,h),h.M=2,h.A=pl(cn(d)),d=!1,a.navigator&&a.navigator.sendBeacon)try{d=a.navigator.sendBeacon(h.A.toString(),"")}catch{}!d&&a.Image&&(new Image().src=h.A,d=!0),d||(h.g=Pp(h.j,null),h.g.ea(h.A)),h.F=Date.now(),gl(h)}kp(o)}function vl(o){o.g&&(wh(o),o.g.cancel(),o.g=null)}function xp(o){vl(o),o.v&&(a.clearTimeout(o.v),o.v=null),Tl(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function El(o){if(!cp(o.h)&&!o.m){o.m=!0;var h=o.Ea;M||v(),z||(M(),z=!0),E.add(h,o),o.D=0}}function yA(o,h){return hp(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=da(c(o.Ea,o,h),Vp(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const V=new ai(this,this.j,o);let L=this.o;if(this.U&&(L?(L=rr(L),Kr(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=Np(this,V,h),d=cn(this.J),Ae(d,"RID",o),Ae(d,"CVER",22),this.G&&Ae(d,"X-HTTP-Session-Id",this.G),wa(this,d),L&&(this.R?h="headers="+ga(bp(L))+"&"+h:this.u&&bh(d,this.u,L)),vh(this.h,V),this.Ra&&Ae(d,"TYPE","init"),this.S?(Ae(d,"$req",h),Ae(d,"SID","null"),V.U=!0,gh(V,d,null)):gh(V,d,h),this.I=2}}else this.I==3&&(o?Ip(this,o):this.i.length==0||cp(this.h)||Ip(this))};function Ip(o,h){var d;h?d=h.l:d=o.V++;const y=cn(o.J);Ae(y,"SID",o.M),Ae(y,"RID",d),Ae(y,"AID",o.K),wa(o,y),o.u&&o.o&&bh(y,o.u,o.o),d=new ai(o,o.j,d,o.D+1),o.u===null&&(d.J=o.o),h&&(o.i=h.G.concat(o.i)),h=Np(o,d,1e3),d.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),vh(o.h,d),gh(d,y,h)}function wa(o,h){o.H&&me(o.H,function(d,y){Ae(h,y,d)}),o.l&&me({},function(d,y){Ae(h,y,d)})}function Np(o,h,d){d=Math.min(o.i.length,d);const y=o.l?c(o.l.Ka,o.l,o):null;e:{var V=o.i;let ne=-1;for(;;){const Ke=["count="+d];ne==-1?d>0?(ne=V[0].g,Ke.push("ofs="+ne)):ne=0:Ke.push("ofs="+ne);let Te=!0;for(let Je=0;Je<d;Je++){var L=V[Je].g;const hn=V[Je].map;if(L-=ne,L<0)ne=Math.max(0,V[Je].g-100),Te=!1;else try{L="req"+L+"_"||"";try{var B=hn instanceof Map?hn:Object.entries(hn);for(const[cr,ci]of B){let hi=ci;l(ci)&&(hi=ch(ci)),Ke.push(L+cr+"="+encodeURIComponent(hi))}}catch(cr){throw Ke.push(L+"type="+encodeURIComponent("_badmap")),cr}}catch{y&&y(hn)}}if(Te){B=Ke.join("&");break e}}B=void 0}return o=o.i.splice(0,d),h.G=o,B}function Dp(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;M||v(),z||(M(),z=!0),E.add(h,o),o.A=0}}function Ah(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=da(c(o.Da,o),Vp(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Op(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=da(c(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),vl(this),Op(this))};function wh(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function Op(o){o.g=new ai(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=cn(o.na);Ae(h,"RID","rpc"),Ae(h,"SID",o.M),Ae(h,"AID",o.K),Ae(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ae(h,"TO",o.ia),Ae(h,"TYPE","xmlhttp"),wa(o,h),o.u&&o.o&&bh(h,o.u,o.o),o.O&&(o.g.H=o.O);var d=o.g;o=o.ba,d.M=1,d.A=pl(cn(h)),d.u=null,d.R=!0,ap(d,o)}t.Va=function(){this.C!=null&&(this.C=null,vl(this),Ah(this),yt(19))};function Tl(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function Mp(o,h){var d=null;if(o.g==h){Tl(o),wh(o),o.g=null;var y=2}else if(_h(o.h,h))d=h.G,fp(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){d=h.u?h.u.length:0,h=Date.now()-h.F;var V=o.D;y=dl(),pt(y,new tp(y,d)),El(o)}else Dp(o);else if(V=h.m,V==3||V==0&&h.X>0||!(y==1&&yA(o,h)||y==2&&Ah(o)))switch(d&&d.length>0&&(h=o.h,h.i=h.i.concat(d)),V){case 1:ur(o,5);break;case 4:ur(o,10);break;case 3:ur(o,6);break;default:ur(o,2)}}}function Vp(o,h){let d=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(d*=2),d*h}function ur(o,h){if(o.j.info("Error code "+h),h==2){var d=c(o.bb,o),y=o.Ua;const V=!y;y=new oi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ya(y,"https"),pl(y),V?hA(y.toString(),d):fA(y.toString(),d)}else yt(2);o.I=0,o.l&&o.l.pa(h),kp(o),xp(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function kp(o){if(o.I=0,o.ja=[],o.l){const h=dp(o.h);(h.length!=0||o.i.length!=0)&&(x(o.ja,h),x(o.ja,o.i),o.h.i.length=0,p(o.i),o.i.length=0),o.l.oa()}}function Lp(o,h,d){var y=d instanceof oi?cn(d):new oi(d);if(y.g!="")h&&(y.g=h+"."+y.g),_a(y,y.u);else{var V=a.location;y=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;const L=new oi(null);y&&ya(L,y),h&&(L.g=h),V&&_a(L,V),d&&(L.h=d),y=L}return d=o.G,h=o.wa,d&&h&&Ae(y,d,h),Ae(y,"VER",o.ka),wa(o,y),y}function Pp(o,h,d){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Ve(new Th({ab:d})):new Ve(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Up(){}t=Up.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bl(){}bl.prototype.g=function(o,h){return new It(o,h)};function It(o,h){ht.call(this),this.g=new Cp(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!A(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!A(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new $r(this)}m(It,ht),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){Sh(this.g)},It.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.v&&(d={},d.__data__=ch(o),o=d);h.i.push(new iA(h.Ya++,o)),h.I==3&&El(h)},It.prototype.N=function(){this.g.l=null,delete this.j,Sh(this.g),delete this.g,It.Z.N.call(this)};function jp(o){hh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}m(jp,hh);function zp(){fh.call(this),this.status=1}m(zp,fh);function $r(o){this.g=o}m($r,Up),$r.prototype.ra=function(){pt(this.g,"a")},$r.prototype.qa=function(o){pt(this.g,new jp(o))},$r.prototype.pa=function(o){pt(this.g,new zp)},$r.prototype.oa=function(){pt(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,_S=function(){return new bl},yS=function(){return dl()},pS=ar,Md={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ml.NO_ERROR=0,ml.TIMEOUT=8,ml.HTTP_ERROR=6,pu=ml,np.COMPLETE="complete",gS=np,Jg.EventType=ha,ha.OPEN="a",ha.CLOSE="b",ha.ERROR="c",ha.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Ba=Jg,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa,mS=Ve}).apply(typeof Hl<"u"?Hl:typeof self<"u"?self:typeof window<"u"?window:{});const ev="@firebase/firestore",tv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new tg("@firebase/firestore");function ts(){return Mr.logLevel}function q(t,...e){if(Mr.logLevel<=se.DEBUG){const n=e.map(fg);Mr.debug(`Firestore (${aa}): ${t}`,...n)}}function ei(t,...e){if(Mr.logLevel<=se.ERROR){const n=e.map(fg);Mr.error(`Firestore (${aa}): ${t}`,...n)}}function Bs(t,...e){if(Mr.logLevel<=se.WARN){const n=e.map(fg);Mr.warn(`Firestore (${aa}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,vS(t,i,n)}function vS(t,e,n){let i=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ei(i),new Error(i)}function ge(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||vS(e,r,i)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class cO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hO{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ge(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ge(typeof i.accessToken=="string",31837,{l:i}),new ES(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class fO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new fO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ge(this.o===void 0,3512);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new nv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=gO(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ae(t,e){return t<e?-1:t>e?1:0}function Vd(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return Tf(r)===Tf(s)?ae(r,s):Tf(r)?1:-1}return ae(t.length,e.length)}const pO=55296,yO=57343;function Tf(t){const e=t.charCodeAt(0);return e>=pO&&e<=yO}function Hs(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__name__";class fn{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&X(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=fn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ae(e.length,n.length)}static compareSegments(e,n){const i=fn.isNumericId(e),r=fn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?fn.extractNumericId(e).compare(fn.extractNumericId(n)):Vd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class De extends fn{construct(e,n,i){return new De(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new G(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new De(n)}static emptyPath(){return new De([])}}const _O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends fn{construct(e,n,i){return new ot(e,n,i)}static isValidIdentifier(e){return _O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new ot([iv])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new G(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new G(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new G(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(De.fromString(e))}static fromName(e){return new Q(De.fromString(e).popFirst(5))}static empty(){return new Q(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t,e,n){if(!n)throw new G(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EO(t,e,n,i){if(e===!0&&i===!0)throw new G(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rv(t){if(!Q.isDocumentKey(t))throw new G(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Do(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mg(t);throw new G(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t,e){const n={typeString:t};return e&&(n.value=e),n}function ol(t,e){if(!TS(t))throw new G(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new G(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv=-62135596800,av=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(e){return Ce.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*av);return new Ce(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sv)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ol(e,Ce._jsonSchema))return new Ce(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ce._jsonSchemaVersion="firestore/timestamp/1.0",Ce._jsonSchema={type:Ge("string",Ce._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{static fromTimestamp(e){return new W(e)}static min(){return new W(new Ce(0,0))}static max(){return new W(new Ce(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function TO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=W.fromTimestamp(i===1e9?new Ce(n+1,0):new Ce(n,i));return new Yi(r,Q.empty(),e)}function bO(t){return new Yi(t.readTime,t.key,Oo)}class Yi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Yi(W.min(),Q.empty(),Oo)}static max(){return new Yi(W.max(),Q.empty(),Oo)}}function SO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==AO)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,i)=>{n(e)})}static reject(e){return new U((n,i)=>{i(e)})}static waitFor(e){return new U((n,i)=>{let r=0,s=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(e){let n=U.resolve(!1);for(const i of e)n=n.next(r=>r?U.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new U((i,r)=>{const s=e.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(e,n){return new U((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function RO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function la(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=-1;function Qc(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function CO(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="";function xO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ov(e)),e=IO(t.get(n),e);return ov(e)}function IO(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case bS:n+="";break;default:n+=s}}return n}function ov(t){return t+bS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??rt.RED,this.left=r??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new rt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return rt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new rt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new rn([])}unionWith(e){let n=new $e(ot.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AS("Invalid base64 string: "+s):s}}(e);return new ct(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const NO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(ge(!!t,39018),typeof t=="string"){let e=0;const n=NO.exec(t);if(ge(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",RS="__type__",CS="__previous_value__",xS="__local_write_time__";function pg(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RS])==null?void 0:i.stringValue)===wS}function Yc(t){const e=t.mapValue.fields[CS];return pg(e)?Yc(e):e}function Mo(t){const e=$i(t.mapValue.fields[xS].timestampValue);return new Ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,i,r,s,a,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const uc="(default)";class Vo{constructor(e,n){this.projectId=e,this.database=n||uc}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="__type__",OO="__max__",Fl={mapValue:{}},NS="__vector__",cc="value";function Ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pg(t)?4:VO(t)?9007199254740991:MO(t)?10:11:X(28295,{value:t})}function Sn(t,e){if(t===e)return!0;const n=Ji(t);if(n!==Ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mo(t).isEqual(Mo(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=$i(r.timestampValue),l=$i(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Xi(r.bytesValue).isEqual(Xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Pe(r.geoPointValue.latitude)===Pe(s.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Pe(r.integerValue)===Pe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=Pe(r.doubleValue),l=Pe(s.doubleValue);return a===l?lc(a)===lc(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(lv(a)!==lv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!Sn(a[u],l[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function ko(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function qs(t,e){if(t===e)return 0;const n=Ji(t),i=Ji(e);if(n!==i)return ae(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Pe(s.integerValue||s.doubleValue),u=Pe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return cv(t.timestampValue,e.timestampValue);case 4:return cv(Mo(t),Mo(e));case 5:return Vd(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Xi(s),u=Xi(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=ae(l[c],u[c]);if(f!==0)return f}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=ae(Pe(s.latitude),Pe(a.latitude));return l!==0?l:ae(Pe(s.longitude),Pe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hv(t.arrayValue,e.arrayValue);case 10:return function(s,a){var g,p,x,N;const l=s.fields||{},u=a.fields||{},c=(g=l[cc])==null?void 0:g.arrayValue,f=(p=u[cc])==null?void 0:p.arrayValue,m=ae(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((N=f==null?void 0:f.values)==null?void 0:N.length)||0);return m!==0?m:hv(c,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Fl.mapValue&&a===Fl.mapValue)return 0;if(s===Fl.mapValue)return 1;if(a===Fl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Vd(u[m],f[m]);if(g!==0)return g;const p=qs(l[u[m]],c[f[m]]);if(p!==0)return p}return ae(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function cv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=$i(t),i=$i(e),r=ae(n.seconds,i.seconds);return r!==0?r:ae(n.nanos,i.nanos)}function hv(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=qs(n[r],i[r]);if(s)return s}return ae(n.length,i.length)}function Fs(t){return kd(t)}function kd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=$i(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=kd(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${kd(n.fields[a])}`;return r+"}"}(t.mapValue):X(61005,{value:t})}function yu(t){switch(Ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(t);return e?16+yu(e):16;case 5:return 2*t.stringValue.length;case 6:return Xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+yu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Hr(i.fields,(s,a)=>{r+=s.length+yu(a)}),r}(t.mapValue);default:throw X(13486,{value:t})}}function Ld(t){return!!t&&"integerValue"in t}function yg(t){return!!t&&"arrayValue"in t}function fv(t){return!!t&&"nullValue"in t}function dv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _u(t){return!!t&&"mapValue"in t}function MO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IS])==null?void 0:i.stringValue)===NS}function oo(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=oo(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oo(t.arrayValue.values[n]);return e}return{...t}}function VO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===OO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!_u(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oo(n)}setAll(e){let n=ot.emptyPath(),i={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=oo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());_u(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];_u(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Hr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new $t(oo(this.value))}}function DS(t){const e=[];return Hr(t.fields,(n,i)=>{const r=new ot([n]);if(_u(i)){const s=DS(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,i,r,s,a,l){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new mt(e,0,W.min(),W.min(),W.min(),$t.empty(),0)}static newFoundDocument(e,n,i,r){return new mt(e,1,n,W.min(),i,r,0)}static newNoDocument(e,n){return new mt(e,2,n,W.min(),W.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,W.min(),W.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.position=e,this.inclusive=n}}function mv(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=Q.comparator(Q.fromName(a.referenceValue),n.key):i=qs(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function gv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function kO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{}class Ye extends OS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new PO(e,n,i):n==="array-contains"?new zO(e,i):n==="in"?new BO(e,i):n==="not-in"?new HO(e,i):n==="array-contains-any"?new qO(e,i):new Ye(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new UO(e,i):new jO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(qs(n,this.value)):n!==null&&Ji(this.value)===Ji(n)&&this.matchesComparison(qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends OS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new An(e,n)}matches(e){return MS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MS(t){return t.op==="and"}function VS(t){return LO(t)&&MS(t)}function LO(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function Pd(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+Fs(t.value);if(VS(t))return t.filters.map(e=>Pd(e)).join(",");{const e=t.filters.map(n=>Pd(n)).join(",");return`${t.op}(${e})`}}function kS(t,e){return t instanceof Ye?function(i,r){return r instanceof Ye&&i.op===r.op&&i.field.isEqual(r.field)&&Sn(i.value,r.value)}(t,e):t instanceof An?function(i,r){return r instanceof An&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&kS(a,r.filters[l]),!0):!1}(t,e):void X(19439)}function LS(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Fs(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(LS).join(" ,")+"}"}(t):"Filter"}class PO extends Ye{constructor(e,n,i){super(e,n,i),this.key=Q.fromName(i.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class UO extends Ye{constructor(e,n){super(e,"in",n),this.keys=PS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jO extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=PS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>Q.fromName(i.referenceValue))}class zO extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&ko(n.arrayValue,this.value)}}class BO extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ko(this.value.arrayValue,n)}}class HO extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ko(this.value.arrayValue,n)}}class qO extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>ko(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n=null,i=[],r=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function pv(t,e=null,n=[],i=[],r=null,s=null,a=null){return new FO(t,e,n,i,r,s,a)}function _g(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Pd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Qc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Fs(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Fs(i)).join(",")),e.Te=n}return e.Te}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gv(t.startAt,e.startAt)&&gv(t.endAt,e.endAt)}function Ud(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GO(t,e,n,i,r,s,a,l){return new $c(t,e,n,i,r,s,a,l)}function Eg(t){return new $c(t)}function yv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KO(t){return t.collectionGroup!==null}function lo(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new $e(ot.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new fc(s,i))}),n.has(ot.keyField().canonicalString())||e.Ie.push(new fc(ot.keyField(),i))}return e.Ie}function vn(t){const e=Z(t);return e.Ee||(e.Ee=QO(e,lo(t))),e.Ee}function QO(t,e){if(t.limitType==="F")return pv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new fc(r.field,s)});const n=t.endAt?new hc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new hc(t.startAt.position,t.startAt.inclusive):null;return pv(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function jd(t,e,n){return new $c(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xc(t,e){return vg(vn(t),vn(e))&&t.limitType===e.limitType}function US(t){return`${_g(vn(t))}|lt:${t.limitType}`}function ns(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>LS(r)).join(", ")}]`),Qc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Fs(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Fs(r)).join(",")),`Target(${i})`}(vn(t))}; limitType=${t.limitType})`}function Jc(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):Q.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of lo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=mv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,lo(i),r)||i.endAt&&!function(a,l,u){const c=mv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,lo(i),r))}(t,e)}function YO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jS(t){return(e,n)=>{let i=!1;for(const r of lo(t)){const s=$O(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function $O(t,e,n){const i=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?qs(u,c):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=new Me(Q.comparator);function ti(){return XO}const zS=new Me(Q.comparator);function Ha(...t){let e=zS;for(const n of t)e=e.insert(n.key,n);return e}function BS(t){let e=zS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function yr(){return uo()}function HS(){return uo()}function uo(){return new qr(t=>t.toString(),(t,e)=>t.isEqual(e))}const JO=new Me(Q.comparator),WO=new $e(Q.comparator);function oe(...t){let e=WO;for(const n of t)e=e.add(n);return e}const ZO=new $e(ae);function e4(){return ZO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function t4(t,e){return CO(e)?qS(e):Tg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this._=void 0}}function n4(t,e,n){return t instanceof dc?function(r,s){const a={fields:{[RS]:{stringValue:wS},[xS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&pg(s)&&(s=Yc(s)),s&&(a.fields[CS]=s),{mapValue:a}}(n,e):t instanceof Lo?GS(t,e):t instanceof Po?KS(t,e):function(r,s){const a=FS(r,s),l=_v(a)+_v(r.Ae);return Ld(a)&&Ld(r.Ae)?qS(l):Tg(r.serializer,l)}(t,e)}function i4(t,e,n){return t instanceof Lo?GS(t,e):t instanceof Po?KS(t,e):n}function FS(t,e){return t instanceof mc?function(i){return Ld(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class dc extends Wc{}class Lo extends Wc{constructor(e){super(),this.elements=e}}function GS(t,e){const n=QS(e);for(const i of t.elements)n.some(r=>Sn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Po extends Wc{constructor(e){super(),this.elements=e}}function KS(t,e){let n=QS(e);for(const i of t.elements)n=n.filter(r=>!Sn(r,i));return{arrayValue:{values:n}}}class mc extends Wc{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function _v(t){return Pe(t.integerValue||t.doubleValue)}function QS(t){return yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function r4(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Lo&&r instanceof Lo||i instanceof Po&&r instanceof Po?Hs(i.elements,r.elements,Sn):i instanceof mc&&r instanceof mc?Sn(i.Ae,r.Ae):i instanceof dc&&r instanceof dc}(t.transform,e.transform)}class s4{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zc{}function YS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new XS(t.key,Gn.none()):new ll(t.key,t.data,Gn.none());{const n=t.data,i=$t.empty();let r=new $e(ot.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Fr(t.key,i,new rn(r.toArray()),Gn.none())}}function a4(t,e,n){t instanceof ll?function(r,s,a){const l=r.value.clone(),u=Ev(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fr?function(r,s,a){if(!vu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Ev(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll($S(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function co(t,e,n,i){return t instanceof ll?function(s,a,l,u){if(!vu(s.precondition,a))return l;const c=s.value.clone(),f=Tv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Fr?function(s,a,l,u){if(!vu(s.precondition,a))return l;const c=Tv(s.fieldTransforms,u,a),f=a.data;return f.setAll($S(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,i):function(s,a,l){return vu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function o4(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=FS(i.transform,r||null);s!=null&&(n===null&&(n=$t.empty()),n.set(i.field,s))}return n||null}function vv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Hs(i,r,(s,a)=>r4(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ll extends Zc{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Fr extends Zc{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $S(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Ev(t,e,n){const i=new Map;ge(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,l=e.data.field(s.field);i.set(s.field,i4(a,l,n[r]))}return i}function Tv(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,n4(s,a,e))}return i}class XS extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l4 extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&a4(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=co(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=co(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=HS();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=YS(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument(W.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,i)=>vv(n,i))&&Hs(this.baseMutations,e.baseMutations,(n,i)=>vv(n,i))}}class bg{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){ge(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return JO}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new bg(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,ce;function f4(t){switch(t){case j.OK:return X(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function JS(t){if(t===void 0)return ei("GRPC error has no .code"),j.UNKNOWN;switch(t){case ze.OK:return j.OK;case ze.CANCELLED:return j.CANCELLED;case ze.UNKNOWN:return j.UNKNOWN;case ze.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ze.INTERNAL:return j.INTERNAL;case ze.UNAVAILABLE:return j.UNAVAILABLE;case ze.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ze.NOT_FOUND:return j.NOT_FOUND;case ze.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ze.ABORTED:return j.ABORTED;case ze.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ze.DATA_LOSS:return j.DATA_LOSS;default:return X(39323,{code:t})}}(ce=ze||(ze={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Hi([4294967295,4294967295],0);function bv(t){const e=d4().encode(t),n=new dS;return n.update(e),new Uint8Array(n.digest())}function Sv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Hi([n,i],0),new Hi([r,s],0)]}class Sg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qa(`Invalid padding: ${n}`);if(i<0)throw new qa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new qa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Hi.fromNumber(i)));return r.compare(m4)===1&&(r=new Hi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bv(e),[i,r]=Sv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Sg(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=bv(e),[i,r]=Sv(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new eh(W.min(),r,new Me(ae),ti(),oe())}}class ul{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ul(i,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class WS{constructor(e,n){this.targetId=e,this.Ce=n}}class ZS{constructor(e,n,i=ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Av{constructor(){this.ve=0,this.Fe=wv(),this.Me=ct.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=oe(),n=oe(),i=oe();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X(38017,{changeType:s})}}),new ul(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=wv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ti(),this.Je=Gl(),this.He=Gl(),this.Ye=new Me(ae)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(Ud(s))if(i===0){const a=new Q(s.path);this.et(n,a,mt.newNoDocument(a,W.min()))}else ge(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(e),u=l?this.ct(l,e,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=Xi(i).toUint8Array()}catch(u){if(u instanceof AS)return Bs("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Sg(a,r,s)}catch(u){return Bs(u instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Ud(l.target)){const u=new Q(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,mt.newNoDocument(u,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=oe();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new eh(e,n,this.Ye,this.je,i);return this.je=ti(),this.Je=Gl(),this.He=Gl(),this.Ye=new Me(ae),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Av,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $e(ae),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $e(ae),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Av),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gl(){return new Me(Q.comparator)}function wv(){return new Me(Q.comparator)}const p4={asc:"ASCENDING",desc:"DESCENDING"},y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_4={and:"AND",or:"OR"};class v4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zd(t,e){return t.useProto3Json||Qc(e)?e:{value:e}}function gc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E4(t,e){return gc(t,e.toTimestamp())}function En(t){return ge(!!t,49232),W.fromTimestamp(function(n){const i=$i(n);return new Ce(i.seconds,i.nanos)}(t))}function Ag(t,e){return Bd(t,e).canonicalString()}function Bd(t,e){const n=function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t1(t){const e=De.fromString(t);return ge(a1(e),10190,{key:e.toString()}),e}function Hd(t,e){return Ag(t.databaseId,e.path)}function bf(t,e){const n=t1(e);if(n.get(1)!==t.databaseId.projectId)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(i1(n))}function n1(t,e){return Ag(t.databaseId,e)}function T4(t){const e=t1(t);return e.length===4?De.emptyPath():i1(e)}function qd(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function i1(t){return ge(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Rv(t,e,n){return{name:Hd(t,e),fields:n.value.mapValue.fields}}function b4(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(ge(f===void 0||typeof f=="string",58123),ct.fromBase64String(f||"")):(ge(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(c){const f=c.code===void 0?j.UNKNOWN:JS(c.code);return new G(f,c.message||"")}(a);n=new ZS(i,r,s,l||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=bf(t,i.document.name),s=En(i.document.updateTime),a=i.document.createTime?En(i.document.createTime):W.min(),l=new $t({mapValue:{fields:i.document.fields}}),u=mt.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Eu(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=bf(t,i.document),s=i.readTime?En(i.readTime):W.min(),a=mt.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Eu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=bf(t,i.document),s=i.removedTargetIds||[];n=new Eu([],s,r,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new h4(r,s),l=i.targetId;n=new WS(l,a)}}return n}function S4(t,e){let n;if(e instanceof ll)n={update:Rv(t,e.key,e.value)};else if(e instanceof XS)n={delete:Hd(t,e.key)};else if(e instanceof Fr)n={update:Rv(t,e.key,e.data),updateMask:O4(e.fieldMask)};else{if(!(e instanceof l4))return X(16599,{Vt:e.type});n={verify:Hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof dc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Lo)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Po)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof mc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw X(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:E4(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function A4(t,e){return t&&t.length>0?(ge(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?En(r.updateTime):En(s);return a.isEqual(W.min())&&(a=En(s)),new s4(a,r.transformResults||[])}(n,e))):[]}function w4(t,e){return{documents:[n1(t,e.path)]}}function R4(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=n1(t,r);const s=function(c){if(c.length!==0)return s1(An.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:is(g.field),direction:I4(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=zd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function C4(t){let e=T4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ge(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(m){const g=r1(m);return g instanceof An&&VS(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(x){return new fc(rs(x.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Qc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,p=m.values||[];return new hc(p,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,p=m.values||[];return new hc(p,g)}(n.endAt)),GO(e,r,a,s,l,"F",u,c)}function x4(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=rs(n.unaryFilter.field);return Ye.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=rs(n.unaryFilter.field);return Ye.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rs(n.unaryFilter.field);return Ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=rs(n.unaryFilter.field);return Ye.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(rs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(i=>r1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function I4(t){return p4[t]}function N4(t){return y4[t]}function D4(t){return _4[t]}function is(t){return{fieldPath:t.canonicalString()}}function rs(t){return ot.fromServerFormat(t.fieldPath)}function s1(t){return t instanceof Ye?function(n){if(n.op==="=="){if(dv(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NAN"}};if(fv(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dv(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NAN"}};if(fv(n.value))return{unaryFilter:{field:is(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:is(n.field),op:N4(n.op),value:n.value}}}(t):t instanceof An?function(n){const i=n.getFilters().map(r=>s1(r));return i.length===1?i[0]:{compositeFilter:{op:D4(n.op),filters:i}}}(t):X(54877,{filter:t})}function O4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,i,r,s=W.min(),a=W.min(),l=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.yt=e}}function V4(t){const e=C4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.Cn=new L4}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Yi.min())}updateCollectionGroup(e,n,i){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class L4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new $e(De.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new $e(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o1=41943040;class wt{static withCacheSize(e){return new wt(e,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wt.DEFAULT_COLLECTION_PERCENTILE=10,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wt.DEFAULT=new wt(o1,wt.DEFAULT_COLLECTION_PERCENTILE,wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wt.DISABLED=new wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gs(0)}static cr(){return new Gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",P4=1048576;function Iv([t,e],[n,i]){const r=ae(t,n);return r===0?ae(e,i):r}class U4{constructor(e){this.Ir=e,this.buffer=new $e(Iv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Iv(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){q(xv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){la(n)?q(xv,"Ignoring IndexedDB error during garbage collection: ",n):await oa(n)}await this.Vr(3e5)})}}class z4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Kc.ce);const i=new U4(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Cv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),r=this.params.maximumSequenceNumbersToCollect):r=m,a=Date.now(),this.nthSequenceNumber(e,r))).next(m=>(i=m,l=Date.now(),this.removeTargets(e,i,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(m=>(c=Date.now(),ts()<=se.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:m})))}}function B4(t,e){return new z4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.changes=new qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?U.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&co(i.mutation,r,rn.empty(),Ce.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,oe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=oe()){const r=yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=Ha();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,oe()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,i,r){let s=ti();const a=uo(),l=function(){return uo()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof Fr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),co(f.mutation,c,f.mutation.getFieldMask(),Ce.now())):a.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new q4(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(e,n){const i=uo();let r=new Me((a,l)=>a-l),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||rn.empty();f=l.applyToLocalView(c,f),i.set(u,f);const m=(r.get(l.batchId)||oe()).add(u);r=r.insert(l.batchId,m)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=HS();f.forEach(g=>{if(!s.has(g)){const p=YS(n.get(g),i.get(g));p!==null&&m.set(g,p),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,m))}return U.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return Q.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):U.resolve(yr());let l=Oo,u=s;return a.next(c=>U.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,oe())).next(f=>({batchId:l,changes:BS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(i=>{let r=Ha();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=Ha();return this.indexManager.getCollectionParents(e,s).next(l=>U.forEach(l,u=>{const c=function(m,g){return new $c(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(f=>{f.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,mt.newInvalidDocument(f)))});let l=Ha();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&co(f.mutation,c,rn.empty(),Ce.now()),Jc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:En(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:V4(r.bundledQuery),readTime:En(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.overlays=new Me(Q.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const i=yr();return U.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),U.resolve()}getOverlaysForCollection(e,n,i){const r=yr(),s=n.length+1,a=new Q(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Me((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=yr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=yr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return U.resolve(l)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new c4(n,i));let s=this.qr.get(n);s===void 0&&(s=oe(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.Qr=new $e(We.$r),this.Ur=new $e(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new We(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new We(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new Q(new De([])),i=new We(n,e),r=new We(n,e+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new De([])),i=new We(n,e),r=new We(n,e+1);let s=oe();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new We(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class We{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ae(e.Yr,n.Yr)}static Kr(e,n){return ae(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $e(We.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new u4(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new We(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?gg:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new We(n,0),r=new We(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new $e(ae);return n.forEach(r=>{const s=new We(r,0),a=new We(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),U.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Q.isDocumentKey(s)||(s=s.child(""));const a=new We(new Q(s),0);let l=new $e(ae);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Yr)),!0)},a),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return U.forEach(n.mutations,r=>{const s=new We(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new We(n,0),r=this.Zr.firstAfterOrEqual(i);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.ri=e,this.docs=function(){return new Me(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return U.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let i=ti();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():mt.newInvalidDocument(r))}),U.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=ti();const a=n.path,l=new Q(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||SO(bO(f),i)<=0||(r.has(f.key)||Jc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,i,r){X(9500)}ii(e,n){return U.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new X4(this)}getSize(e){return U.resolve(this.size)}}class X4 extends H4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.persistence=e,this.si=new qr(n=>_g(n),vg),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.oi=0,this._i=new wg,this.targetCount=0,this.ai=Gs.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(s).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return U.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),U.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return U.resolve(i)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new Q4,this.referenceDelegate=e(this),this.Pi=new J4(this),this.indexManager=new k4,this.remoteDocumentCache=function(r){return new $4(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new M4(n),this.Ii=new G4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new Y4(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new W4(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return U.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class W4 extends wO{constructor(e){super(),this.currentSequenceNumber=e}}class Rg{constructor(e){this.persistence=e,this.Ri=new wg,this.Vi=null}static mi(e){return new Rg(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),U.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,i=>{const r=Q.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,W.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class pc{constructor(e,n){this.persistence=e,this.pi=new qr(i=>xO(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=B4(this,n)}static mi(e,n){return new pc(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?U.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(i++,s.removeEntry(a,W.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yu(e.data.value)),n}br(e,n,i){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return U.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=oe(),r=oe();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Cg(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Nx()?8:RO(gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Z4;return this.Ss(e,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(ts()<=se.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(ts()<=se.DEBUG&&q("QueryEngine","Query:",ns(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ts()<=se.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):U.resolve())}ys(e,n){if(yv(n))return U.resolve(null);let i=vn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=jd(n,null,"F"),i=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=oe(...s);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,i).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,a,u.readTime)?this.ys(e,jd(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,i,r){return yv(n)||r.isEqual(W.min())?U.resolve(null):this.ps.getDocuments(e,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?U.resolve(null):(ts()<=se.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ns(n)),this.vs(e,a,n,TO(r,Oo)).next(l=>l))})}Ds(e,n){let i=new $e(jS(e));return n.forEach((r,s)=>{Jc(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return ts()<=se.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",ns(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",tM=3e8;class nM{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Me(ae),this.xs=new qr(s=>_g(s),vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function iM(t,e,n,i){return new nM(t,e,n,i)}async function u1(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=oe();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:l}))})})}function rM(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let p=U.resolve();return g.forEach(x=>{p=p.next(()=>f.getEntry(u,x)).next(N=>{const D=c.docVersions.get(x);ge(D!==null,48541),N.version.compareTo(D)<0&&(m.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=oe();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function c1(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function sM(t,e){const n=Z(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((f,m)=>{const g=r.get(m);if(!g)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m)));let p=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(ct.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,i)),r=r.insert(m,p),function(N,D,T){return N.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=tM?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,p,f)&&l.push(n.Pi.updateTargetData(s,p))});let u=ti(),c=oe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(aM(s,a,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!i.isEqual(W.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return U.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=r,s))}function aM(t,e,n){let i=oe(),r=oe();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=ti();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual(W.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):q(xg,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:r}})}function oM(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function lM(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,U.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new Ii(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Fd(t,e,n){const i=Z(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!la(a))throw a;q(xg,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function Nv(t,e,n){const i=Z(t);let r=W.min(),s=oe();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const m=Z(u),g=m.xs.get(f);return g!==void 0?U.resolve(m.Ms.get(g)):m.Pi.getTargetData(c,f)}(i,a,vn(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,e,n?r:W.min(),n?s:oe())).next(l=>(uM(i,YO(e),l),{documents:l,Qs:s})))}function uM(t,e,n){let i=t.Os.get(e)||W.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class Dv{constructor(){this.activeTargetIds=e4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cM{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){q(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){q(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=null;function Gd(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",fM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===uc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const a=Gd(),l=this.zo(e,n.toUriEncodedString());q(Sf,`Sending RPC '${e}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:c}=new URL(l),f=ia(c);return this.Jo(e,l,u,i,f).then(m=>(q(Sf,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Bs(Sf,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",i),m})}Ho(e,n,i,r,s,a){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=fM[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class gM extends dM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const a=Gd();return new Promise((l,u)=>{const c=new mS;c.setWithCredentials(!0),c.listenOnce(gS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case pu.NO_ERROR:const m=c.getResponseJson();q(ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case pu.TIMEOUT:q(ft,`RPC '${e}' ${a} timed out`),u(new G(j.DEADLINE_EXCEEDED,"Request time out"));break;case pu.HTTP_ERROR:const g=c.getStatus();if(q(ft,`RPC '${e}' ${a} failed with status:`,g,"response text:",c.getResponseText()),g>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const x=p==null?void 0:p.error;if(x&&x.status&&x.message){const N=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(x.status);u(new G(N,x.message))}else u(new G(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new G(j.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{q(ft,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(r);q(ft,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(e,n,i){const r=Gd(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_S(),l=yS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");q(ft,`Creating RPC '${e}' stream ${r}: ${f}`,u);const m=a.createWebChannel(f,u);this.I_(m);let g=!1,p=!1;const x=new mM({Yo:D=>{p?q(ft,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(g||(q(ft,`Opening RPC '${e}' stream ${r} transport.`),m.open(),g=!0),q(ft,`RPC '${e}' stream ${r} sending:`,D),m.send(D))},Zo:()=>m.close()}),N=(D,T,_)=>{D.listen(T,w=>{try{_(w)}catch(O){setTimeout(()=>{throw O},0)}})};return N(m,Ba.EventType.OPEN,()=>{p||(q(ft,`RPC '${e}' stream ${r} transport opened.`),x.o_())}),N(m,Ba.EventType.CLOSE,()=>{p||(p=!0,q(ft,`RPC '${e}' stream ${r} transport closed`),x.a_(),this.E_(m))}),N(m,Ba.EventType.ERROR,D=>{p||(p=!0,Bs(ft,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),x.a_(new G(j.UNAVAILABLE,"The operation could not be completed")))}),N(m,Ba.EventType.MESSAGE,D=>{var T;if(!p){const _=D.data[0];ge(!!_,16349);const w=_,O=(w==null?void 0:w.error)||((T=w[0])==null?void 0:T.error);if(O){q(ft,`RPC '${e}' stream ${r} received error:`,O);const M=O.status;let z=function(b){const C=ze[b];if(C!==void 0)return JS(C)}(M),E=O.message;z===void 0&&(z=j.INTERNAL,E="Unknown error status: "+M+" with message "+O.message),p=!0,x.a_(new G(z,E)),m.close()}else q(ft,`RPC '${e}' stream ${r} received:`,_),x.u_(_)}}),N(l,pS.STAT_EVENT,D=>{D.stat===Md.PROXY?q(ft,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Md.NOPROXY&&q(ft,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new v4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class f1{constructor(e,n,i,r,s,a,l,u){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new G(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(q(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pM extends f1{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b4(this.serializer,e),i=function(s){if(!("targetChange"in s))return W.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?W.min():a.readTime?En(a.readTime):W.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=qd(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=Ud(u)?{documents:w4(s,u)}:{query:R4(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=e1(s,a.resumeToken);const c=zd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo(W.min())>0){l.readTime=gc(s,a.snapshotVersion.toTimestamp());const c=zd(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const i=x4(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=qd(this.serializer),n.removeTarget=e,this.q_(n)}}class yM extends f1{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=A4(e.writeResults,e.commitTime),i=En(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=qd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>S4(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{}class vM extends _M{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Bd(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(j.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Bd(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new G(j.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class EM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ei(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="RemoteStore";class TM{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{Gr(this)&&(q(Vr,"Restarting streams for network reachability change."),await async function(u){const c=Z(u);c.Ea.add(4),await cl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await nh(c)}(this))})}),this.Ra=new EM(i,r)}}async function nh(t){if(Gr(t))for(const e of t.da)await e(!0)}async function cl(t){for(const e of t.da)await e(!1)}function d1(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Og(n)?Dg(n):ua(n).O_()&&Ng(n,e))}function Ig(t,e){const n=Z(t),i=ua(n);n.Ia.delete(e),i.O_()&&m1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Gr(n)&&n.Ra.set("Unknown"))}function Ng(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(W.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).Y_(e)}function m1(t,e){t.Va.Ue(e),ua(t).Z_(e)}function Dg(t){t.Va=new g4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.Ra.ua()}function Og(t){return Gr(t)&&!ua(t).x_()&&t.Ia.size>0}function Gr(t){return Z(t).Ea.size===0}function g1(t){t.Va=void 0}async function bM(t){t.Ra.set("Online")}async function SM(t){t.Ia.forEach((e,n)=>{Ng(t,e)})}async function AM(t,e){g1(t),Og(t)?(t.Ra.ha(e),Dg(t)):t.Ra.set("Unknown")}async function wM(t,e,n){if(t.Ra.set("Online"),e instanceof ZS&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(i){q(Vr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yc(t,i)}else if(e instanceof Eu?t.Va.Ze(e):e instanceof WS?t.Va.st(e):t.Va.tt(e),!n.isEqual(W.min()))try{const i=await c1(t.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),m1(s,u);const m=new Ii(f.target,u,c,f.sequenceNumber);Ng(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(i){q(Vr,"Failed to raise snapshot:",i),await yc(t,i)}}async function yc(t,e,n){if(!la(e))throw e;t.Ea.add(1),await cl(t),t.Ra.set("Offline"),n||(n=()=>c1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(Vr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nh(t)})}function p1(t,e){return e().catch(n=>yc(t,n,e))}async function ih(t){const e=Z(t),n=Wi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gg;for(;RM(e);)try{const r=await oM(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,CM(e,r)}catch(r){await yc(e,r)}y1(e)&&_1(e)}function RM(t){return Gr(t)&&t.Ta.length<10}function CM(t,e){t.Ta.push(e);const n=Wi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function y1(t){return Gr(t)&&!Wi(t).x_()&&t.Ta.length>0}function _1(t){Wi(t).start()}async function xM(t){Wi(t).ra()}async function IM(t){const e=Wi(t);for(const n of t.Ta)e.ea(n.mutations)}async function NM(t,e,n){const i=t.Ta.shift(),r=bg.from(i,e,n);await p1(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ih(t)}async function DM(t,e){e&&Wi(t).X_&&await async function(i,r){if(function(a){return f4(a)&&a!==j.ABORTED}(r.code)){const s=i.Ta.shift();Wi(i).B_(),await p1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ih(i)}}(t,e),y1(t)&&_1(t)}async function kv(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),q(Vr,"RemoteStore received new credentials");const i=Gr(n);n.Ea.add(3),await cl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nh(n)}async function OM(t,e){const n=Z(t);e?(n.Ea.delete(2),await nh(n)):e||(n.Ea.add(2),await cl(n),n.Ra.set("Unknown"))}function ua(t){return t.ma||(t.ma=function(n,i,r){const s=Z(n);return s.sa(),new pM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:bM.bind(null,t),t_:SM.bind(null,t),r_:AM.bind(null,t),H_:wM.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Og(t)?Dg(t):t.Ra.set("Unknown")):(await t.ma.stop(),g1(t))})),t.ma}function Wi(t){return t.fa||(t.fa=function(n,i,r){const s=Z(n);return s.sa(),new yM(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xM.bind(null,t),r_:DM.bind(null,t),ta:IM.bind(null,t),na:NM.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ih(t)):(await t.fa.stop(),t.Ta.length>0&&(q(Vr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,l=new Mg(e,n,a,r,s);return l.start(i),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(t,e){if(ei("AsyncQueue",`${e}: ${t}`),la(t))return new G(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static emptySet(e){return new xs(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Q.comparator(n.key,i.key):(n,i)=>Q.comparator(n.key,i.key),this.keyedMap=Ha(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new xs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.ga=new Me(Q.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ks{constructor(e,n,i,r,s,a,l,u,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ks(e,n,xs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class VM{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Z(n),s=r.queries;r.queries=Pv(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new G(j.ABORTED,"Firestore shutting down"))}}function Pv(){return new qr(t=>US(t),Xc)}async function kM(t,e){const n=Z(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new MM,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=Vg(a,`Initialization of query '${ns(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&kg(n)}async function LM(t,e){const n=Z(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function PM(t,e){const n=Z(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&kg(n)}function UM(t,e,n){const i=Z(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function kg(t){t.Ca.forEach(e=>{e.next()})}var Kd,Uv;(Uv=Kd||(Kd={})).Ma="default",Uv.Cache="cache";class jM{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ks(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class zM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=oe(),this.mutatedKeys=oe(),this.eu=jS(e),this.tu=new xs(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new Lv,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{const g=r.get(f),p=Jc(this.query,m)?m:null,x=!!g&&this.mutatedKeys.has(g.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;g&&p?g.data.isEqual(p.data)?x!==N&&(i.track({type:3,doc:p}),D=!0):this.su(g,p)||(i.track({type:2,doc:p}),D=!0,(u&&this.eu(p,u)>0||c&&this.eu(p,c)<0)&&(l=!0)):!g&&p?(i.track({type:0,doc:p}),D=!0):g&&!p&&(i.track({type:1,doc:g}),D=!0,(u||c)&&(l=!0)),D&&(p?(a=a.add(p),s=N?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,m)=>function(p,x){const N=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:D})}};return N(p)-N(x)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new Ks(this.query,e.tu,s,a,e.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=oe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new E1(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new v1(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ks.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lg="SyncEngine";class BM{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class HM{constructor(e){this.key=e,this.hu=!1}}class qM{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new qr(l=>US(l),Xc),this.Iu=new Map,this.Eu=new Set,this.du=new Me(Q.comparator),this.Au=new Map,this.Ru=new wg,this.Vu={},this.mu=new Map,this.fu=Gs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FM(t,e,n=!0){const i=R1(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await T1(i,e,n,!0),r}async function GM(t,e){const n=R1(t);await T1(n,e,!0,!1)}async function T1(t,e,n,i){const r=await lM(t.localStore,vn(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await KM(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&d1(t.remoteStore,r),l}async function KM(t,e,n,i,r){t.pu=(m,g,p)=>async function(N,D,T,_){let w=D.view.ru(T);w.Cs&&(w=await Nv(N.localStore,D.query,!1).then(({documents:E})=>D.view.ru(E,w)));const O=_&&_.targetChanges.get(D.targetId),M=_&&_.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(w,N.isPrimaryClient,O,M);return zv(N,D.targetId,z.au),z.snapshot}(t,m,g,p);const s=await Nv(t.localStore,e,!0),a=new zM(e,s.Qs),l=a.ru(s.documents),u=ul.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(l,t.isPrimaryClient,u);zv(t,n,c.au);const f=new BM(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function QM(t,e,n){const i=Z(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!Xc(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Fd(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Ig(i.remoteStore,r.targetId),Qd(i,r.targetId)}).catch(oa)):(Qd(i,r.targetId),await Fd(i.localStore,r.targetId,!0))}async function YM(t,e){const n=Z(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Ig(n.remoteStore,i.targetId))}async function $M(t,e,n){const i=nV(t);try{const r=await function(a,l){const u=Z(a),c=Ce.now(),f=l.reduce((p,x)=>p.add(x.key),oe());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let x=ti(),N=oe();return u.Ns.getEntries(p,f).next(D=>{x=D,x.forEach((T,_)=>{_.isValidDocument()||(N=N.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,x)).next(D=>{m=D;const T=[];for(const _ of l){const w=o4(_,m.get(_.key).overlayedDocument);w!=null&&T.push(new Fr(_.key,w,DS(w.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,T,l)}).next(D=>{g=D;const T=D.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(p,D.batchId,T)})}).then(()=>({batchId:g.batchId,changes:BS(m)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new Me(ae)),c=c.insert(l,u),a.Vu[a.currentUser.toKey()]=c}(i,r.batchId,n),await hl(i,r.changes),await ih(i.remoteStore)}catch(r){const s=Vg(r,"Failed to persist write");n.reject(s)}}async function b1(t,e){const n=Z(t);try{const i=await sM(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(ge(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ge(a.hu,14607):r.removedDocuments.size>0&&(ge(a.hu,42227),a.hu=!1))}),await hl(n,i,e)}catch(i){await oa(i)}}function jv(t,e,n){const i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=Z(a);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.Sa)g.va(l)&&(c=!0)}),c&&kg(u)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function XM(t,e,n){const i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new Me(Q.comparator);a=a.insert(s,mt.newNoDocument(s,W.min()));const l=oe().add(s),u=new eh(W.min(),new Map,new Me(ae),a,l);await b1(i,u),i.du=i.du.remove(s),i.Au.delete(e),Pg(i)}else await Fd(i.localStore,e,!1).then(()=>Qd(i,e,n)).catch(oa)}async function JM(t,e){const n=Z(t),i=e.batch.batchId;try{const r=await rM(n.localStore,e);A1(n,i,null),S1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await hl(n,r)}catch(r){await oa(r)}}async function WM(t,e,n){const i=Z(t);try{const r=await function(a,l){const u=Z(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(ge(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,e);A1(i,e,n),S1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await hl(i,r)}catch(r){await oa(r)}}function S1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function A1(t,e,n){const i=Z(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Qd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||w1(t,i)})}function w1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ig(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Pg(t))}function zv(t,e,n){for(const i of n)i instanceof v1?(t.Ru.addReference(i.key,e),ZM(t,i)):i instanceof E1?(q(Lg,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||w1(t,i.key)):X(19791,{wu:i})}function ZM(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(q(Lg,"New document in limbo: "+n),t.Eu.add(i),Pg(t))}function Pg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(De.fromString(e)),i=t.fu.next();t.Au.set(i,new HM(n)),t.du=t.du.insert(n,i),d1(t.remoteStore,new Ii(vn(Eg(n.path)),i,"TargetPurposeLimboResolution",Kc.ce))}}async function hl(t,e,n){const i=Z(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,e,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){r.push(c);const m=Cg.As(u.targetId,c);s.push(m)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,c){const f=Z(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(c,g=>U.forEach(g.Es,p=>f.persistence.referenceDelegate.addReference(m,g.targetId,p)).next(()=>U.forEach(g.ds,p=>f.persistence.referenceDelegate.removeReference(m,g.targetId,p)))))}catch(m){if(!la(m))throw m;q(xg,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const p=f.Ms.get(g),x=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(g,N)}}}(i.localStore,s))}async function eV(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){q(Lg,"User change. New user:",e.toKey());const i=await u1(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new G(j.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await hl(n,i.Ls)}}function tV(t,e){const n=Z(t),i=n.Au.get(e);if(i&&i.hu)return oe().add(i.key);{let r=oe();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function R1(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=b1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XM.bind(null,e),e.Pu.H_=PM.bind(null,e.eventManager),e.Pu.yu=UM.bind(null,e.eventManager),e}function nV(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WM.bind(null,e),e}class _c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iM(this.persistence,new eM,e.initialUser,this.serializer)}Cu(e){return new l1(Rg.mi,this.serializer)}Du(e){return new cM}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_c.provider={build:()=>new _c};class iV extends _c{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ge(this.persistence.referenceDelegate instanceof pc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new j4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?wt.withCacheSize(this.cacheSizeBytes):wt.DEFAULT;return new l1(i=>pc.mi(i,n),this.serializer)}}class Yd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eV.bind(null,this.syncEngine),await OM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VM}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),i=function(s){return new gM(s)}(e.databaseInfo);return function(s,a,l,u){return new vM(s,a,l,u)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,l){return new TM(i,r,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>jv(this.syncEngine,n,0),function(){return Mv.v()?new Mv:new hM}())}createSyncEngine(e,n){return function(r,s,a,l,u,c,f){const m=new qM(r,s,a,l,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=Z(r);q(Vr,"RemoteStore shutting down."),s.Ea.add(5),await cl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Yd.provider={build:()=>new Yd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class sV{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=dt.UNAUTHENTICATED,this.clientId=dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{q(Zi,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(q(Zi,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Vg(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),q(Zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await u1(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Bv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aV(t);q(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>kv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>kv(e.remoteStore,r)),t._onlineComponents=e}async function aV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Zi,"Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Bs("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new _c)}}else q(Zi,"Using default OfflineComponentProvider"),await wf(t,new iV(void 0));return t._offlineComponents}async function C1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Zi,"Using user provided OnlineComponentProvider"),await Bv(t,t._uninitializedComponentsProvider._online)):(q(Zi,"Using default OnlineComponentProvider"),await Bv(t,new Yd))),t._onlineComponents}function oV(t){return C1(t).then(e=>e.syncEngine)}async function lV(t){const e=await C1(t),n=e.eventManager;return n.onListen=FM.bind(null,e.syncEngine),n.onUnlisten=QM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YM.bind(null,e.syncEngine),n}function uV(t,e,n={}){const i=new qi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new rV({next:g=>{f.Nu(),a.enqueueAndForget(()=>LM(s,m));const p=g.docs.has(l);!p&&g.fromCache?c.reject(new G(j.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&u&&u.source==="server"?c.reject(new G(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new jM(Eg(l.path),f,{includeMetadataChanges:!0,qa:!0});return kM(s,m)}(await lV(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firestore.googleapis.com",qv=!0;class Fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P4)throw new G(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x1(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ug{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uO;switch(i.type){case"firstParty":return new dO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new G(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Hv.get(n);i&&(q("ComponentProvider","Removing Datastore"),Hv.delete(n),i.terminate())}(this),Promise.resolve()}}function cV(t,e,n,i={}){var c;t=Do(t,Ug);const r=ia(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&(wb(`https://${l}`),Rb("Firestore",!0)),s.host!==I1&&s.host!==l&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!Ir(u,a)&&(t._setSettings(u),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=dt.MOCK_USER;else{f=Tx(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new G(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new dt(g)}t._authCredentials=new cO(new ES(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new jg(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ol(n,tt._jsonSchema))return new tt(e,i||null,new Q(De.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:Ge("string",tt._jsonSchemaVersion),referencePath:Ge("string")};class Uo extends jg{constructor(e,n,i){super(e,n,Eg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new Q(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function N1(t,e,...n){if(t=an(t),arguments.length===1&&(e=dg.newId()),vO("doc","path",e),t instanceof Ug){const i=De.fromString(e,...n);return rv(i),new tt(t,null,new Q(i))}{if(!(t instanceof tt||t instanceof Uo))throw new G(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(De.fromString(e,...n));return rv(i),new tt(t.firestore,t instanceof Uo?t.converter:null,new Q(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Kv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h1(this,"async_queue_retry"),this._c=()=>{const i=Af();i&&q(Gv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!la(e))throw e;q(Gv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,ei("INTERNAL UNHANDLED ERROR: ",Qv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Mg.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&X(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Qv(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zg extends Ug{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Kv,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kv(e),this._firestoreClient=void 0,await e}}}function hV(t,e){const n=typeof t=="object"?t:Nb(),i=typeof t=="string"?t:uc,r=ig(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=vx("firestore");s&&cV(r,...s)}return r}function D1(t){if(t._terminated)throw new G(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fV(t),t._firestoreClient}function fV(t){var i,r,s;const e=t._freezeSettings(),n=function(l,u,c,f){return new DO(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,x1(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new sV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xt(ct.fromBase64String(e))}catch(n){throw new G(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xt(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ol(e,Xt._jsonSchema))return Xt.fromBase64String(e.bytes)}}Xt._jsonSchemaVersion="firestore/bytes/1.0",Xt._jsonSchema={type:Ge("string",Xt._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tn._jsonSchemaVersion}}static fromJSON(e){if(ol(e,Tn._jsonSchema))return new Tn(e.latitude,e.longitude)}}Tn._jsonSchemaVersion="firestore/geoPoint/1.0",Tn._jsonSchema={type:Ge("string",Tn._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ol(e,bn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bn(e.vectorValues);throw new G(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bn._jsonSchemaVersion="firestore/vectorValue/1.0",bn._jsonSchema={type:Ge("string",bn._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=/^__.*__$/;class mV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ll(e,this.data,n,this.fieldTransforms)}}function M1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class Hg{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(M1(this.Ac)&&dV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||th(e)}Cc(e,n,i,r=!1){return new Hg({Ac:e,methodName:n,Dc:i,path:ot.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pV(t){const e=t._freezeSettings(),n=th(t._databaseId);return new gV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yV(t,e,n,i,r,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);P1("Data must be an object, but it was:",a,i);const l=k1(i,a);let u,c;if(s.merge)u=new rn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const g=_V(e,m,n);if(!a.contains(g))throw new G(j.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);EV(f,g)||f.push(g)}u=new rn(f),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new mV(new $t(l),u,c)}function V1(t,e){if(L1(t=an(t)))return P1("Unsupported field value:",e,t),k1(t,e);if(t instanceof O1)return function(i,r){if(!M1(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=V1(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return t4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ce.fromDate(i);return{timestampValue:gc(r.serializer,s)}}if(i instanceof Ce){const s=new Ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gc(r.serializer,s)}}if(i instanceof Tn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xt)return{bytesValue:e1(r.serializer,i._byteString)};if(i instanceof tt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ag(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof bn)return function(a,l){return{mapValue:{fields:{[IS]:{stringValue:NS},[cc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Tg(l.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${mg(i)}`)}(t,e)}function k1(t,e){const n={};return SS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(i,r)=>{const s=V1(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function L1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ce||t instanceof Tn||t instanceof Xt||t instanceof tt||t instanceof O1||t instanceof bn)}function P1(t,e,n){if(!L1(n)||!TS(n)){const i=mg(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function _V(t,e,n){if((e=an(e))instanceof Bg)return e._internalPath;if(typeof e=="string")return U1(t,e);throw vc("Field path arguments must be of type string or ",t,!1,void 0,n)}const vV=new RegExp("[~\\*/\\[\\]]");function U1(t,e,n){if(e.search(vV)>=0)throw vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bg(...e.split("."))._internalPath}catch{throw vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vc(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new G(j.INVALID_ARGUMENT,l+t+u)}function EV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TV extends j1{data(){return super.data()}}function z1(t,e){return typeof e=="string"?U1(t,e):e instanceof Bg?e._internalPath:e._delegate._internalPath}class bV{convertValue(e,n="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Hr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[cc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>Pe(a.doubleValue));return new bn(n)}convertGeoPoint(e){return new Tn(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Yc(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const n=$i(e);return new Ce(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=De.fromString(e);ge(a1(i),9688,{name:e});const r=new Vo(i.get(1),i.get(3)),s=new Q(i.popFirst(5));return r.isEqual(n)||ei(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Fa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sr extends j1{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(z1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Sr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Sr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Sr._jsonSchema={type:Ge("string",Sr._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class Tu extends Sr{data(e={}){return super.data(e)}}class ho{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Fa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Tu(this._firestore,this._userDataWriter,i.key,i,new Fa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new Tu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Tu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Fa(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:AV(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){t=Do(t,tt);const e=Do(t.firestore,zg);return uV(D1(e),t._key).then(n=>IV(e,t,n))}ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Ge("string",ho._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class RV extends bV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function CV(t,e,n){t=Do(t,tt);const i=Do(t.firestore,zg),r=SV(t.converter,e);return xV(i,[yV(pV(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Gn.none())])}function xV(t,e){return function(i,r){const s=new qi;return i.asyncQueue.enqueueAndForget(async()=>$M(await oV(i),r,s)),s.promise}(D1(t),e)}function IV(t,e,n){const i=n.docs.get(e._key),r=new RV(t);return new Sr(t,r,e._key,i,new Fa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){aa=r})(ra),zs(new Nr("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new zg(new hO(i.getProvider("auth-internal")),new mO(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(c.options.projectId,f)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Bi(ev,tv,e),Bi(ev,tv,"esm2020")})();const NV={apiKey:"AIzaSyDcpfRCigb-qg9ra900H3YcA5JStz0XmOw",authDomain:"project-854e9478.firebaseapp.com",projectId:"project-854e9478",storageBucket:"project-854e9478.firebasestorage.app",messagingSenderId:"431874399191",appId:"1:431874399191:web:5be93308bdeeb496c24992"},B1=Ib(NV),Yv=oO(B1),H1=hV(B1);async function DV(t,e){await CV(N1(H1,"records",t),{records:e})}async function OV(t){const e=await wV(N1(H1,"records",t));return e.exists()?e.data().records:null}function MV(){const[t,e]=k.useState(null),[n,i]=k.useState(!1),[r,s]=k.useState("");return{user:t,loading:n,error:r,login:async(u,c)=>{i(!0),s("");try{const f=await YN(Yv,u,c);return e(f.user),i(!1),f.user}catch(f){return s(f.message),i(!1),null}},signup:async(u,c)=>{i(!0),s("");try{const f=await QN(Yv,u,c);return e(f.user),i(!1),f.user}catch(f){return s(f.message),i(!1),null}}}}function VV(t){const[e,n]=k.useState([]),[i,r]=k.useState(!1);return k.useEffect(()=>{t&&(r(!0),OV(t).then(a=>{n(a||[]),r(!1)}))},[t]),{records:e,saveRecords:async a=>{r(!0),await DV(t,a),n(a),r(!1)},loading:i}}function kV(){const{user:t,error:e,login:n,signup:i}=MV(),[r,s]=jn.useState("login"),a=(t==null?void 0:t.email)||(t==null?void 0:t.uid),{records:l,saveRecords:u}=VV(a),c=async(f,m,g)=>{g?await i(f,m)?(alert(" .  ."),s("login")):alert(e||" "):await n(f,m)||alert(e||"    .")};return t?R.jsx(jc.Provider,{value:{user:t,medications:l,updateMedication:u},children:R.jsx(DC,{children:R.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-pink-100 via-blue-100 to-green-100 flex flex-col",children:[R.jsx(WC,{}),R.jsx(JC,{}),R.jsx("main",{className:"flex-1 flex justify-center items-start py-10 animate-fade-in",children:R.jsx("section",{className:"w-full max-w-4xl bg-white/90 backdrop-blur-2xl shadow-2xl rounded-3xl p-10 border border-white/40",children:R.jsx(ex,{children:R.jsxs(lC,{children:[R.jsx(lu,{path:"/",element:R.jsx(ix,{})}),R.jsx(lu,{path:"/today",element:R.jsx(ux,{})}),R.jsx(lu,{path:"/stats",element:R.jsx(cx,{})})]})})})})]})})}):R.jsx(ZC,{mode:r,onAuth:c,onModeChange:s})}g2.createRoot(document.getElementById("root")).render(R.jsx(kV,{}));
